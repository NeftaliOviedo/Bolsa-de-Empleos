!function(e){function t(i){if(n[i])return n[i].exports;var a=n[i]={exports:{},id:i,loaded:!1};return e[i].call(a.exports,a,a.exports,t),a.loaded=!0,a.exports}var n={};return t.m=e,t.c=n,t.p="",t(0)}([function(e,t,n){e.exports=n(1)},function(e,t,n){(function(e){"use strict";function t(e){return e&&e.__esModule?e:{default:e}}var i=n(5),a=(t(i),n(6)),r=(t(a),n(7)),s=(t(r),n(8)),o=(t(s),n(40)),l=t(o),u=n(41),c=(t(u),n(42)),d=(t(c),n(43)),h=(t(d),n(44)),f=(t(h),n(45)),p=(t(f),n(46)),m=(t(p),n(47)),g=(t(m),n(48)),v=(t(g),n(50)),y=t(v),_=n(51),b=(t(_),n(52)),T=(t(b),n(53)),k=(t(T),n(54)),S=(t(k),n(55)),C=(t(S),n(56)),w=(t(C),n(57)),E=(t(w),n(58)),A=(t(E),n(59)),I=(t(A),n(60)),L=(t(I),n(61)),x=t(L),P=n(62),O=t(P),D=n(63),N=(t(D),n(64)),M=t(N),R=n(68),B=(t(R),n(49)),j=(t(B),n(69)),U=(t(j),n(70)),H=(t(U),n(71)),F=(t(H),n(72)),z=(t(F),n(74)),K=t(z),G=n(75),V=t(G),W=n(76),q=(t(W),n(77));t(q);e(function(){(0,l.default)(e),(0,K.default)(e),(0,V.default)(e),(0,x.default)(e),(0,y.default)(e),(0,O.default)(e),(0,M.default)(e),e.rvFontsize({targetSection:".row-detail-content",variations:3,store:!1,controllers:{appendTo:'[data-ui="fontsizer"]',showResetButton:!0,template:'<a href="#" class="rvfs-decrease" title="Decrease font size">A</a><a href="#" class="rvfs-reset disabled" title="Default font size">A</a><a href="#" class="rvfs-increase" title="Increase font size">A</a>'}})})}).call(t,n(2))},function(e,t,n){(function(t){e.exports=t.jQuery=n(3)}).call(t,function(){return this}())},function(e,t,n){(function(t){e.exports=t.$=n(4)}).call(t,function(){return this}())},function(e,t,n){var i,a;/*!
	 * jQuery JavaScript Library v3.4.1
	 * https://jquery.com/
	 *
	 * Includes Sizzle.js
	 * https://sizzlejs.com/
	 *
	 * Copyright JS Foundation and other contributors
	 * Released under the MIT license
	 * https://jquery.org/license
	 *
	 * Date: 2019-05-01T21:04Z
	 */
!function(t,n){"use strict";"object"==typeof e&&"object"==typeof e.exports?e.exports=t.document?n(t,!0):function(e){if(!e.document)throw new Error("jQuery requires a window with a document");return n(e)}:n(t)}("undefined"!=typeof window?window:this,function(n,r){"use strict";function s(e,t,n){n=n||he;var i,a,r=n.createElement("script");if(r.text=e,t)for(i in Ee)a=t[i]||t.getAttribute&&t.getAttribute(i),a&&r.setAttribute(i,a);n.head.appendChild(r).parentNode.removeChild(r)}function o(e){return null==e?e+"":"object"==typeof e||"function"==typeof e?ye[_e.call(e)]||"object":typeof e}function l(e){var t=!!e&&"length"in e&&e.length,n=o(e);return!Ce(e)&&!we(e)&&("array"===n||0===t||"number"==typeof t&&t>0&&t-1 in e)}function u(e,t){return e.nodeName&&e.nodeName.toLowerCase()===t.toLowerCase()}function c(e,t,n){return Ce(t)?Ie.grep(e,function(e,i){return!!t.call(e,i,e)!==n}):t.nodeType?Ie.grep(e,function(e){return e===t!==n}):"string"!=typeof t?Ie.grep(e,function(e){return ve.call(t,e)>-1!==n}):Ie.filter(t,e,n)}function d(e,t){for(;(e=e[t])&&1!==e.nodeType;);return e}function h(e){var t={};return Ie.each(e.match(He)||[],function(e,n){t[n]=!0}),t}function f(e){return e}function p(e){throw e}function m(e,t,n,i){var a;try{e&&Ce(a=e.promise)?a.call(e).done(t).fail(n):e&&Ce(a=e.then)?a.call(e,t,n):t.apply(void 0,[e].slice(i))}catch(e){n.apply(void 0,[e])}}function g(){he.removeEventListener("DOMContentLoaded",g),n.removeEventListener("load",g),Ie.ready()}function v(e,t){return t.toUpperCase()}function y(e){return e.replace(Ge,"ms-").replace(Ve,v)}function _(){this.expando=Ie.expando+_.uid++}function b(e){return"true"===e||"false"!==e&&("null"===e?null:e===+e+""?+e:Ye.test(e)?JSON.parse(e):e)}function T(e,t,n){var i;if(void 0===n&&1===e.nodeType)if(i="data-"+t.replace(Xe,"-$&").toLowerCase(),n=e.getAttribute(i),"string"==typeof n){try{n=b(n)}catch(e){}$e.set(e,t,n)}else n=void 0;return n}function k(e,t,n,i){var a,r,s=20,o=i?function(){return i.cur()}:function(){return Ie.css(e,t,"")},l=o(),u=n&&n[3]||(Ie.cssNumber[t]?"":"px"),c=e.nodeType&&(Ie.cssNumber[t]||"px"!==u&&+l)&&Je.exec(Ie.css(e,t));if(c&&c[3]!==u){for(l/=2,u=u||c[3],c=+l||1;s--;)Ie.style(e,t,c+u),(1-r)*(1-(r=o()/l||.5))<=0&&(s=0),c/=r;c*=2,Ie.style(e,t,c+u),n=n||[]}return n&&(c=+c||+l||0,a=n[1]?c+(n[1]+1)*n[2]:+n[2],i&&(i.unit=u,i.start=c,i.end=a)),a}function S(e){var t,n=e.ownerDocument,i=e.nodeName,a=rt[i];return a?a:(t=n.body.appendChild(n.createElement(i)),a=Ie.css(t,"display"),t.parentNode.removeChild(t),"none"===a&&(a="block"),rt[i]=a,a)}function C(e,t){for(var n,i,a=[],r=0,s=e.length;r<s;r++)i=e[r],i.style&&(n=i.style.display,t?("none"===n&&(a[r]=qe.get(i,"display")||null,a[r]||(i.style.display="")),""===i.style.display&&it(i)&&(a[r]=S(i))):"none"!==n&&(a[r]="none",qe.set(i,"display",n)));for(r=0;r<s;r++)null!=a[r]&&(e[r].style.display=a[r]);return e}function w(e,t){var n;return n="undefined"!=typeof e.getElementsByTagName?e.getElementsByTagName(t||"*"):"undefined"!=typeof e.querySelectorAll?e.querySelectorAll(t||"*"):[],void 0===t||t&&u(e,t)?Ie.merge([e],n):n}function E(e,t){for(var n=0,i=e.length;n<i;n++)qe.set(e[n],"globalEval",!t||qe.get(t[n],"globalEval"))}function A(e,t,n,i,a){for(var r,s,l,u,c,d,h=t.createDocumentFragment(),f=[],p=0,m=e.length;p<m;p++)if(r=e[p],r||0===r)if("object"===o(r))Ie.merge(f,r.nodeType?[r]:r);else if(ct.test(r)){for(s=s||h.appendChild(t.createElement("div")),l=(ot.exec(r)||["",""])[1].toLowerCase(),u=ut[l]||ut._default,s.innerHTML=u[1]+Ie.htmlPrefilter(r)+u[2],d=u[0];d--;)s=s.lastChild;Ie.merge(f,s.childNodes),s=h.firstChild,s.textContent=""}else f.push(t.createTextNode(r));for(h.textContent="",p=0;r=f[p++];)if(i&&Ie.inArray(r,i)>-1)a&&a.push(r);else if(c=tt(r),s=w(h.appendChild(r),"script"),c&&E(s),n)for(d=0;r=s[d++];)lt.test(r.type||"")&&n.push(r);return h}function I(){return!0}function L(){return!1}function x(e,t){return e===P()==("focus"===t)}function P(){try{return he.activeElement}catch(e){}}function O(e,t,n,i,a,r){var s,o;if("object"==typeof t){"string"!=typeof n&&(i=i||n,n=void 0);for(o in t)O(e,o,n,i,t[o],r);return e}if(null==i&&null==a?(a=n,i=n=void 0):null==a&&("string"==typeof n?(a=i,i=void 0):(a=i,i=n,n=void 0)),a===!1)a=L;else if(!a)return e;return 1===r&&(s=a,a=function(e){return Ie().off(e),s.apply(this,arguments)},a.guid=s.guid||(s.guid=Ie.guid++)),e.each(function(){Ie.event.add(this,t,a,i,n)})}function D(e,t,n){return n?(qe.set(e,t,!1),void Ie.event.add(e,t,{namespace:!1,handler:function(e){var i,a,r=qe.get(this,t);if(1&e.isTrigger&&this[t]){if(r.length)(Ie.event.special[t]||{}).delegateType&&e.stopPropagation();else if(r=pe.call(arguments),qe.set(this,t,r),i=n(this,t),this[t](),a=qe.get(this,t),r!==a||i?qe.set(this,t,!1):a={},r!==a)return e.stopImmediatePropagation(),e.preventDefault(),a.value}else r.length&&(qe.set(this,t,{value:Ie.event.trigger(Ie.extend(r[0],Ie.Event.prototype),r.slice(1),this)}),e.stopImmediatePropagation())}})):void(void 0===qe.get(e,t)&&Ie.event.add(e,t,I))}function N(e,t){return u(e,"table")&&u(11!==t.nodeType?t:t.firstChild,"tr")?Ie(e).children("tbody")[0]||e:e}function M(e){return e.type=(null!==e.getAttribute("type"))+"/"+e.type,e}function R(e){return"true/"===(e.type||"").slice(0,5)?e.type=e.type.slice(5):e.removeAttribute("type"),e}function B(e,t){var n,i,a,r,s,o,l,u;if(1===t.nodeType){if(qe.hasData(e)&&(r=qe.access(e),s=qe.set(t,r),u=r.events)){delete s.handle,s.events={};for(a in u)for(n=0,i=u[a].length;n<i;n++)Ie.event.add(t,a,u[a][n])}$e.hasData(e)&&(o=$e.access(e),l=Ie.extend({},o),$e.set(t,l))}}function j(e,t){var n=t.nodeName.toLowerCase();"input"===n&&st.test(e.type)?t.checked=e.checked:"input"!==n&&"textarea"!==n||(t.defaultValue=e.defaultValue)}function U(e,t,n,i){t=me.apply([],t);var a,r,o,l,u,c,d=0,h=e.length,f=h-1,p=t[0],m=Ce(p);if(m||h>1&&"string"==typeof p&&!Se.checkClone&&gt.test(p))return e.each(function(a){var r=e.eq(a);m&&(t[0]=p.call(this,a,r.html())),U(r,t,n,i)});if(h&&(a=A(t,e[0].ownerDocument,!1,e,i),r=a.firstChild,1===a.childNodes.length&&(a=r),r||i)){for(o=Ie.map(w(a,"script"),M),l=o.length;d<h;d++)u=a,d!==f&&(u=Ie.clone(u,!0,!0),l&&Ie.merge(o,w(u,"script"))),n.call(e[d],u,d);if(l)for(c=o[o.length-1].ownerDocument,Ie.map(o,R),d=0;d<l;d++)u=o[d],lt.test(u.type||"")&&!qe.access(u,"globalEval")&&Ie.contains(c,u)&&(u.src&&"module"!==(u.type||"").toLowerCase()?Ie._evalUrl&&!u.noModule&&Ie._evalUrl(u.src,{nonce:u.nonce||u.getAttribute("nonce")}):s(u.textContent.replace(vt,""),u,c))}return e}function H(e,t,n){for(var i,a=t?Ie.filter(t,e):e,r=0;null!=(i=a[r]);r++)n||1!==i.nodeType||Ie.cleanData(w(i)),i.parentNode&&(n&&tt(i)&&E(w(i,"script")),i.parentNode.removeChild(i));return e}function F(e,t,n){var i,a,r,s,o=e.style;return n=n||_t(e),n&&(s=n.getPropertyValue(t)||n[t],""!==s||tt(e)||(s=Ie.style(e,t)),!Se.pixelBoxStyles()&&yt.test(s)&&bt.test(t)&&(i=o.width,a=o.minWidth,r=o.maxWidth,o.minWidth=o.maxWidth=o.width=s,s=n.width,o.width=i,o.minWidth=a,o.maxWidth=r)),void 0!==s?s+"":s}function z(e,t){return{get:function(){return e()?void delete this.get:(this.get=t).apply(this,arguments)}}}function K(e){for(var t=e[0].toUpperCase()+e.slice(1),n=Tt.length;n--;)if(e=Tt[n]+t,e in kt)return e}function G(e){var t=Ie.cssProps[e]||St[e];return t?t:e in kt?e:St[e]=K(e)||e}function V(e,t,n){var i=Je.exec(t);return i?Math.max(0,i[2]-(n||0))+(i[3]||"px"):t}function W(e,t,n,i,a,r){var s="width"===t?1:0,o=0,l=0;if(n===(i?"border":"content"))return 0;for(;s<4;s+=2)"margin"===n&&(l+=Ie.css(e,n+Ze[s],!0,a)),i?("content"===n&&(l-=Ie.css(e,"padding"+Ze[s],!0,a)),"margin"!==n&&(l-=Ie.css(e,"border"+Ze[s]+"Width",!0,a))):(l+=Ie.css(e,"padding"+Ze[s],!0,a),"padding"!==n?l+=Ie.css(e,"border"+Ze[s]+"Width",!0,a):o+=Ie.css(e,"border"+Ze[s]+"Width",!0,a));return!i&&r>=0&&(l+=Math.max(0,Math.ceil(e["offset"+t[0].toUpperCase()+t.slice(1)]-r-l-o-.5))||0),l}function q(e,t,n){var i=_t(e),a=!Se.boxSizingReliable()||n,r=a&&"border-box"===Ie.css(e,"boxSizing",!1,i),s=r,o=F(e,t,i),l="offset"+t[0].toUpperCase()+t.slice(1);if(yt.test(o)){if(!n)return o;o="auto"}return(!Se.boxSizingReliable()&&r||"auto"===o||!parseFloat(o)&&"inline"===Ie.css(e,"display",!1,i))&&e.getClientRects().length&&(r="border-box"===Ie.css(e,"boxSizing",!1,i),s=l in e,s&&(o=e[l])),o=parseFloat(o)||0,o+W(e,t,n||(r?"border":"content"),s,i,o)+"px"}function $(e,t,n,i,a){return new $.prototype.init(e,t,n,i,a)}function Y(){Lt&&(he.hidden===!1&&n.requestAnimationFrame?n.requestAnimationFrame(Y):n.setTimeout(Y,Ie.fx.interval),Ie.fx.tick())}function X(){return n.setTimeout(function(){It=void 0}),It=Date.now()}function Q(e,t){var n,i=0,a={height:e};for(t=t?1:0;i<4;i+=2-t)n=Ze[i],a["margin"+n]=a["padding"+n]=e;return t&&(a.opacity=a.width=e),a}function J(e,t,n){for(var i,a=(te.tweeners[t]||[]).concat(te.tweeners["*"]),r=0,s=a.length;r<s;r++)if(i=a[r].call(n,t,e))return i}function Z(e,t,n){var i,a,r,s,o,l,u,c,d="width"in t||"height"in t,h=this,f={},p=e.style,m=e.nodeType&&it(e),g=qe.get(e,"fxshow");n.queue||(s=Ie._queueHooks(e,"fx"),null==s.unqueued&&(s.unqueued=0,o=s.empty.fire,s.empty.fire=function(){s.unqueued||o()}),s.unqueued++,h.always(function(){h.always(function(){s.unqueued--,Ie.queue(e,"fx").length||s.empty.fire()})}));for(i in t)if(a=t[i],xt.test(a)){if(delete t[i],r=r||"toggle"===a,a===(m?"hide":"show")){if("show"!==a||!g||void 0===g[i])continue;m=!0}f[i]=g&&g[i]||Ie.style(e,i)}if(l=!Ie.isEmptyObject(t),l||!Ie.isEmptyObject(f)){d&&1===e.nodeType&&(n.overflow=[p.overflow,p.overflowX,p.overflowY],u=g&&g.display,null==u&&(u=qe.get(e,"display")),c=Ie.css(e,"display"),"none"===c&&(u?c=u:(C([e],!0),u=e.style.display||u,c=Ie.css(e,"display"),C([e]))),("inline"===c||"inline-block"===c&&null!=u)&&"none"===Ie.css(e,"float")&&(l||(h.done(function(){p.display=u}),null==u&&(c=p.display,u="none"===c?"":c)),p.display="inline-block")),n.overflow&&(p.overflow="hidden",h.always(function(){p.overflow=n.overflow[0],p.overflowX=n.overflow[1],p.overflowY=n.overflow[2]})),l=!1;for(i in f)l||(g?"hidden"in g&&(m=g.hidden):g=qe.access(e,"fxshow",{display:u}),r&&(g.hidden=!m),m&&C([e],!0),h.done(function(){m||C([e]),qe.remove(e,"fxshow");for(i in f)Ie.style(e,i,f[i])})),l=J(m?g[i]:0,i,h),i in g||(g[i]=l.start,m&&(l.end=l.start,l.start=0))}}function ee(e,t){var n,i,a,r,s;for(n in e)if(i=y(n),a=t[i],r=e[n],Array.isArray(r)&&(a=r[1],r=e[n]=r[0]),n!==i&&(e[i]=r,delete e[n]),s=Ie.cssHooks[i],s&&"expand"in s){r=s.expand(r),delete e[i];for(n in r)n in e||(e[n]=r[n],t[n]=a)}else t[i]=a}function te(e,t,n){var i,a,r=0,s=te.prefilters.length,o=Ie.Deferred().always(function(){delete l.elem}),l=function(){if(a)return!1;for(var t=It||X(),n=Math.max(0,u.startTime+u.duration-t),i=n/u.duration||0,r=1-i,s=0,l=u.tweens.length;s<l;s++)u.tweens[s].run(r);return o.notifyWith(e,[u,r,n]),r<1&&l?n:(l||o.notifyWith(e,[u,1,0]),o.resolveWith(e,[u]),!1)},u=o.promise({elem:e,props:Ie.extend({},t),opts:Ie.extend(!0,{specialEasing:{},easing:Ie.easing._default},n),originalProperties:t,originalOptions:n,startTime:It||X(),duration:n.duration,tweens:[],createTween:function(t,n){var i=Ie.Tween(e,u.opts,t,n,u.opts.specialEasing[t]||u.opts.easing);return u.tweens.push(i),i},stop:function(t){var n=0,i=t?u.tweens.length:0;if(a)return this;for(a=!0;n<i;n++)u.tweens[n].run(1);return t?(o.notifyWith(e,[u,1,0]),o.resolveWith(e,[u,t])):o.rejectWith(e,[u,t]),this}}),c=u.props;for(ee(c,u.opts.specialEasing);r<s;r++)if(i=te.prefilters[r].call(u,e,c,u.opts))return Ce(i.stop)&&(Ie._queueHooks(u.elem,u.opts.queue).stop=i.stop.bind(i)),i;return Ie.map(c,J,u),Ce(u.opts.start)&&u.opts.start.call(e,u),u.progress(u.opts.progress).done(u.opts.done,u.opts.complete).fail(u.opts.fail).always(u.opts.always),Ie.fx.timer(Ie.extend(l,{elem:e,anim:u,queue:u.opts.queue})),u}function ne(e){var t=e.match(He)||[];return t.join(" ")}function ie(e){return e.getAttribute&&e.getAttribute("class")||""}function ae(e){return Array.isArray(e)?e:"string"==typeof e?e.match(He)||[]:[]}function re(e,t,n,i){var a;if(Array.isArray(t))Ie.each(t,function(t,a){n||zt.test(e)?i(e,a):re(e+"["+("object"==typeof a&&null!=a?t:"")+"]",a,n,i)});else if(n||"object"!==o(t))i(e,t);else for(a in t)re(e+"["+a+"]",t[a],n,i)}function se(e){return function(t,n){"string"!=typeof t&&(n=t,t="*");var i,a=0,r=t.toLowerCase().match(He)||[];if(Ce(n))for(;i=r[a++];)"+"===i[0]?(i=i.slice(1)||"*",(e[i]=e[i]||[]).unshift(n)):(e[i]=e[i]||[]).push(n)}}function oe(e,t,n,i){function a(o){var l;return r[o]=!0,Ie.each(e[o]||[],function(e,o){var u=o(t,n,i);return"string"!=typeof u||s||r[u]?s?!(l=u):void 0:(t.dataTypes.unshift(u),a(u),!1)}),l}var r={},s=e===en;return a(t.dataTypes[0])||!r["*"]&&a("*")}function le(e,t){var n,i,a=Ie.ajaxSettings.flatOptions||{};for(n in t)void 0!==t[n]&&((a[n]?e:i||(i={}))[n]=t[n]);return i&&Ie.extend(!0,e,i),e}function ue(e,t,n){for(var i,a,r,s,o=e.contents,l=e.dataTypes;"*"===l[0];)l.shift(),void 0===i&&(i=e.mimeType||t.getResponseHeader("Content-Type"));if(i)for(a in o)if(o[a]&&o[a].test(i)){l.unshift(a);break}if(l[0]in n)r=l[0];else{for(a in n){if(!l[0]||e.converters[a+" "+l[0]]){r=a;break}s||(s=a)}r=r||s}if(r)return r!==l[0]&&l.unshift(r),n[r]}function ce(e,t,n,i){var a,r,s,o,l,u={},c=e.dataTypes.slice();if(c[1])for(s in e.converters)u[s.toLowerCase()]=e.converters[s];for(r=c.shift();r;)if(e.responseFields[r]&&(n[e.responseFields[r]]=t),!l&&i&&e.dataFilter&&(t=e.dataFilter(t,e.dataType)),l=r,r=c.shift())if("*"===r)r=l;else if("*"!==l&&l!==r){if(s=u[l+" "+r]||u["* "+r],!s)for(a in u)if(o=a.split(" "),o[1]===r&&(s=u[l+" "+o[0]]||u["* "+o[0]])){s===!0?s=u[a]:u[a]!==!0&&(r=o[0],c.unshift(o[1]));break}if(s!==!0)if(s&&e.throws)t=s(t);else try{t=s(t)}catch(e){return{state:"parsererror",error:s?e:"No conversion from "+l+" to "+r}}}return{state:"success",data:t}}var de=[],he=n.document,fe=Object.getPrototypeOf,pe=de.slice,me=de.concat,ge=de.push,ve=de.indexOf,ye={},_e=ye.toString,be=ye.hasOwnProperty,Te=be.toString,ke=Te.call(Object),Se={},Ce=function(e){return"function"==typeof e&&"number"!=typeof e.nodeType},we=function(e){return null!=e&&e===e.window},Ee={type:!0,src:!0,nonce:!0,noModule:!0},Ae="3.4.1",Ie=function(e,t){return new Ie.fn.init(e,t)},Le=/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g;Ie.fn=Ie.prototype={jquery:Ae,constructor:Ie,length:0,toArray:function(){return pe.call(this)},get:function(e){return null==e?pe.call(this):e<0?this[e+this.length]:this[e]},pushStack:function(e){var t=Ie.merge(this.constructor(),e);return t.prevObject=this,t},each:function(e){return Ie.each(this,e)},map:function(e){return this.pushStack(Ie.map(this,function(t,n){return e.call(t,n,t)}))},slice:function(){return this.pushStack(pe.apply(this,arguments))},first:function(){return this.eq(0)},last:function(){return this.eq(-1)},eq:function(e){var t=this.length,n=+e+(e<0?t:0);return this.pushStack(n>=0&&n<t?[this[n]]:[])},end:function(){return this.prevObject||this.constructor()},push:ge,sort:de.sort,splice:de.splice},Ie.extend=Ie.fn.extend=function(){var e,t,n,i,a,r,s=arguments[0]||{},o=1,l=arguments.length,u=!1;for("boolean"==typeof s&&(u=s,s=arguments[o]||{},o++),"object"==typeof s||Ce(s)||(s={}),o===l&&(s=this,o--);o<l;o++)if(null!=(e=arguments[o]))for(t in e)i=e[t],"__proto__"!==t&&s!==i&&(u&&i&&(Ie.isPlainObject(i)||(a=Array.isArray(i)))?(n=s[t],r=a&&!Array.isArray(n)?[]:a||Ie.isPlainObject(n)?n:{},a=!1,s[t]=Ie.extend(u,r,i)):void 0!==i&&(s[t]=i));return s},Ie.extend({expando:"jQuery"+(Ae+Math.random()).replace(/\D/g,""),isReady:!0,error:function(e){throw new Error(e)},noop:function(){},isPlainObject:function(e){var t,n;return!(!e||"[object Object]"!==_e.call(e))&&(!(t=fe(e))||(n=be.call(t,"constructor")&&t.constructor,"function"==typeof n&&Te.call(n)===ke))},isEmptyObject:function(e){var t;for(t in e)return!1;return!0},globalEval:function(e,t){s(e,{nonce:t&&t.nonce})},each:function(e,t){var n,i=0;if(l(e))for(n=e.length;i<n&&t.call(e[i],i,e[i])!==!1;i++);else for(i in e)if(t.call(e[i],i,e[i])===!1)break;return e},trim:function(e){return null==e?"":(e+"").replace(Le,"")},makeArray:function(e,t){var n=t||[];return null!=e&&(l(Object(e))?Ie.merge(n,"string"==typeof e?[e]:e):ge.call(n,e)),n},inArray:function(e,t,n){return null==t?-1:ve.call(t,e,n)},merge:function(e,t){for(var n=+t.length,i=0,a=e.length;i<n;i++)e[a++]=t[i];return e.length=a,e},grep:function(e,t,n){for(var i,a=[],r=0,s=e.length,o=!n;r<s;r++)i=!t(e[r],r),i!==o&&a.push(e[r]);return a},map:function(e,t,n){var i,a,r=0,s=[];if(l(e))for(i=e.length;r<i;r++)a=t(e[r],r,n),null!=a&&s.push(a);else for(r in e)a=t(e[r],r,n),null!=a&&s.push(a);return me.apply([],s)},guid:1,support:Se}),"function"==typeof Symbol&&(Ie.fn[Symbol.iterator]=de[Symbol.iterator]),Ie.each("Boolean Number String Function Array Date RegExp Object Error Symbol".split(" "),function(e,t){ye["[object "+t+"]"]=t.toLowerCase()});var xe=/*!
	 * Sizzle CSS Selector Engine v2.3.4
	 * https://sizzlejs.com/
	 *
	 * Copyright JS Foundation and other contributors
	 * Released under the MIT license
	 * https://js.foundation/
	 *
	 * Date: 2019-04-08
	 */
function(e){function t(e,t,n,i){var a,r,s,o,l,u,c,h=t&&t.ownerDocument,p=t?t.nodeType:9;if(n=n||[],"string"!=typeof e||!e||1!==p&&9!==p&&11!==p)return n;if(!i&&((t?t.ownerDocument||t:F)!==D&&O(t),t=t||D,M)){if(11!==p&&(l=_e.exec(e)))if(a=l[1]){if(9===p){if(!(s=t.getElementById(a)))return n;if(s.id===a)return n.push(s),n}else if(h&&(s=h.getElementById(a))&&U(t,s)&&s.id===a)return n.push(s),n}else{if(l[2])return Z.apply(n,t.getElementsByTagName(e)),n;if((a=l[3])&&k.getElementsByClassName&&t.getElementsByClassName)return Z.apply(n,t.getElementsByClassName(a)),n}if(k.qsa&&!q[e+" "]&&(!R||!R.test(e))&&(1!==p||"object"!==t.nodeName.toLowerCase())){if(c=e,h=t,1===p&&de.test(e)){for((o=t.getAttribute("id"))?o=o.replace(Se,Ce):t.setAttribute("id",o=H),u=E(e),r=u.length;r--;)u[r]="#"+o+" "+f(u[r]);c=u.join(","),h=be.test(e)&&d(t.parentNode)||t}try{return Z.apply(n,h.querySelectorAll(c)),n}catch(t){q(e,!0)}finally{o===H&&t.removeAttribute("id")}}}return I(e.replace(le,"$1"),t,n,i)}function n(){function e(n,i){return t.push(n+" ")>S.cacheLength&&delete e[t.shift()],e[n+" "]=i}var t=[];return e}function i(e){return e[H]=!0,e}function a(e){var t=D.createElement("fieldset");try{return!!e(t)}catch(e){return!1}finally{t.parentNode&&t.parentNode.removeChild(t),t=null}}function r(e,t){for(var n=e.split("|"),i=n.length;i--;)S.attrHandle[n[i]]=t}function s(e,t){var n=t&&e,i=n&&1===e.nodeType&&1===t.nodeType&&e.sourceIndex-t.sourceIndex;if(i)return i;if(n)for(;n=n.nextSibling;)if(n===t)return-1;return e?1:-1}function o(e){return function(t){var n=t.nodeName.toLowerCase();return"input"===n&&t.type===e}}function l(e){return function(t){var n=t.nodeName.toLowerCase();return("input"===n||"button"===n)&&t.type===e}}function u(e){return function(t){return"form"in t?t.parentNode&&t.disabled===!1?"label"in t?"label"in t.parentNode?t.parentNode.disabled===e:t.disabled===e:t.isDisabled===e||t.isDisabled!==!e&&Ee(t)===e:t.disabled===e:"label"in t&&t.disabled===e}}function c(e){return i(function(t){return t=+t,i(function(n,i){for(var a,r=e([],n.length,t),s=r.length;s--;)n[a=r[s]]&&(n[a]=!(i[a]=n[a]))})})}function d(e){return e&&"undefined"!=typeof e.getElementsByTagName&&e}function h(){}function f(e){for(var t=0,n=e.length,i="";t<n;t++)i+=e[t].value;return i}function p(e,t,n){var i=t.dir,a=t.next,r=a||i,s=n&&"parentNode"===r,o=K++;return t.first?function(t,n,a){for(;t=t[i];)if(1===t.nodeType||s)return e(t,n,a);return!1}:function(t,n,l){var u,c,d,h=[z,o];if(l){for(;t=t[i];)if((1===t.nodeType||s)&&e(t,n,l))return!0}else for(;t=t[i];)if(1===t.nodeType||s)if(d=t[H]||(t[H]={}),c=d[t.uniqueID]||(d[t.uniqueID]={}),a&&a===t.nodeName.toLowerCase())t=t[i]||t;else{if((u=c[r])&&u[0]===z&&u[1]===o)return h[2]=u[2];if(c[r]=h,h[2]=e(t,n,l))return!0}return!1}}function m(e){return e.length>1?function(t,n,i){for(var a=e.length;a--;)if(!e[a](t,n,i))return!1;return!0}:e[0]}function g(e,n,i){for(var a=0,r=n.length;a<r;a++)t(e,n[a],i);return i}function v(e,t,n,i,a){for(var r,s=[],o=0,l=e.length,u=null!=t;o<l;o++)(r=e[o])&&(n&&!n(r,i,a)||(s.push(r),u&&t.push(o)));return s}function y(e,t,n,a,r,s){return a&&!a[H]&&(a=y(a)),r&&!r[H]&&(r=y(r,s)),i(function(i,s,o,l){var u,c,d,h=[],f=[],p=s.length,m=i||g(t||"*",o.nodeType?[o]:o,[]),y=!e||!i&&t?m:v(m,h,e,o,l),_=n?r||(i?e:p||a)?[]:s:y;if(n&&n(y,_,o,l),a)for(u=v(_,f),a(u,[],o,l),c=u.length;c--;)(d=u[c])&&(_[f[c]]=!(y[f[c]]=d));if(i){if(r||e){if(r){for(u=[],c=_.length;c--;)(d=_[c])&&u.push(y[c]=d);r(null,_=[],u,l)}for(c=_.length;c--;)(d=_[c])&&(u=r?te(i,d):h[c])>-1&&(i[u]=!(s[u]=d))}}else _=v(_===s?_.splice(p,_.length):_),r?r(null,s,_,l):Z.apply(s,_)})}function _(e){for(var t,n,i,a=e.length,r=S.relative[e[0].type],s=r||S.relative[" "],o=r?1:0,l=p(function(e){return e===t},s,!0),u=p(function(e){return te(t,e)>-1},s,!0),c=[function(e,n,i){var a=!r&&(i||n!==L)||((t=n).nodeType?l(e,n,i):u(e,n,i));return t=null,a}];o<a;o++)if(n=S.relative[e[o].type])c=[p(m(c),n)];else{if(n=S.filter[e[o].type].apply(null,e[o].matches),n[H]){for(i=++o;i<a&&!S.relative[e[i].type];i++);return y(o>1&&m(c),o>1&&f(e.slice(0,o-1).concat({value:" "===e[o-2].type?"*":""})).replace(le,"$1"),n,o<i&&_(e.slice(o,i)),i<a&&_(e=e.slice(i)),i<a&&f(e))}c.push(n)}return m(c)}function b(e,n){var a=n.length>0,r=e.length>0,s=function(i,s,o,l,u){var c,d,h,f=0,p="0",m=i&&[],g=[],y=L,_=i||r&&S.find.TAG("*",u),b=z+=null==y?1:Math.random()||.1,T=_.length;for(u&&(L=s===D||s||u);p!==T&&null!=(c=_[p]);p++){if(r&&c){for(d=0,s||c.ownerDocument===D||(O(c),o=!M);h=e[d++];)if(h(c,s||D,o)){l.push(c);break}u&&(z=b)}a&&((c=!h&&c)&&f--,i&&m.push(c))}if(f+=p,a&&p!==f){for(d=0;h=n[d++];)h(m,g,s,o);if(i){if(f>0)for(;p--;)m[p]||g[p]||(g[p]=Q.call(l));g=v(g)}Z.apply(l,g),u&&!i&&g.length>0&&f+n.length>1&&t.uniqueSort(l)}return u&&(z=b,L=y),m};return a?i(s):s}var T,k,S,C,w,E,A,I,L,x,P,O,D,N,M,R,B,j,U,H="sizzle"+1*new Date,F=e.document,z=0,K=0,G=n(),V=n(),W=n(),q=n(),$=function(e,t){return e===t&&(P=!0),0},Y={}.hasOwnProperty,X=[],Q=X.pop,J=X.push,Z=X.push,ee=X.slice,te=function(e,t){for(var n=0,i=e.length;n<i;n++)if(e[n]===t)return n;return-1},ne="checked|selected|async|autofocus|autoplay|controls|defer|disabled|hidden|ismap|loop|multiple|open|readonly|required|scoped",ie="[\\x20\\t\\r\\n\\f]",ae="(?:\\\\.|[\\w-]|[^\0-\\xa0])+",re="\\["+ie+"*("+ae+")(?:"+ie+"*([*^$|!~]?=)"+ie+"*(?:'((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\"|("+ae+"))|)"+ie+"*\\]",se=":("+ae+")(?:\\((('((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\")|((?:\\\\.|[^\\\\()[\\]]|"+re+")*)|.*)\\)|)",oe=new RegExp(ie+"+","g"),le=new RegExp("^"+ie+"+|((?:^|[^\\\\])(?:\\\\.)*)"+ie+"+$","g"),ue=new RegExp("^"+ie+"*,"+ie+"*"),ce=new RegExp("^"+ie+"*([>+~]|"+ie+")"+ie+"*"),de=new RegExp(ie+"|>"),he=new RegExp(se),fe=new RegExp("^"+ae+"$"),pe={ID:new RegExp("^#("+ae+")"),CLASS:new RegExp("^\\.("+ae+")"),TAG:new RegExp("^("+ae+"|[*])"),ATTR:new RegExp("^"+re),PSEUDO:new RegExp("^"+se),CHILD:new RegExp("^:(only|first|last|nth|nth-last)-(child|of-type)(?:\\("+ie+"*(even|odd|(([+-]|)(\\d*)n|)"+ie+"*(?:([+-]|)"+ie+"*(\\d+)|))"+ie+"*\\)|)","i"),bool:new RegExp("^(?:"+ne+")$","i"),needsContext:new RegExp("^"+ie+"*[>+~]|:(even|odd|eq|gt|lt|nth|first|last)(?:\\("+ie+"*((?:-\\d)?\\d*)"+ie+"*\\)|)(?=[^-]|$)","i")},me=/HTML$/i,ge=/^(?:input|select|textarea|button)$/i,ve=/^h\d$/i,ye=/^[^{]+\{\s*\[native \w/,_e=/^(?:#([\w-]+)|(\w+)|\.([\w-]+))$/,be=/[+~]/,Te=new RegExp("\\\\([\\da-f]{1,6}"+ie+"?|("+ie+")|.)","ig"),ke=function(e,t,n){var i="0x"+t-65536;return i!==i||n?t:i<0?String.fromCharCode(i+65536):String.fromCharCode(i>>10|55296,1023&i|56320)},Se=/([\0-\x1f\x7f]|^-?\d)|^-$|[^\0-\x1f\x7f-\uFFFF\w-]/g,Ce=function(e,t){return t?"\0"===e?"?":e.slice(0,-1)+"\\"+e.charCodeAt(e.length-1).toString(16)+" ":"\\"+e},we=function(){O()},Ee=p(function(e){return e.disabled===!0&&"fieldset"===e.nodeName.toLowerCase()},{dir:"parentNode",next:"legend"});try{Z.apply(X=ee.call(F.childNodes),F.childNodes),X[F.childNodes.length].nodeType}catch(e){Z={apply:X.length?function(e,t){J.apply(e,ee.call(t))}:function(e,t){for(var n=e.length,i=0;e[n++]=t[i++];);e.length=n-1}}}k=t.support={},w=t.isXML=function(e){var t=e.namespaceURI,n=(e.ownerDocument||e).documentElement;return!me.test(t||n&&n.nodeName||"HTML")},O=t.setDocument=function(e){var t,n,i=e?e.ownerDocument||e:F;return i!==D&&9===i.nodeType&&i.documentElement?(D=i,N=D.documentElement,M=!w(D),F!==D&&(n=D.defaultView)&&n.top!==n&&(n.addEventListener?n.addEventListener("unload",we,!1):n.attachEvent&&n.attachEvent("onunload",we)),k.attributes=a(function(e){return e.className="i",!e.getAttribute("className")}),k.getElementsByTagName=a(function(e){return e.appendChild(D.createComment("")),!e.getElementsByTagName("*").length}),k.getElementsByClassName=ye.test(D.getElementsByClassName),k.getById=a(function(e){return N.appendChild(e).id=H,!D.getElementsByName||!D.getElementsByName(H).length}),k.getById?(S.filter.ID=function(e){var t=e.replace(Te,ke);return function(e){return e.getAttribute("id")===t}},S.find.ID=function(e,t){if("undefined"!=typeof t.getElementById&&M){var n=t.getElementById(e);return n?[n]:[]}}):(S.filter.ID=function(e){var t=e.replace(Te,ke);return function(e){var n="undefined"!=typeof e.getAttributeNode&&e.getAttributeNode("id");return n&&n.value===t}},S.find.ID=function(e,t){if("undefined"!=typeof t.getElementById&&M){var n,i,a,r=t.getElementById(e);if(r){if(n=r.getAttributeNode("id"),n&&n.value===e)return[r];for(a=t.getElementsByName(e),i=0;r=a[i++];)if(n=r.getAttributeNode("id"),n&&n.value===e)return[r]}return[]}}),S.find.TAG=k.getElementsByTagName?function(e,t){return"undefined"!=typeof t.getElementsByTagName?t.getElementsByTagName(e):k.qsa?t.querySelectorAll(e):void 0}:function(e,t){var n,i=[],a=0,r=t.getElementsByTagName(e);if("*"===e){for(;n=r[a++];)1===n.nodeType&&i.push(n);return i}return r},S.find.CLASS=k.getElementsByClassName&&function(e,t){if("undefined"!=typeof t.getElementsByClassName&&M)return t.getElementsByClassName(e)},B=[],R=[],(k.qsa=ye.test(D.querySelectorAll))&&(a(function(e){N.appendChild(e).innerHTML="<a id='"+H+"'></a><select id='"+H+"-\r\\' msallowcapture=''><option selected=''></option></select>",e.querySelectorAll("[msallowcapture^='']").length&&R.push("[*^$]="+ie+"*(?:''|\"\")"),e.querySelectorAll("[selected]").length||R.push("\\["+ie+"*(?:value|"+ne+")"),e.querySelectorAll("[id~="+H+"-]").length||R.push("~="),e.querySelectorAll(":checked").length||R.push(":checked"),e.querySelectorAll("a#"+H+"+*").length||R.push(".#.+[+~]")}),a(function(e){e.innerHTML="<a href='' disabled='disabled'></a><select disabled='disabled'><option/></select>";var t=D.createElement("input");t.setAttribute("type","hidden"),e.appendChild(t).setAttribute("name","D"),e.querySelectorAll("[name=d]").length&&R.push("name"+ie+"*[*^$|!~]?="),2!==e.querySelectorAll(":enabled").length&&R.push(":enabled",":disabled"),N.appendChild(e).disabled=!0,2!==e.querySelectorAll(":disabled").length&&R.push(":enabled",":disabled"),e.querySelectorAll("*,:x"),R.push(",.*:")})),(k.matchesSelector=ye.test(j=N.matches||N.webkitMatchesSelector||N.mozMatchesSelector||N.oMatchesSelector||N.msMatchesSelector))&&a(function(e){k.disconnectedMatch=j.call(e,"*"),j.call(e,"[s!='']:x"),B.push("!=",se)}),R=R.length&&new RegExp(R.join("|")),B=B.length&&new RegExp(B.join("|")),t=ye.test(N.compareDocumentPosition),U=t||ye.test(N.contains)?function(e,t){var n=9===e.nodeType?e.documentElement:e,i=t&&t.parentNode;return e===i||!(!i||1!==i.nodeType||!(n.contains?n.contains(i):e.compareDocumentPosition&&16&e.compareDocumentPosition(i)))}:function(e,t){if(t)for(;t=t.parentNode;)if(t===e)return!0;return!1},$=t?function(e,t){if(e===t)return P=!0,0;var n=!e.compareDocumentPosition-!t.compareDocumentPosition;return n?n:(n=(e.ownerDocument||e)===(t.ownerDocument||t)?e.compareDocumentPosition(t):1,1&n||!k.sortDetached&&t.compareDocumentPosition(e)===n?e===D||e.ownerDocument===F&&U(F,e)?-1:t===D||t.ownerDocument===F&&U(F,t)?1:x?te(x,e)-te(x,t):0:4&n?-1:1)}:function(e,t){if(e===t)return P=!0,0;var n,i=0,a=e.parentNode,r=t.parentNode,o=[e],l=[t];if(!a||!r)return e===D?-1:t===D?1:a?-1:r?1:x?te(x,e)-te(x,t):0;if(a===r)return s(e,t);for(n=e;n=n.parentNode;)o.unshift(n);for(n=t;n=n.parentNode;)l.unshift(n);for(;o[i]===l[i];)i++;return i?s(o[i],l[i]):o[i]===F?-1:l[i]===F?1:0},D):D},t.matches=function(e,n){return t(e,null,null,n)},t.matchesSelector=function(e,n){if((e.ownerDocument||e)!==D&&O(e),k.matchesSelector&&M&&!q[n+" "]&&(!B||!B.test(n))&&(!R||!R.test(n)))try{var i=j.call(e,n);if(i||k.disconnectedMatch||e.document&&11!==e.document.nodeType)return i}catch(e){q(n,!0)}return t(n,D,null,[e]).length>0},t.contains=function(e,t){return(e.ownerDocument||e)!==D&&O(e),U(e,t)},t.attr=function(e,t){(e.ownerDocument||e)!==D&&O(e);var n=S.attrHandle[t.toLowerCase()],i=n&&Y.call(S.attrHandle,t.toLowerCase())?n(e,t,!M):void 0;return void 0!==i?i:k.attributes||!M?e.getAttribute(t):(i=e.getAttributeNode(t))&&i.specified?i.value:null},t.escape=function(e){return(e+"").replace(Se,Ce)},t.error=function(e){throw new Error("Syntax error, unrecognized expression: "+e)},t.uniqueSort=function(e){var t,n=[],i=0,a=0;if(P=!k.detectDuplicates,x=!k.sortStable&&e.slice(0),e.sort($),P){for(;t=e[a++];)t===e[a]&&(i=n.push(a));for(;i--;)e.splice(n[i],1)}return x=null,e},C=t.getText=function(e){var t,n="",i=0,a=e.nodeType;if(a){if(1===a||9===a||11===a){if("string"==typeof e.textContent)return e.textContent;for(e=e.firstChild;e;e=e.nextSibling)n+=C(e)}else if(3===a||4===a)return e.nodeValue}else for(;t=e[i++];)n+=C(t);return n},S=t.selectors={cacheLength:50,createPseudo:i,match:pe,attrHandle:{},find:{},relative:{">":{dir:"parentNode",first:!0}," ":{dir:"parentNode"},"+":{dir:"previousSibling",first:!0},"~":{dir:"previousSibling"}},preFilter:{ATTR:function(e){return e[1]=e[1].replace(Te,ke),e[3]=(e[3]||e[4]||e[5]||"").replace(Te,ke),"~="===e[2]&&(e[3]=" "+e[3]+" "),e.slice(0,4)},CHILD:function(e){return e[1]=e[1].toLowerCase(),"nth"===e[1].slice(0,3)?(e[3]||t.error(e[0]),e[4]=+(e[4]?e[5]+(e[6]||1):2*("even"===e[3]||"odd"===e[3])),e[5]=+(e[7]+e[8]||"odd"===e[3])):e[3]&&t.error(e[0]),e},PSEUDO:function(e){var t,n=!e[6]&&e[2];return pe.CHILD.test(e[0])?null:(e[3]?e[2]=e[4]||e[5]||"":n&&he.test(n)&&(t=E(n,!0))&&(t=n.indexOf(")",n.length-t)-n.length)&&(e[0]=e[0].slice(0,t),e[2]=n.slice(0,t)),e.slice(0,3))}},filter:{TAG:function(e){var t=e.replace(Te,ke).toLowerCase();return"*"===e?function(){return!0}:function(e){return e.nodeName&&e.nodeName.toLowerCase()===t}},CLASS:function(e){var t=G[e+" "];return t||(t=new RegExp("(^|"+ie+")"+e+"("+ie+"|$)"))&&G(e,function(e){return t.test("string"==typeof e.className&&e.className||"undefined"!=typeof e.getAttribute&&e.getAttribute("class")||"")})},ATTR:function(e,n,i){return function(a){var r=t.attr(a,e);return null==r?"!="===n:!n||(r+="","="===n?r===i:"!="===n?r!==i:"^="===n?i&&0===r.indexOf(i):"*="===n?i&&r.indexOf(i)>-1:"$="===n?i&&r.slice(-i.length)===i:"~="===n?(" "+r.replace(oe," ")+" ").indexOf(i)>-1:"|="===n&&(r===i||r.slice(0,i.length+1)===i+"-"))}},CHILD:function(e,t,n,i,a){var r="nth"!==e.slice(0,3),s="last"!==e.slice(-4),o="of-type"===t;return 1===i&&0===a?function(e){return!!e.parentNode}:function(t,n,l){var u,c,d,h,f,p,m=r!==s?"nextSibling":"previousSibling",g=t.parentNode,v=o&&t.nodeName.toLowerCase(),y=!l&&!o,_=!1;if(g){if(r){for(;m;){for(h=t;h=h[m];)if(o?h.nodeName.toLowerCase()===v:1===h.nodeType)return!1;p=m="only"===e&&!p&&"nextSibling"}return!0}if(p=[s?g.firstChild:g.lastChild],s&&y){for(h=g,d=h[H]||(h[H]={}),c=d[h.uniqueID]||(d[h.uniqueID]={}),u=c[e]||[],f=u[0]===z&&u[1],_=f&&u[2],h=f&&g.childNodes[f];h=++f&&h&&h[m]||(_=f=0)||p.pop();)if(1===h.nodeType&&++_&&h===t){c[e]=[z,f,_];break}}else if(y&&(h=t,d=h[H]||(h[H]={}),c=d[h.uniqueID]||(d[h.uniqueID]={}),u=c[e]||[],f=u[0]===z&&u[1],_=f),_===!1)for(;(h=++f&&h&&h[m]||(_=f=0)||p.pop())&&((o?h.nodeName.toLowerCase()!==v:1!==h.nodeType)||!++_||(y&&(d=h[H]||(h[H]={}),c=d[h.uniqueID]||(d[h.uniqueID]={}),c[e]=[z,_]),h!==t)););return _-=a,_===i||_%i===0&&_/i>=0}}},PSEUDO:function(e,n){var a,r=S.pseudos[e]||S.setFilters[e.toLowerCase()]||t.error("unsupported pseudo: "+e);return r[H]?r(n):r.length>1?(a=[e,e,"",n],S.setFilters.hasOwnProperty(e.toLowerCase())?i(function(e,t){for(var i,a=r(e,n),s=a.length;s--;)i=te(e,a[s]),e[i]=!(t[i]=a[s])}):function(e){return r(e,0,a)}):r}},pseudos:{not:i(function(e){var t=[],n=[],a=A(e.replace(le,"$1"));return a[H]?i(function(e,t,n,i){for(var r,s=a(e,null,i,[]),o=e.length;o--;)(r=s[o])&&(e[o]=!(t[o]=r))}):function(e,i,r){return t[0]=e,a(t,null,r,n),t[0]=null,!n.pop()}}),has:i(function(e){return function(n){return t(e,n).length>0}}),contains:i(function(e){return e=e.replace(Te,ke),function(t){return(t.textContent||C(t)).indexOf(e)>-1}}),lang:i(function(e){return fe.test(e||"")||t.error("unsupported lang: "+e),e=e.replace(Te,ke).toLowerCase(),function(t){var n;do if(n=M?t.lang:t.getAttribute("xml:lang")||t.getAttribute("lang"))return n=n.toLowerCase(),n===e||0===n.indexOf(e+"-");while((t=t.parentNode)&&1===t.nodeType);return!1}}),target:function(t){var n=e.location&&e.location.hash;return n&&n.slice(1)===t.id},root:function(e){return e===N},focus:function(e){return e===D.activeElement&&(!D.hasFocus||D.hasFocus())&&!!(e.type||e.href||~e.tabIndex)},enabled:u(!1),disabled:u(!0),checked:function(e){var t=e.nodeName.toLowerCase();return"input"===t&&!!e.checked||"option"===t&&!!e.selected},selected:function(e){return e.parentNode&&e.parentNode.selectedIndex,e.selected===!0},empty:function(e){for(e=e.firstChild;e;e=e.nextSibling)if(e.nodeType<6)return!1;return!0},parent:function(e){return!S.pseudos.empty(e)},header:function(e){return ve.test(e.nodeName)},input:function(e){return ge.test(e.nodeName)},button:function(e){var t=e.nodeName.toLowerCase();return"input"===t&&"button"===e.type||"button"===t},text:function(e){var t;return"input"===e.nodeName.toLowerCase()&&"text"===e.type&&(null==(t=e.getAttribute("type"))||"text"===t.toLowerCase())},first:c(function(){return[0]}),last:c(function(e,t){return[t-1]}),eq:c(function(e,t,n){return[n<0?n+t:n]}),even:c(function(e,t){for(var n=0;n<t;n+=2)e.push(n);return e}),odd:c(function(e,t){for(var n=1;n<t;n+=2)e.push(n);return e}),lt:c(function(e,t,n){for(var i=n<0?n+t:n>t?t:n;--i>=0;)e.push(i);return e}),gt:c(function(e,t,n){for(var i=n<0?n+t:n;++i<t;)e.push(i);return e})}},S.pseudos.nth=S.pseudos.eq;for(T in{radio:!0,checkbox:!0,file:!0,password:!0,image:!0})S.pseudos[T]=o(T);for(T in{submit:!0,reset:!0})S.pseudos[T]=l(T);return h.prototype=S.filters=S.pseudos,S.setFilters=new h,E=t.tokenize=function(e,n){var i,a,r,s,o,l,u,c=V[e+" "];if(c)return n?0:c.slice(0);for(o=e,l=[],u=S.preFilter;o;){i&&!(a=ue.exec(o))||(a&&(o=o.slice(a[0].length)||o),l.push(r=[])),i=!1,(a=ce.exec(o))&&(i=a.shift(),r.push({value:i,type:a[0].replace(le," ")}),o=o.slice(i.length));for(s in S.filter)!(a=pe[s].exec(o))||u[s]&&!(a=u[s](a))||(i=a.shift(),r.push({value:i,type:s,matches:a}),o=o.slice(i.length));if(!i)break}return n?o.length:o?t.error(e):V(e,l).slice(0)},A=t.compile=function(e,t){var n,i=[],a=[],r=W[e+" "];if(!r){for(t||(t=E(e)),n=t.length;n--;)r=_(t[n]),r[H]?i.push(r):a.push(r);r=W(e,b(a,i)),r.selector=e}return r},I=t.select=function(e,t,n,i){var a,r,s,o,l,u="function"==typeof e&&e,c=!i&&E(e=u.selector||e);if(n=n||[],1===c.length){if(r=c[0]=c[0].slice(0),r.length>2&&"ID"===(s=r[0]).type&&9===t.nodeType&&M&&S.relative[r[1].type]){if(t=(S.find.ID(s.matches[0].replace(Te,ke),t)||[])[0],!t)return n;u&&(t=t.parentNode),e=e.slice(r.shift().value.length)}for(a=pe.needsContext.test(e)?0:r.length;a--&&(s=r[a],!S.relative[o=s.type]);)if((l=S.find[o])&&(i=l(s.matches[0].replace(Te,ke),be.test(r[0].type)&&d(t.parentNode)||t))){if(r.splice(a,1),e=i.length&&f(r),!e)return Z.apply(n,i),n;break}}return(u||A(e,c))(i,t,!M,n,!t||be.test(e)&&d(t.parentNode)||t),n},k.sortStable=H.split("").sort($).join("")===H,k.detectDuplicates=!!P,O(),k.sortDetached=a(function(e){return 1&e.compareDocumentPosition(D.createElement("fieldset"))}),a(function(e){return e.innerHTML="<a href='#'></a>","#"===e.firstChild.getAttribute("href")})||r("type|href|height|width",function(e,t,n){if(!n)return e.getAttribute(t,"type"===t.toLowerCase()?1:2)}),k.attributes&&a(function(e){return e.innerHTML="<input/>",e.firstChild.setAttribute("value",""),""===e.firstChild.getAttribute("value")})||r("value",function(e,t,n){if(!n&&"input"===e.nodeName.toLowerCase())return e.defaultValue}),a(function(e){return null==e.getAttribute("disabled")})||r(ne,function(e,t,n){var i;if(!n)return e[t]===!0?t.toLowerCase():(i=e.getAttributeNode(t))&&i.specified?i.value:null}),t}(n);Ie.find=xe,Ie.expr=xe.selectors,Ie.expr[":"]=Ie.expr.pseudos,Ie.uniqueSort=Ie.unique=xe.uniqueSort,Ie.text=xe.getText,Ie.isXMLDoc=xe.isXML,Ie.contains=xe.contains,Ie.escapeSelector=xe.escape;var Pe=function(e,t,n){for(var i=[],a=void 0!==n;(e=e[t])&&9!==e.nodeType;)if(1===e.nodeType){if(a&&Ie(e).is(n))break;i.push(e)}return i},Oe=function(e,t){for(var n=[];e;e=e.nextSibling)1===e.nodeType&&e!==t&&n.push(e);return n},De=Ie.expr.match.needsContext,Ne=/^<([a-z][^\/\0>:\x20\t\r\n\f]*)[\x20\t\r\n\f]*\/?>(?:<\/\1>|)$/i;Ie.filter=function(e,t,n){var i=t[0];return n&&(e=":not("+e+")"),1===t.length&&1===i.nodeType?Ie.find.matchesSelector(i,e)?[i]:[]:Ie.find.matches(e,Ie.grep(t,function(e){return 1===e.nodeType}))},Ie.fn.extend({find:function(e){var t,n,i=this.length,a=this;if("string"!=typeof e)return this.pushStack(Ie(e).filter(function(){for(t=0;t<i;t++)if(Ie.contains(a[t],this))return!0}));for(n=this.pushStack([]),t=0;t<i;t++)Ie.find(e,a[t],n);return i>1?Ie.uniqueSort(n):n},filter:function(e){return this.pushStack(c(this,e||[],!1))},not:function(e){return this.pushStack(c(this,e||[],!0))},is:function(e){return!!c(this,"string"==typeof e&&De.test(e)?Ie(e):e||[],!1).length}});var Me,Re=/^(?:\s*(<[\w\W]+>)[^>]*|#([\w-]+))$/,Be=Ie.fn.init=function(e,t,n){var i,a;if(!e)return this;if(n=n||Me,"string"==typeof e){if(i="<"===e[0]&&">"===e[e.length-1]&&e.length>=3?[null,e,null]:Re.exec(e),!i||!i[1]&&t)return!t||t.jquery?(t||n).find(e):this.constructor(t).find(e);if(i[1]){if(t=t instanceof Ie?t[0]:t,Ie.merge(this,Ie.parseHTML(i[1],t&&t.nodeType?t.ownerDocument||t:he,!0)),Ne.test(i[1])&&Ie.isPlainObject(t))for(i in t)Ce(this[i])?this[i](t[i]):this.attr(i,t[i]);return this}return a=he.getElementById(i[2]),a&&(this[0]=a,this.length=1),this}return e.nodeType?(this[0]=e,this.length=1,this):Ce(e)?void 0!==n.ready?n.ready(e):e(Ie):Ie.makeArray(e,this)};Be.prototype=Ie.fn,Me=Ie(he);var je=/^(?:parents|prev(?:Until|All))/,Ue={children:!0,contents:!0,next:!0,prev:!0};Ie.fn.extend({has:function(e){var t=Ie(e,this),n=t.length;return this.filter(function(){for(var e=0;e<n;e++)if(Ie.contains(this,t[e]))return!0})},closest:function(e,t){var n,i=0,a=this.length,r=[],s="string"!=typeof e&&Ie(e);if(!De.test(e))for(;i<a;i++)for(n=this[i];n&&n!==t;n=n.parentNode)if(n.nodeType<11&&(s?s.index(n)>-1:1===n.nodeType&&Ie.find.matchesSelector(n,e))){r.push(n);break}return this.pushStack(r.length>1?Ie.uniqueSort(r):r)},index:function(e){return e?"string"==typeof e?ve.call(Ie(e),this[0]):ve.call(this,e.jquery?e[0]:e):this[0]&&this[0].parentNode?this.first().prevAll().length:-1},add:function(e,t){return this.pushStack(Ie.uniqueSort(Ie.merge(this.get(),Ie(e,t))))},addBack:function(e){return this.add(null==e?this.prevObject:this.prevObject.filter(e))}}),Ie.each({parent:function(e){var t=e.parentNode;return t&&11!==t.nodeType?t:null},parents:function(e){return Pe(e,"parentNode")},parentsUntil:function(e,t,n){return Pe(e,"parentNode",n)},next:function(e){return d(e,"nextSibling")},prev:function(e){return d(e,"previousSibling")},nextAll:function(e){return Pe(e,"nextSibling")},prevAll:function(e){return Pe(e,"previousSibling")},nextUntil:function(e,t,n){return Pe(e,"nextSibling",n)},prevUntil:function(e,t,n){return Pe(e,"previousSibling",n)},siblings:function(e){return Oe((e.parentNode||{}).firstChild,e)},children:function(e){return Oe(e.firstChild)},contents:function(e){return"undefined"!=typeof e.contentDocument?e.contentDocument:(u(e,"template")&&(e=e.content||e),Ie.merge([],e.childNodes))}},function(e,t){Ie.fn[e]=function(n,i){var a=Ie.map(this,t,n);return"Until"!==e.slice(-5)&&(i=n),i&&"string"==typeof i&&(a=Ie.filter(i,a)),this.length>1&&(Ue[e]||Ie.uniqueSort(a),je.test(e)&&a.reverse()),this.pushStack(a)}});var He=/[^\x20\t\r\n\f]+/g;Ie.Callbacks=function(e){e="string"==typeof e?h(e):Ie.extend({},e);var t,n,i,a,r=[],s=[],l=-1,u=function(){for(a=a||e.once,i=t=!0;s.length;l=-1)for(n=s.shift();++l<r.length;)r[l].apply(n[0],n[1])===!1&&e.stopOnFalse&&(l=r.length,n=!1);e.memory||(n=!1),t=!1,a&&(r=n?[]:"")},c={add:function(){return r&&(n&&!t&&(l=r.length-1,s.push(n)),function t(n){Ie.each(n,function(n,i){Ce(i)?e.unique&&c.has(i)||r.push(i):i&&i.length&&"string"!==o(i)&&t(i)})}(arguments),n&&!t&&u()),this},remove:function(){return Ie.each(arguments,function(e,t){for(var n;(n=Ie.inArray(t,r,n))>-1;)r.splice(n,1),n<=l&&l--}),this},has:function(e){return e?Ie.inArray(e,r)>-1:r.length>0},empty:function(){return r&&(r=[]),this},disable:function(){return a=s=[],r=n="",this},disabled:function(){return!r},lock:function(){return a=s=[],n||t||(r=n=""),this},locked:function(){return!!a},fireWith:function(e,n){return a||(n=n||[],n=[e,n.slice?n.slice():n],s.push(n),t||u()),this},fire:function(){return c.fireWith(this,arguments),this},fired:function(){return!!i}};return c},Ie.extend({Deferred:function(e){var t=[["notify","progress",Ie.Callbacks("memory"),Ie.Callbacks("memory"),2],["resolve","done",Ie.Callbacks("once memory"),Ie.Callbacks("once memory"),0,"resolved"],["reject","fail",Ie.Callbacks("once memory"),Ie.Callbacks("once memory"),1,"rejected"]],i="pending",a={state:function(){return i},always:function(){return r.done(arguments).fail(arguments),this},catch:function(e){return a.then(null,e)},pipe:function(){var e=arguments;return Ie.Deferred(function(n){Ie.each(t,function(t,i){var a=Ce(e[i[4]])&&e[i[4]];r[i[1]](function(){var e=a&&a.apply(this,arguments);e&&Ce(e.promise)?e.promise().progress(n.notify).done(n.resolve).fail(n.reject):n[i[0]+"With"](this,a?[e]:arguments)})}),e=null}).promise()},then:function(e,i,a){function r(e,t,i,a){return function(){var o=this,l=arguments,u=function(){var n,u;if(!(e<s)){if(n=i.apply(o,l),n===t.promise())throw new TypeError("Thenable self-resolution");u=n&&("object"==typeof n||"function"==typeof n)&&n.then,Ce(u)?a?u.call(n,r(s,t,f,a),r(s,t,p,a)):(s++,u.call(n,r(s,t,f,a),r(s,t,p,a),r(s,t,f,t.notifyWith))):(i!==f&&(o=void 0,l=[n]),(a||t.resolveWith)(o,l))}},c=a?u:function(){try{u()}catch(n){Ie.Deferred.exceptionHook&&Ie.Deferred.exceptionHook(n,c.stackTrace),e+1>=s&&(i!==p&&(o=void 0,l=[n]),t.rejectWith(o,l))}};e?c():(Ie.Deferred.getStackHook&&(c.stackTrace=Ie.Deferred.getStackHook()),n.setTimeout(c))}}var s=0;return Ie.Deferred(function(n){t[0][3].add(r(0,n,Ce(a)?a:f,n.notifyWith)),t[1][3].add(r(0,n,Ce(e)?e:f)),t[2][3].add(r(0,n,Ce(i)?i:p))}).promise()},promise:function(e){return null!=e?Ie.extend(e,a):a}},r={};return Ie.each(t,function(e,n){var s=n[2],o=n[5];a[n[1]]=s.add,o&&s.add(function(){i=o},t[3-e][2].disable,t[3-e][3].disable,t[0][2].lock,t[0][3].lock),s.add(n[3].fire),r[n[0]]=function(){return r[n[0]+"With"](this===r?void 0:this,arguments),this},r[n[0]+"With"]=s.fireWith}),a.promise(r),e&&e.call(r,r),r},when:function(e){var t=arguments.length,n=t,i=Array(n),a=pe.call(arguments),r=Ie.Deferred(),s=function(e){return function(n){i[e]=this,a[e]=arguments.length>1?pe.call(arguments):n,--t||r.resolveWith(i,a)}};if(t<=1&&(m(e,r.done(s(n)).resolve,r.reject,!t),"pending"===r.state()||Ce(a[n]&&a[n].then)))return r.then();for(;n--;)m(a[n],s(n),r.reject);return r.promise()}});var Fe=/^(Eval|Internal|Range|Reference|Syntax|Type|URI)Error$/;Ie.Deferred.exceptionHook=function(e,t){n.console&&n.console.warn&&e&&Fe.test(e.name)&&n.console.warn("jQuery.Deferred exception: "+e.message,e.stack,t)},Ie.readyException=function(e){n.setTimeout(function(){throw e})};var ze=Ie.Deferred();Ie.fn.ready=function(e){return ze.then(e).catch(function(e){Ie.readyException(e)}),this},Ie.extend({isReady:!1,readyWait:1,ready:function(e){(e===!0?--Ie.readyWait:Ie.isReady)||(Ie.isReady=!0,e!==!0&&--Ie.readyWait>0||ze.resolveWith(he,[Ie]))}}),Ie.ready.then=ze.then,"complete"===he.readyState||"loading"!==he.readyState&&!he.documentElement.doScroll?n.setTimeout(Ie.ready):(he.addEventListener("DOMContentLoaded",g),n.addEventListener("load",g));var Ke=function(e,t,n,i,a,r,s){var l=0,u=e.length,c=null==n;if("object"===o(n)){a=!0;for(l in n)Ke(e,t,l,n[l],!0,r,s)}else if(void 0!==i&&(a=!0,Ce(i)||(s=!0),c&&(s?(t.call(e,i),t=null):(c=t,t=function(e,t,n){return c.call(Ie(e),n)})),t))for(;l<u;l++)t(e[l],n,s?i:i.call(e[l],l,t(e[l],n)));return a?e:c?t.call(e):u?t(e[0],n):r},Ge=/^-ms-/,Ve=/-([a-z])/g,We=function(e){return 1===e.nodeType||9===e.nodeType||!+e.nodeType};_.uid=1,_.prototype={cache:function(e){var t=e[this.expando];return t||(t={},We(e)&&(e.nodeType?e[this.expando]=t:Object.defineProperty(e,this.expando,{value:t,configurable:!0}))),t},set:function(e,t,n){var i,a=this.cache(e);if("string"==typeof t)a[y(t)]=n;else for(i in t)a[y(i)]=t[i];return a},get:function(e,t){return void 0===t?this.cache(e):e[this.expando]&&e[this.expando][y(t)]},access:function(e,t,n){return void 0===t||t&&"string"==typeof t&&void 0===n?this.get(e,t):(this.set(e,t,n),void 0!==n?n:t)},remove:function(e,t){var n,i=e[this.expando];if(void 0!==i){if(void 0!==t){Array.isArray(t)?t=t.map(y):(t=y(t),t=t in i?[t]:t.match(He)||[]),n=t.length;for(;n--;)delete i[t[n]]}(void 0===t||Ie.isEmptyObject(i))&&(e.nodeType?e[this.expando]=void 0:delete e[this.expando])}},hasData:function(e){var t=e[this.expando];return void 0!==t&&!Ie.isEmptyObject(t)}};var qe=new _,$e=new _,Ye=/^(?:\{[\w\W]*\}|\[[\w\W]*\])$/,Xe=/[A-Z]/g;Ie.extend({hasData:function(e){return $e.hasData(e)||qe.hasData(e)},data:function(e,t,n){return $e.access(e,t,n)},removeData:function(e,t){$e.remove(e,t)},_data:function(e,t,n){return qe.access(e,t,n)},_removeData:function(e,t){qe.remove(e,t)}}),Ie.fn.extend({data:function(e,t){var n,i,a,r=this[0],s=r&&r.attributes;if(void 0===e){if(this.length&&(a=$e.get(r),1===r.nodeType&&!qe.get(r,"hasDataAttrs"))){for(n=s.length;n--;)s[n]&&(i=s[n].name,0===i.indexOf("data-")&&(i=y(i.slice(5)),T(r,i,a[i])));qe.set(r,"hasDataAttrs",!0)}return a}return"object"==typeof e?this.each(function(){$e.set(this,e)}):Ke(this,function(t){var n;if(r&&void 0===t){if(n=$e.get(r,e),void 0!==n)return n;if(n=T(r,e),void 0!==n)return n}else this.each(function(){$e.set(this,e,t)})},null,t,arguments.length>1,null,!0)},removeData:function(e){return this.each(function(){$e.remove(this,e)})}}),Ie.extend({queue:function(e,t,n){var i;if(e)return t=(t||"fx")+"queue",i=qe.get(e,t),n&&(!i||Array.isArray(n)?i=qe.access(e,t,Ie.makeArray(n)):i.push(n)),i||[]},dequeue:function(e,t){t=t||"fx";var n=Ie.queue(e,t),i=n.length,a=n.shift(),r=Ie._queueHooks(e,t),s=function(){Ie.dequeue(e,t)};"inprogress"===a&&(a=n.shift(),i--),a&&("fx"===t&&n.unshift("inprogress"),delete r.stop,a.call(e,s,r)),!i&&r&&r.empty.fire()},_queueHooks:function(e,t){var n=t+"queueHooks";return qe.get(e,n)||qe.access(e,n,{empty:Ie.Callbacks("once memory").add(function(){qe.remove(e,[t+"queue",n])})})}}),Ie.fn.extend({queue:function(e,t){var n=2;return"string"!=typeof e&&(t=e,e="fx",n--),arguments.length<n?Ie.queue(this[0],e):void 0===t?this:this.each(function(){var n=Ie.queue(this,e,t);Ie._queueHooks(this,e),"fx"===e&&"inprogress"!==n[0]&&Ie.dequeue(this,e)})},dequeue:function(e){return this.each(function(){Ie.dequeue(this,e)})},clearQueue:function(e){return this.queue(e||"fx",[])},promise:function(e,t){var n,i=1,a=Ie.Deferred(),r=this,s=this.length,o=function(){--i||a.resolveWith(r,[r])};for("string"!=typeof e&&(t=e,e=void 0),e=e||"fx";s--;)n=qe.get(r[s],e+"queueHooks"),n&&n.empty&&(i++,n.empty.add(o));return o(),a.promise(t)}});var Qe=/[+-]?(?:\d*\.|)\d+(?:[eE][+-]?\d+|)/.source,Je=new RegExp("^(?:([+-])=|)("+Qe+")([a-z%]*)$","i"),Ze=["Top","Right","Bottom","Left"],et=he.documentElement,tt=function(e){return Ie.contains(e.ownerDocument,e)},nt={composed:!0};et.getRootNode&&(tt=function(e){return Ie.contains(e.ownerDocument,e)||e.getRootNode(nt)===e.ownerDocument});var it=function(e,t){return e=t||e,"none"===e.style.display||""===e.style.display&&tt(e)&&"none"===Ie.css(e,"display")},at=function(e,t,n,i){var a,r,s={};for(r in t)s[r]=e.style[r],e.style[r]=t[r];a=n.apply(e,i||[]);for(r in t)e.style[r]=s[r];return a},rt={};Ie.fn.extend({show:function(){return C(this,!0)},hide:function(){return C(this)},toggle:function(e){return"boolean"==typeof e?e?this.show():this.hide():this.each(function(){it(this)?Ie(this).show():Ie(this).hide()})}});var st=/^(?:checkbox|radio)$/i,ot=/<([a-z][^\/\0>\x20\t\r\n\f]*)/i,lt=/^$|^module$|\/(?:java|ecma)script/i,ut={option:[1,"<select multiple='multiple'>","</select>"],thead:[1,"<table>","</table>"],col:[2,"<table><colgroup>","</colgroup></table>"],tr:[2,"<table><tbody>","</tbody></table>"],td:[3,"<table><tbody><tr>","</tr></tbody></table>"],_default:[0,"",""]};
ut.optgroup=ut.option,ut.tbody=ut.tfoot=ut.colgroup=ut.caption=ut.thead,ut.th=ut.td;var ct=/<|&#?\w+;/;!function(){var e=he.createDocumentFragment(),t=e.appendChild(he.createElement("div")),n=he.createElement("input");n.setAttribute("type","radio"),n.setAttribute("checked","checked"),n.setAttribute("name","t"),t.appendChild(n),Se.checkClone=t.cloneNode(!0).cloneNode(!0).lastChild.checked,t.innerHTML="<textarea>x</textarea>",Se.noCloneChecked=!!t.cloneNode(!0).lastChild.defaultValue}();var dt=/^key/,ht=/^(?:mouse|pointer|contextmenu|drag|drop)|click/,ft=/^([^.]*)(?:\.(.+)|)/;Ie.event={global:{},add:function(e,t,n,i,a){var r,s,o,l,u,c,d,h,f,p,m,g=qe.get(e);if(g)for(n.handler&&(r=n,n=r.handler,a=r.selector),a&&Ie.find.matchesSelector(et,a),n.guid||(n.guid=Ie.guid++),(l=g.events)||(l=g.events={}),(s=g.handle)||(s=g.handle=function(t){return"undefined"!=typeof Ie&&Ie.event.triggered!==t.type?Ie.event.dispatch.apply(e,arguments):void 0}),t=(t||"").match(He)||[""],u=t.length;u--;)o=ft.exec(t[u])||[],f=m=o[1],p=(o[2]||"").split(".").sort(),f&&(d=Ie.event.special[f]||{},f=(a?d.delegateType:d.bindType)||f,d=Ie.event.special[f]||{},c=Ie.extend({type:f,origType:m,data:i,handler:n,guid:n.guid,selector:a,needsContext:a&&Ie.expr.match.needsContext.test(a),namespace:p.join(".")},r),(h=l[f])||(h=l[f]=[],h.delegateCount=0,d.setup&&d.setup.call(e,i,p,s)!==!1||e.addEventListener&&e.addEventListener(f,s)),d.add&&(d.add.call(e,c),c.handler.guid||(c.handler.guid=n.guid)),a?h.splice(h.delegateCount++,0,c):h.push(c),Ie.event.global[f]=!0)},remove:function(e,t,n,i,a){var r,s,o,l,u,c,d,h,f,p,m,g=qe.hasData(e)&&qe.get(e);if(g&&(l=g.events)){for(t=(t||"").match(He)||[""],u=t.length;u--;)if(o=ft.exec(t[u])||[],f=m=o[1],p=(o[2]||"").split(".").sort(),f){for(d=Ie.event.special[f]||{},f=(i?d.delegateType:d.bindType)||f,h=l[f]||[],o=o[2]&&new RegExp("(^|\\.)"+p.join("\\.(?:.*\\.|)")+"(\\.|$)"),s=r=h.length;r--;)c=h[r],!a&&m!==c.origType||n&&n.guid!==c.guid||o&&!o.test(c.namespace)||i&&i!==c.selector&&("**"!==i||!c.selector)||(h.splice(r,1),c.selector&&h.delegateCount--,d.remove&&d.remove.call(e,c));s&&!h.length&&(d.teardown&&d.teardown.call(e,p,g.handle)!==!1||Ie.removeEvent(e,f,g.handle),delete l[f])}else for(f in l)Ie.event.remove(e,f+t[u],n,i,!0);Ie.isEmptyObject(l)&&qe.remove(e,"handle events")}},dispatch:function(e){var t,n,i,a,r,s,o=Ie.event.fix(e),l=new Array(arguments.length),u=(qe.get(this,"events")||{})[o.type]||[],c=Ie.event.special[o.type]||{};for(l[0]=o,t=1;t<arguments.length;t++)l[t]=arguments[t];if(o.delegateTarget=this,!c.preDispatch||c.preDispatch.call(this,o)!==!1){for(s=Ie.event.handlers.call(this,o,u),t=0;(a=s[t++])&&!o.isPropagationStopped();)for(o.currentTarget=a.elem,n=0;(r=a.handlers[n++])&&!o.isImmediatePropagationStopped();)o.rnamespace&&r.namespace!==!1&&!o.rnamespace.test(r.namespace)||(o.handleObj=r,o.data=r.data,i=((Ie.event.special[r.origType]||{}).handle||r.handler).apply(a.elem,l),void 0!==i&&(o.result=i)===!1&&(o.preventDefault(),o.stopPropagation()));return c.postDispatch&&c.postDispatch.call(this,o),o.result}},handlers:function(e,t){var n,i,a,r,s,o=[],l=t.delegateCount,u=e.target;if(l&&u.nodeType&&!("click"===e.type&&e.button>=1))for(;u!==this;u=u.parentNode||this)if(1===u.nodeType&&("click"!==e.type||u.disabled!==!0)){for(r=[],s={},n=0;n<l;n++)i=t[n],a=i.selector+" ",void 0===s[a]&&(s[a]=i.needsContext?Ie(a,this).index(u)>-1:Ie.find(a,this,null,[u]).length),s[a]&&r.push(i);r.length&&o.push({elem:u,handlers:r})}return u=this,l<t.length&&o.push({elem:u,handlers:t.slice(l)}),o},addProp:function(e,t){Object.defineProperty(Ie.Event.prototype,e,{enumerable:!0,configurable:!0,get:Ce(t)?function(){if(this.originalEvent)return t(this.originalEvent)}:function(){if(this.originalEvent)return this.originalEvent[e]},set:function(t){Object.defineProperty(this,e,{enumerable:!0,configurable:!0,writable:!0,value:t})}})},fix:function(e){return e[Ie.expando]?e:new Ie.Event(e)},special:{load:{noBubble:!0},click:{setup:function(e){var t=this||e;return st.test(t.type)&&t.click&&u(t,"input")&&D(t,"click",I),!1},trigger:function(e){var t=this||e;return st.test(t.type)&&t.click&&u(t,"input")&&D(t,"click"),!0},_default:function(e){var t=e.target;return st.test(t.type)&&t.click&&u(t,"input")&&qe.get(t,"click")||u(t,"a")}},beforeunload:{postDispatch:function(e){void 0!==e.result&&e.originalEvent&&(e.originalEvent.returnValue=e.result)}}}},Ie.removeEvent=function(e,t,n){e.removeEventListener&&e.removeEventListener(t,n)},Ie.Event=function(e,t){return this instanceof Ie.Event?(e&&e.type?(this.originalEvent=e,this.type=e.type,this.isDefaultPrevented=e.defaultPrevented||void 0===e.defaultPrevented&&e.returnValue===!1?I:L,this.target=e.target&&3===e.target.nodeType?e.target.parentNode:e.target,this.currentTarget=e.currentTarget,this.relatedTarget=e.relatedTarget):this.type=e,t&&Ie.extend(this,t),this.timeStamp=e&&e.timeStamp||Date.now(),void(this[Ie.expando]=!0)):new Ie.Event(e,t)},Ie.Event.prototype={constructor:Ie.Event,isDefaultPrevented:L,isPropagationStopped:L,isImmediatePropagationStopped:L,isSimulated:!1,preventDefault:function(){var e=this.originalEvent;this.isDefaultPrevented=I,e&&!this.isSimulated&&e.preventDefault()},stopPropagation:function(){var e=this.originalEvent;this.isPropagationStopped=I,e&&!this.isSimulated&&e.stopPropagation()},stopImmediatePropagation:function(){var e=this.originalEvent;this.isImmediatePropagationStopped=I,e&&!this.isSimulated&&e.stopImmediatePropagation(),this.stopPropagation()}},Ie.each({altKey:!0,bubbles:!0,cancelable:!0,changedTouches:!0,ctrlKey:!0,detail:!0,eventPhase:!0,metaKey:!0,pageX:!0,pageY:!0,shiftKey:!0,view:!0,char:!0,code:!0,charCode:!0,key:!0,keyCode:!0,button:!0,buttons:!0,clientX:!0,clientY:!0,offsetX:!0,offsetY:!0,pointerId:!0,pointerType:!0,screenX:!0,screenY:!0,targetTouches:!0,toElement:!0,touches:!0,which:function(e){var t=e.button;return null==e.which&&dt.test(e.type)?null!=e.charCode?e.charCode:e.keyCode:!e.which&&void 0!==t&&ht.test(e.type)?1&t?1:2&t?3:4&t?2:0:e.which}},Ie.event.addProp),Ie.each({focus:"focusin",blur:"focusout"},function(e,t){Ie.event.special[e]={setup:function(){return D(this,e,x),!1},trigger:function(){return D(this,e),!0},delegateType:t}}),Ie.each({mouseenter:"mouseover",mouseleave:"mouseout",pointerenter:"pointerover",pointerleave:"pointerout"},function(e,t){Ie.event.special[e]={delegateType:t,bindType:t,handle:function(e){var n,i=this,a=e.relatedTarget,r=e.handleObj;return a&&(a===i||Ie.contains(i,a))||(e.type=r.origType,n=r.handler.apply(this,arguments),e.type=t),n}}}),Ie.fn.extend({on:function(e,t,n,i){return O(this,e,t,n,i)},one:function(e,t,n,i){return O(this,e,t,n,i,1)},off:function(e,t,n){var i,a;if(e&&e.preventDefault&&e.handleObj)return i=e.handleObj,Ie(e.delegateTarget).off(i.namespace?i.origType+"."+i.namespace:i.origType,i.selector,i.handler),this;if("object"==typeof e){for(a in e)this.off(a,t,e[a]);return this}return t!==!1&&"function"!=typeof t||(n=t,t=void 0),n===!1&&(n=L),this.each(function(){Ie.event.remove(this,e,n,t)})}});var pt=/<(?!area|br|col|embed|hr|img|input|link|meta|param)(([a-z][^\/\0>\x20\t\r\n\f]*)[^>]*)\/>/gi,mt=/<script|<style|<link/i,gt=/checked\s*(?:[^=]|=\s*.checked.)/i,vt=/^\s*<!(?:\[CDATA\[|--)|(?:\]\]|--)>\s*$/g;Ie.extend({htmlPrefilter:function(e){return e.replace(pt,"<" + "$1></$2>")},clone:function(e,t,n){var i,a,r,s,o=e.cloneNode(!0),l=tt(e);if(!(Se.noCloneChecked||1!==e.nodeType&&11!==e.nodeType||Ie.isXMLDoc(e)))for(s=w(o),r=w(e),i=0,a=r.length;i<a;i++)j(r[i],s[i]);if(t)if(n)for(r=r||w(e),s=s||w(o),i=0,a=r.length;i<a;i++)B(r[i],s[i]);else B(e,o);return s=w(o,"script"),s.length>0&&E(s,!l&&w(e,"script")),o},cleanData:function(e){for(var t,n,i,a=Ie.event.special,r=0;void 0!==(n=e[r]);r++)if(We(n)){if(t=n[qe.expando]){if(t.events)for(i in t.events)a[i]?Ie.event.remove(n,i):Ie.removeEvent(n,i,t.handle);n[qe.expando]=void 0}n[$e.expando]&&(n[$e.expando]=void 0)}}}),Ie.fn.extend({detach:function(e){return H(this,e,!0)},remove:function(e){return H(this,e)},text:function(e){return Ke(this,function(e){return void 0===e?Ie.text(this):this.empty().each(function(){1!==this.nodeType&&11!==this.nodeType&&9!==this.nodeType||(this.textContent=e)})},null,e,arguments.length)},append:function(){return U(this,arguments,function(e){if(1===this.nodeType||11===this.nodeType||9===this.nodeType){var t=N(this,e);t.appendChild(e)}})},prepend:function(){return U(this,arguments,function(e){if(1===this.nodeType||11===this.nodeType||9===this.nodeType){var t=N(this,e);t.insertBefore(e,t.firstChild)}})},before:function(){return U(this,arguments,function(e){this.parentNode&&this.parentNode.insertBefore(e,this)})},after:function(){return U(this,arguments,function(e){this.parentNode&&this.parentNode.insertBefore(e,this.nextSibling)})},empty:function(){for(var e,t=0;null!=(e=this[t]);t++)1===e.nodeType&&(Ie.cleanData(w(e,!1)),e.textContent="");return this},clone:function(e,t){return e=null!=e&&e,t=null==t?e:t,this.map(function(){return Ie.clone(this,e,t)})},html:function(e){return Ke(this,function(e){var t=this[0]||{},n=0,i=this.length;if(void 0===e&&1===t.nodeType)return t.innerHTML;if("string"==typeof e&&!mt.test(e)&&!ut[(ot.exec(e)||["",""])[1].toLowerCase()]){e=Ie.htmlPrefilter(e);try{for(;n<i;n++)t=this[n]||{},1===t.nodeType&&(Ie.cleanData(w(t,!1)),t.innerHTML=e);t=0}catch(e){}}t&&this.empty().append(e)},null,e,arguments.length)},replaceWith:function(){var e=[];return U(this,arguments,function(t){var n=this.parentNode;Ie.inArray(this,e)<0&&(Ie.cleanData(w(this)),n&&n.replaceChild(t,this))},e)}}),Ie.each({appendTo:"append",prependTo:"prepend",insertBefore:"before",insertAfter:"after",replaceAll:"replaceWith"},function(e,t){Ie.fn[e]=function(e){for(var n,i=[],a=Ie(e),r=a.length-1,s=0;s<=r;s++)n=s===r?this:this.clone(!0),Ie(a[s])[t](n),ge.apply(i,n.get());return this.pushStack(i)}});var yt=new RegExp("^("+Qe+")(?!px)[a-z%]+$","i"),_t=function(e){var t=e.ownerDocument.defaultView;return t&&t.opener||(t=n),t.getComputedStyle(e)},bt=new RegExp(Ze.join("|"),"i");!function(){function e(){if(u){l.style.cssText="position:absolute;left:-11111px;width:60px;margin-top:1px;padding:0;border:0",u.style.cssText="position:relative;display:block;box-sizing:border-box;overflow:scroll;margin:auto;border:1px;padding:1px;width:60%;top:1%",et.appendChild(l).appendChild(u);var e=n.getComputedStyle(u);i="1%"!==e.top,o=12===t(e.marginLeft),u.style.right="60%",s=36===t(e.right),a=36===t(e.width),u.style.position="absolute",r=12===t(u.offsetWidth/3),et.removeChild(l),u=null}}function t(e){return Math.round(parseFloat(e))}var i,a,r,s,o,l=he.createElement("div"),u=he.createElement("div");u.style&&(u.style.backgroundClip="content-box",u.cloneNode(!0).style.backgroundClip="",Se.clearCloneStyle="content-box"===u.style.backgroundClip,Ie.extend(Se,{boxSizingReliable:function(){return e(),a},pixelBoxStyles:function(){return e(),s},pixelPosition:function(){return e(),i},reliableMarginLeft:function(){return e(),o},scrollboxSize:function(){return e(),r}}))}();var Tt=["Webkit","Moz","ms"],kt=he.createElement("div").style,St={},Ct=/^(none|table(?!-c[ea]).+)/,wt=/^--/,Et={position:"absolute",visibility:"hidden",display:"block"},At={letterSpacing:"0",fontWeight:"400"};Ie.extend({cssHooks:{opacity:{get:function(e,t){if(t){var n=F(e,"opacity");return""===n?"1":n}}}},cssNumber:{animationIterationCount:!0,columnCount:!0,fillOpacity:!0,flexGrow:!0,flexShrink:!0,fontWeight:!0,gridArea:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnStart:!0,gridRow:!0,gridRowEnd:!0,gridRowStart:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,widows:!0,zIndex:!0,zoom:!0},cssProps:{},style:function(e,t,n,i){if(e&&3!==e.nodeType&&8!==e.nodeType&&e.style){var a,r,s,o=y(t),l=wt.test(t),u=e.style;return l||(t=G(o)),s=Ie.cssHooks[t]||Ie.cssHooks[o],void 0===n?s&&"get"in s&&void 0!==(a=s.get(e,!1,i))?a:u[t]:(r=typeof n,"string"===r&&(a=Je.exec(n))&&a[1]&&(n=k(e,t,a),r="number"),null!=n&&n===n&&("number"!==r||l||(n+=a&&a[3]||(Ie.cssNumber[o]?"":"px")),Se.clearCloneStyle||""!==n||0!==t.indexOf("background")||(u[t]="inherit"),s&&"set"in s&&void 0===(n=s.set(e,n,i))||(l?u.setProperty(t,n):u[t]=n)),void 0)}},css:function(e,t,n,i){var a,r,s,o=y(t),l=wt.test(t);return l||(t=G(o)),s=Ie.cssHooks[t]||Ie.cssHooks[o],s&&"get"in s&&(a=s.get(e,!0,n)),void 0===a&&(a=F(e,t,i)),"normal"===a&&t in At&&(a=At[t]),""===n||n?(r=parseFloat(a),n===!0||isFinite(r)?r||0:a):a}}),Ie.each(["height","width"],function(e,t){Ie.cssHooks[t]={get:function(e,n,i){if(n)return!Ct.test(Ie.css(e,"display"))||e.getClientRects().length&&e.getBoundingClientRect().width?q(e,t,i):at(e,Et,function(){return q(e,t,i)})},set:function(e,n,i){var a,r=_t(e),s=!Se.scrollboxSize()&&"absolute"===r.position,o=s||i,l=o&&"border-box"===Ie.css(e,"boxSizing",!1,r),u=i?W(e,t,i,l,r):0;return l&&s&&(u-=Math.ceil(e["offset"+t[0].toUpperCase()+t.slice(1)]-parseFloat(r[t])-W(e,t,"border",!1,r)-.5)),u&&(a=Je.exec(n))&&"px"!==(a[3]||"px")&&(e.style[t]=n,n=Ie.css(e,t)),V(e,n,u)}}}),Ie.cssHooks.marginLeft=z(Se.reliableMarginLeft,function(e,t){if(t)return(parseFloat(F(e,"marginLeft"))||e.getBoundingClientRect().left-at(e,{marginLeft:0},function(){return e.getBoundingClientRect().left}))+"px"}),Ie.each({margin:"",padding:"",border:"Width"},function(e,t){Ie.cssHooks[e+t]={expand:function(n){for(var i=0,a={},r="string"==typeof n?n.split(" "):[n];i<4;i++)a[e+Ze[i]+t]=r[i]||r[i-2]||r[0];return a}},"margin"!==e&&(Ie.cssHooks[e+t].set=V)}),Ie.fn.extend({css:function(e,t){return Ke(this,function(e,t,n){var i,a,r={},s=0;if(Array.isArray(t)){for(i=_t(e),a=t.length;s<a;s++)r[t[s]]=Ie.css(e,t[s],!1,i);return r}return void 0!==n?Ie.style(e,t,n):Ie.css(e,t)},e,t,arguments.length>1)}}),Ie.Tween=$,$.prototype={constructor:$,init:function(e,t,n,i,a,r){this.elem=e,this.prop=n,this.easing=a||Ie.easing._default,this.options=t,this.start=this.now=this.cur(),this.end=i,this.unit=r||(Ie.cssNumber[n]?"":"px")},cur:function(){var e=$.propHooks[this.prop];return e&&e.get?e.get(this):$.propHooks._default.get(this)},run:function(e){var t,n=$.propHooks[this.prop];return this.options.duration?this.pos=t=Ie.easing[this.easing](e,this.options.duration*e,0,1,this.options.duration):this.pos=t=e,this.now=(this.end-this.start)*t+this.start,this.options.step&&this.options.step.call(this.elem,this.now,this),n&&n.set?n.set(this):$.propHooks._default.set(this),this}},$.prototype.init.prototype=$.prototype,$.propHooks={_default:{get:function(e){var t;return 1!==e.elem.nodeType||null!=e.elem[e.prop]&&null==e.elem.style[e.prop]?e.elem[e.prop]:(t=Ie.css(e.elem,e.prop,""),t&&"auto"!==t?t:0)},set:function(e){Ie.fx.step[e.prop]?Ie.fx.step[e.prop](e):1!==e.elem.nodeType||!Ie.cssHooks[e.prop]&&null==e.elem.style[G(e.prop)]?e.elem[e.prop]=e.now:Ie.style(e.elem,e.prop,e.now+e.unit)}}},$.propHooks.scrollTop=$.propHooks.scrollLeft={set:function(e){e.elem.nodeType&&e.elem.parentNode&&(e.elem[e.prop]=e.now)}},Ie.easing={linear:function(e){return e},swing:function(e){return.5-Math.cos(e*Math.PI)/2},_default:"swing"},Ie.fx=$.prototype.init,Ie.fx.step={};var It,Lt,xt=/^(?:toggle|show|hide)$/,Pt=/queueHooks$/;Ie.Animation=Ie.extend(te,{tweeners:{"*":[function(e,t){var n=this.createTween(e,t);return k(n.elem,e,Je.exec(t),n),n}]},tweener:function(e,t){Ce(e)?(t=e,e=["*"]):e=e.match(He);for(var n,i=0,a=e.length;i<a;i++)n=e[i],te.tweeners[n]=te.tweeners[n]||[],te.tweeners[n].unshift(t)},prefilters:[Z],prefilter:function(e,t){t?te.prefilters.unshift(e):te.prefilters.push(e)}}),Ie.speed=function(e,t,n){var i=e&&"object"==typeof e?Ie.extend({},e):{complete:n||!n&&t||Ce(e)&&e,duration:e,easing:n&&t||t&&!Ce(t)&&t};return Ie.fx.off?i.duration=0:"number"!=typeof i.duration&&(i.duration in Ie.fx.speeds?i.duration=Ie.fx.speeds[i.duration]:i.duration=Ie.fx.speeds._default),null!=i.queue&&i.queue!==!0||(i.queue="fx"),i.old=i.complete,i.complete=function(){Ce(i.old)&&i.old.call(this),i.queue&&Ie.dequeue(this,i.queue)},i},Ie.fn.extend({fadeTo:function(e,t,n,i){return this.filter(it).css("opacity",0).show().end().animate({opacity:t},e,n,i)},animate:function(e,t,n,i){var a=Ie.isEmptyObject(e),r=Ie.speed(t,n,i),s=function(){var t=te(this,Ie.extend({},e),r);(a||qe.get(this,"finish"))&&t.stop(!0)};return s.finish=s,a||r.queue===!1?this.each(s):this.queue(r.queue,s)},stop:function(e,t,n){var i=function(e){var t=e.stop;delete e.stop,t(n)};return"string"!=typeof e&&(n=t,t=e,e=void 0),t&&e!==!1&&this.queue(e||"fx",[]),this.each(function(){var t=!0,a=null!=e&&e+"queueHooks",r=Ie.timers,s=qe.get(this);if(a)s[a]&&s[a].stop&&i(s[a]);else for(a in s)s[a]&&s[a].stop&&Pt.test(a)&&i(s[a]);for(a=r.length;a--;)r[a].elem!==this||null!=e&&r[a].queue!==e||(r[a].anim.stop(n),t=!1,r.splice(a,1));!t&&n||Ie.dequeue(this,e)})},finish:function(e){return e!==!1&&(e=e||"fx"),this.each(function(){var t,n=qe.get(this),i=n[e+"queue"],a=n[e+"queueHooks"],r=Ie.timers,s=i?i.length:0;for(n.finish=!0,Ie.queue(this,e,[]),a&&a.stop&&a.stop.call(this,!0),t=r.length;t--;)r[t].elem===this&&r[t].queue===e&&(r[t].anim.stop(!0),r.splice(t,1));for(t=0;t<s;t++)i[t]&&i[t].finish&&i[t].finish.call(this);delete n.finish})}}),Ie.each(["toggle","show","hide"],function(e,t){var n=Ie.fn[t];Ie.fn[t]=function(e,i,a){return null==e||"boolean"==typeof e?n.apply(this,arguments):this.animate(Q(t,!0),e,i,a)}}),Ie.each({slideDown:Q("show"),slideUp:Q("hide"),slideToggle:Q("toggle"),fadeIn:{opacity:"show"},fadeOut:{opacity:"hide"},fadeToggle:{opacity:"toggle"}},function(e,t){Ie.fn[e]=function(e,n,i){return this.animate(t,e,n,i)}}),Ie.timers=[],Ie.fx.tick=function(){var e,t=0,n=Ie.timers;for(It=Date.now();t<n.length;t++)e=n[t],e()||n[t]!==e||n.splice(t--,1);n.length||Ie.fx.stop(),It=void 0},Ie.fx.timer=function(e){Ie.timers.push(e),Ie.fx.start()},Ie.fx.interval=13,Ie.fx.start=function(){Lt||(Lt=!0,Y())},Ie.fx.stop=function(){Lt=null},Ie.fx.speeds={slow:600,fast:200,_default:400},Ie.fn.delay=function(e,t){return e=Ie.fx?Ie.fx.speeds[e]||e:e,t=t||"fx",this.queue(t,function(t,i){var a=n.setTimeout(t,e);i.stop=function(){n.clearTimeout(a)}})},function(){var e=he.createElement("input"),t=he.createElement("select"),n=t.appendChild(he.createElement("option"));e.type="checkbox",Se.checkOn=""!==e.value,Se.optSelected=n.selected,e=he.createElement("input"),e.value="t",e.type="radio",Se.radioValue="t"===e.value}();var Ot,Dt=Ie.expr.attrHandle;Ie.fn.extend({attr:function(e,t){return Ke(this,Ie.attr,e,t,arguments.length>1)},removeAttr:function(e){return this.each(function(){Ie.removeAttr(this,e)})}}),Ie.extend({attr:function(e,t,n){var i,a,r=e.nodeType;if(3!==r&&8!==r&&2!==r)return"undefined"==typeof e.getAttribute?Ie.prop(e,t,n):(1===r&&Ie.isXMLDoc(e)||(a=Ie.attrHooks[t.toLowerCase()]||(Ie.expr.match.bool.test(t)?Ot:void 0)),void 0!==n?null===n?void Ie.removeAttr(e,t):a&&"set"in a&&void 0!==(i=a.set(e,n,t))?i:(e.setAttribute(t,n+""),n):a&&"get"in a&&null!==(i=a.get(e,t))?i:(i=Ie.find.attr(e,t),null==i?void 0:i))},attrHooks:{type:{set:function(e,t){if(!Se.radioValue&&"radio"===t&&u(e,"input")){var n=e.value;return e.setAttribute("type",t),n&&(e.value=n),t}}}},removeAttr:function(e,t){var n,i=0,a=t&&t.match(He);if(a&&1===e.nodeType)for(;n=a[i++];)e.removeAttribute(n)}}),Ot={set:function(e,t,n){return t===!1?Ie.removeAttr(e,n):e.setAttribute(n,n),n}},Ie.each(Ie.expr.match.bool.source.match(/\w+/g),function(e,t){var n=Dt[t]||Ie.find.attr;Dt[t]=function(e,t,i){var a,r,s=t.toLowerCase();return i||(r=Dt[s],Dt[s]=a,a=null!=n(e,t,i)?s:null,Dt[s]=r),a}});var Nt=/^(?:input|select|textarea|button)$/i,Mt=/^(?:a|area)$/i;Ie.fn.extend({prop:function(e,t){return Ke(this,Ie.prop,e,t,arguments.length>1)},removeProp:function(e){return this.each(function(){delete this[Ie.propFix[e]||e]})}}),Ie.extend({prop:function(e,t,n){var i,a,r=e.nodeType;if(3!==r&&8!==r&&2!==r)return 1===r&&Ie.isXMLDoc(e)||(t=Ie.propFix[t]||t,a=Ie.propHooks[t]),void 0!==n?a&&"set"in a&&void 0!==(i=a.set(e,n,t))?i:e[t]=n:a&&"get"in a&&null!==(i=a.get(e,t))?i:e[t]},propHooks:{tabIndex:{get:function(e){var t=Ie.find.attr(e,"tabindex");return t?parseInt(t,10):Nt.test(e.nodeName)||Mt.test(e.nodeName)&&e.href?0:-1}}},propFix:{for:"htmlFor",class:"className"}}),Se.optSelected||(Ie.propHooks.selected={get:function(e){var t=e.parentNode;return t&&t.parentNode&&t.parentNode.selectedIndex,null},set:function(e){var t=e.parentNode;t&&(t.selectedIndex,t.parentNode&&t.parentNode.selectedIndex)}}),Ie.each(["tabIndex","readOnly","maxLength","cellSpacing","cellPadding","rowSpan","colSpan","useMap","frameBorder","contentEditable"],function(){Ie.propFix[this.toLowerCase()]=this}),Ie.fn.extend({addClass:function(e){var t,n,i,a,r,s,o,l=0;if(Ce(e))return this.each(function(t){Ie(this).addClass(e.call(this,t,ie(this)))});if(t=ae(e),t.length)for(;n=this[l++];)if(a=ie(n),i=1===n.nodeType&&" "+ne(a)+" "){for(s=0;r=t[s++];)i.indexOf(" "+r+" ")<0&&(i+=r+" ");o=ne(i),a!==o&&n.setAttribute("class",o)}return this},removeClass:function(e){var t,n,i,a,r,s,o,l=0;if(Ce(e))return this.each(function(t){Ie(this).removeClass(e.call(this,t,ie(this)))});if(!arguments.length)return this.attr("class","");if(t=ae(e),t.length)for(;n=this[l++];)if(a=ie(n),i=1===n.nodeType&&" "+ne(a)+" "){for(s=0;r=t[s++];)for(;i.indexOf(" "+r+" ")>-1;)i=i.replace(" "+r+" "," ");o=ne(i),a!==o&&n.setAttribute("class",o)}return this},toggleClass:function(e,t){var n=typeof e,i="string"===n||Array.isArray(e);return"boolean"==typeof t&&i?t?this.addClass(e):this.removeClass(e):Ce(e)?this.each(function(n){Ie(this).toggleClass(e.call(this,n,ie(this),t),t)}):this.each(function(){var t,a,r,s;if(i)for(a=0,r=Ie(this),s=ae(e);t=s[a++];)r.hasClass(t)?r.removeClass(t):r.addClass(t);else void 0!==e&&"boolean"!==n||(t=ie(this),t&&qe.set(this,"__className__",t),this.setAttribute&&this.setAttribute("class",t||e===!1?"":qe.get(this,"__className__")||""))})},hasClass:function(e){var t,n,i=0;for(t=" "+e+" ";n=this[i++];)if(1===n.nodeType&&(" "+ne(ie(n))+" ").indexOf(t)>-1)return!0;return!1}});var Rt=/\r/g;Ie.fn.extend({val:function(e){var t,n,i,a=this[0];{if(arguments.length)return i=Ce(e),this.each(function(n){var a;1===this.nodeType&&(a=i?e.call(this,n,Ie(this).val()):e,null==a?a="":"number"==typeof a?a+="":Array.isArray(a)&&(a=Ie.map(a,function(e){return null==e?"":e+""})),t=Ie.valHooks[this.type]||Ie.valHooks[this.nodeName.toLowerCase()],t&&"set"in t&&void 0!==t.set(this,a,"value")||(this.value=a))});if(a)return t=Ie.valHooks[a.type]||Ie.valHooks[a.nodeName.toLowerCase()],t&&"get"in t&&void 0!==(n=t.get(a,"value"))?n:(n=a.value,"string"==typeof n?n.replace(Rt,""):null==n?"":n)}}}),Ie.extend({valHooks:{option:{get:function(e){var t=Ie.find.attr(e,"value");return null!=t?t:ne(Ie.text(e))}},select:{get:function(e){var t,n,i,a=e.options,r=e.selectedIndex,s="select-one"===e.type,o=s?null:[],l=s?r+1:a.length;for(i=r<0?l:s?r:0;i<l;i++)if(n=a[i],(n.selected||i===r)&&!n.disabled&&(!n.parentNode.disabled||!u(n.parentNode,"optgroup"))){if(t=Ie(n).val(),s)return t;o.push(t)}return o},set:function(e,t){for(var n,i,a=e.options,r=Ie.makeArray(t),s=a.length;s--;)i=a[s],(i.selected=Ie.inArray(Ie.valHooks.option.get(i),r)>-1)&&(n=!0);return n||(e.selectedIndex=-1),r}}}}),Ie.each(["radio","checkbox"],function(){Ie.valHooks[this]={set:function(e,t){if(Array.isArray(t))return e.checked=Ie.inArray(Ie(e).val(),t)>-1}},Se.checkOn||(Ie.valHooks[this].get=function(e){return null===e.getAttribute("value")?"on":e.value})}),Se.focusin="onfocusin"in n;var Bt=/^(?:focusinfocus|focusoutblur)$/,jt=function(e){e.stopPropagation()};Ie.extend(Ie.event,{trigger:function(e,t,i,a){var r,s,o,l,u,c,d,h,f=[i||he],p=be.call(e,"type")?e.type:e,m=be.call(e,"namespace")?e.namespace.split("."):[];if(s=h=o=i=i||he,3!==i.nodeType&&8!==i.nodeType&&!Bt.test(p+Ie.event.triggered)&&(p.indexOf(".")>-1&&(m=p.split("."),p=m.shift(),m.sort()),u=p.indexOf(":")<0&&"on"+p,e=e[Ie.expando]?e:new Ie.Event(p,"object"==typeof e&&e),e.isTrigger=a?2:3,e.namespace=m.join("."),e.rnamespace=e.namespace?new RegExp("(^|\\.)"+m.join("\\.(?:.*\\.|)")+"(\\.|$)"):null,e.result=void 0,e.target||(e.target=i),t=null==t?[e]:Ie.makeArray(t,[e]),d=Ie.event.special[p]||{},a||!d.trigger||d.trigger.apply(i,t)!==!1)){if(!a&&!d.noBubble&&!we(i)){for(l=d.delegateType||p,Bt.test(l+p)||(s=s.parentNode);s;s=s.parentNode)f.push(s),o=s;o===(i.ownerDocument||he)&&f.push(o.defaultView||o.parentWindow||n)}for(r=0;(s=f[r++])&&!e.isPropagationStopped();)h=s,e.type=r>1?l:d.bindType||p,c=(qe.get(s,"events")||{})[e.type]&&qe.get(s,"handle"),c&&c.apply(s,t),c=u&&s[u],c&&c.apply&&We(s)&&(e.result=c.apply(s,t),e.result===!1&&e.preventDefault());return e.type=p,a||e.isDefaultPrevented()||d._default&&d._default.apply(f.pop(),t)!==!1||!We(i)||u&&Ce(i[p])&&!we(i)&&(o=i[u],o&&(i[u]=null),Ie.event.triggered=p,e.isPropagationStopped()&&h.addEventListener(p,jt),i[p](),e.isPropagationStopped()&&h.removeEventListener(p,jt),Ie.event.triggered=void 0,o&&(i[u]=o)),e.result}},simulate:function(e,t,n){var i=Ie.extend(new Ie.Event,n,{type:e,isSimulated:!0});Ie.event.trigger(i,null,t)}}),Ie.fn.extend({trigger:function(e,t){return this.each(function(){Ie.event.trigger(e,t,this)})},triggerHandler:function(e,t){var n=this[0];if(n)return Ie.event.trigger(e,t,n,!0)}}),Se.focusin||Ie.each({focus:"focusin",blur:"focusout"},function(e,t){var n=function(e){Ie.event.simulate(t,e.target,Ie.event.fix(e))};Ie.event.special[t]={setup:function(){var i=this.ownerDocument||this,a=qe.access(i,t);a||i.addEventListener(e,n,!0),qe.access(i,t,(a||0)+1)},teardown:function(){var i=this.ownerDocument||this,a=qe.access(i,t)-1;a?qe.access(i,t,a):(i.removeEventListener(e,n,!0),qe.remove(i,t))}}});var Ut=n.location,Ht=Date.now(),Ft=/\?/;Ie.parseXML=function(e){var t;if(!e||"string"!=typeof e)return null;try{t=(new n.DOMParser).parseFromString(e,"text/xml")}catch(e){t=void 0}return t&&!t.getElementsByTagName("parsererror").length||Ie.error("Invalid XML: "+e),t};var zt=/\[\]$/,Kt=/\r?\n/g,Gt=/^(?:submit|button|image|reset|file)$/i,Vt=/^(?:input|select|textarea|keygen)/i;Ie.param=function(e,t){var n,i=[],a=function(e,t){var n=Ce(t)?t():t;i[i.length]=encodeURIComponent(e)+"="+encodeURIComponent(null==n?"":n)};if(null==e)return"";if(Array.isArray(e)||e.jquery&&!Ie.isPlainObject(e))Ie.each(e,function(){a(this.name,this.value)});else for(n in e)re(n,e[n],t,a);return i.join("&")},Ie.fn.extend({serialize:function(){return Ie.param(this.serializeArray())},serializeArray:function(){return this.map(function(){var e=Ie.prop(this,"elements");return e?Ie.makeArray(e):this}).filter(function(){var e=this.type;return this.name&&!Ie(this).is(":disabled")&&Vt.test(this.nodeName)&&!Gt.test(e)&&(this.checked||!st.test(e))}).map(function(e,t){var n=Ie(this).val();return null==n?null:Array.isArray(n)?Ie.map(n,function(e){return{name:t.name,value:e.replace(Kt,"\r\n")}}):{name:t.name,value:n.replace(Kt,"\r\n")}}).get()}});var Wt=/%20/g,qt=/#.*$/,$t=/([?&])_=[^&]*/,Yt=/^(.*?):[ \t]*([^\r\n]*)$/gm,Xt=/^(?:about|app|app-storage|.+-extension|file|res|widget):$/,Qt=/^(?:GET|HEAD)$/,Jt=/^\/\//,Zt={},en={},tn="*/".concat("*"),nn=he.createElement("a");nn.href=Ut.href,Ie.extend({active:0,lastModified:{},etag:{},ajaxSettings:{url:Ut.href,type:"GET",isLocal:Xt.test(Ut.protocol),global:!0,processData:!0,async:!0,contentType:"application/x-www-form-urlencoded; charset=UTF-8",accepts:{"*":tn,text:"text/plain",html:"text/html",xml:"application/xml, text/xml",json:"application/json, text/javascript"},contents:{xml:/\bxml\b/,html:/\bhtml/,json:/\bjson\b/},responseFields:{xml:"responseXML",text:"responseText",json:"responseJSON"},converters:{"* text":String,"text html":!0,"text json":JSON.parse,"text xml":Ie.parseXML},flatOptions:{url:!0,context:!0}},ajaxSetup:function(e,t){return t?le(le(e,Ie.ajaxSettings),t):le(Ie.ajaxSettings,e)},ajaxPrefilter:se(Zt),ajaxTransport:se(en),ajax:function(e,t){function i(e,t,i,o){var u,h,f,b,T,k=t;c||(c=!0,l&&n.clearTimeout(l),a=void 0,s=o||"",S.readyState=e>0?4:0,u=e>=200&&e<300||304===e,i&&(b=ue(p,S,i)),b=ce(p,b,S,u),u?(p.ifModified&&(T=S.getResponseHeader("Last-Modified"),T&&(Ie.lastModified[r]=T),T=S.getResponseHeader("etag"),T&&(Ie.etag[r]=T)),204===e||"HEAD"===p.type?k="nocontent":304===e?k="notmodified":(k=b.state,h=b.data,f=b.error,u=!f)):(f=k,!e&&k||(k="error",e<0&&(e=0))),S.status=e,S.statusText=(t||k)+"",u?v.resolveWith(m,[h,k,S]):v.rejectWith(m,[S,k,f]),S.statusCode(_),_=void 0,d&&g.trigger(u?"ajaxSuccess":"ajaxError",[S,p,u?h:f]),y.fireWith(m,[S,k]),d&&(g.trigger("ajaxComplete",[S,p]),--Ie.active||Ie.event.trigger("ajaxStop")))}"object"==typeof e&&(t=e,e=void 0),t=t||{};var a,r,s,o,l,u,c,d,h,f,p=Ie.ajaxSetup({},t),m=p.context||p,g=p.context&&(m.nodeType||m.jquery)?Ie(m):Ie.event,v=Ie.Deferred(),y=Ie.Callbacks("once memory"),_=p.statusCode||{},b={},T={},k="canceled",S={readyState:0,getResponseHeader:function(e){var t;if(c){if(!o)for(o={};t=Yt.exec(s);)o[t[1].toLowerCase()+" "]=(o[t[1].toLowerCase()+" "]||[]).concat(t[2]);t=o[e.toLowerCase()+" "]}return null==t?null:t.join(", ")},getAllResponseHeaders:function(){return c?s:null},setRequestHeader:function(e,t){return null==c&&(e=T[e.toLowerCase()]=T[e.toLowerCase()]||e,b[e]=t),this},overrideMimeType:function(e){return null==c&&(p.mimeType=e),this},statusCode:function(e){var t;if(e)if(c)S.always(e[S.status]);else for(t in e)_[t]=[_[t],e[t]];return this},abort:function(e){var t=e||k;return a&&a.abort(t),i(0,t),this}};if(v.promise(S),p.url=((e||p.url||Ut.href)+"").replace(Jt,Ut.protocol+"//"),p.type=t.method||t.type||p.method||p.type,p.dataTypes=(p.dataType||"*").toLowerCase().match(He)||[""],null==p.crossDomain){u=he.createElement("a");try{u.href=p.url,u.href=u.href,p.crossDomain=nn.protocol+"//"+nn.host!=u.protocol+"//"+u.host}catch(e){p.crossDomain=!0}}if(p.data&&p.processData&&"string"!=typeof p.data&&(p.data=Ie.param(p.data,p.traditional)),oe(Zt,p,t,S),c)return S;d=Ie.event&&p.global,d&&0===Ie.active++&&Ie.event.trigger("ajaxStart"),p.type=p.type.toUpperCase(),p.hasContent=!Qt.test(p.type),r=p.url.replace(qt,""),p.hasContent?p.data&&p.processData&&0===(p.contentType||"").indexOf("application/x-www-form-urlencoded")&&(p.data=p.data.replace(Wt,"+")):(f=p.url.slice(r.length),p.data&&(p.processData||"string"==typeof p.data)&&(r+=(Ft.test(r)?"&":"?")+p.data,delete p.data),p.cache===!1&&(r=r.replace($t,"$1"),f=(Ft.test(r)?"&":"?")+"_="+Ht++ +f),p.url=r+f),p.ifModified&&(Ie.lastModified[r]&&S.setRequestHeader("If-Modified-Since",Ie.lastModified[r]),Ie.etag[r]&&S.setRequestHeader("If-None-Match",Ie.etag[r])),(p.data&&p.hasContent&&p.contentType!==!1||t.contentType)&&S.setRequestHeader("Content-Type",p.contentType),S.setRequestHeader("Accept",p.dataTypes[0]&&p.accepts[p.dataTypes[0]]?p.accepts[p.dataTypes[0]]+("*"!==p.dataTypes[0]?", "+tn+"; q=0.01":""):p.accepts["*"]);for(h in p.headers)S.setRequestHeader(h,p.headers[h]);if(p.beforeSend&&(p.beforeSend.call(m,S,p)===!1||c))return S.abort();if(k="abort",y.add(p.complete),S.done(p.success),S.fail(p.error),a=oe(en,p,t,S)){if(S.readyState=1,d&&g.trigger("ajaxSend",[S,p]),c)return S;p.async&&p.timeout>0&&(l=n.setTimeout(function(){S.abort("timeout")},p.timeout));try{c=!1,a.send(b,i)}catch(e){if(c)throw e;i(-1,e)}}else i(-1,"No Transport");return S},getJSON:function(e,t,n){return Ie.get(e,t,n,"json")},getScript:function(e,t){return Ie.get(e,void 0,t,"script")}}),Ie.each(["get","post"],function(e,t){Ie[t]=function(e,n,i,a){return Ce(n)&&(a=a||i,i=n,n=void 0),Ie.ajax(Ie.extend({url:e,type:t,dataType:a,data:n,success:i},Ie.isPlainObject(e)&&e))}}),Ie._evalUrl=function(e,t){return Ie.ajax({url:e,type:"GET",dataType:"script",cache:!0,async:!1,global:!1,converters:{"text script":function(){}},dataFilter:function(e){Ie.globalEval(e,t)}})},Ie.fn.extend({wrapAll:function(e){var t;return this[0]&&(Ce(e)&&(e=e.call(this[0])),t=Ie(e,this[0].ownerDocument).eq(0).clone(!0),this[0].parentNode&&t.insertBefore(this[0]),t.map(function(){for(var e=this;e.firstElementChild;)e=e.firstElementChild;return e}).append(this)),this},wrapInner:function(e){return Ce(e)?this.each(function(t){Ie(this).wrapInner(e.call(this,t))}):this.each(function(){var t=Ie(this),n=t.contents();n.length?n.wrapAll(e):t.append(e)})},wrap:function(e){var t=Ce(e);
return this.each(function(n){Ie(this).wrapAll(t?e.call(this,n):e)})},unwrap:function(e){return this.parent(e).not("body").each(function(){Ie(this).replaceWith(this.childNodes)}),this}}),Ie.expr.pseudos.hidden=function(e){return!Ie.expr.pseudos.visible(e)},Ie.expr.pseudos.visible=function(e){return!!(e.offsetWidth||e.offsetHeight||e.getClientRects().length)},Ie.ajaxSettings.xhr=function(){try{return new n.XMLHttpRequest}catch(e){}};var an={0:200,1223:204},rn=Ie.ajaxSettings.xhr();Se.cors=!!rn&&"withCredentials"in rn,Se.ajax=rn=!!rn,Ie.ajaxTransport(function(e){var t,i;if(Se.cors||rn&&!e.crossDomain)return{send:function(a,r){var s,o=e.xhr();if(o.open(e.type,e.url,e.async,e.username,e.password),e.xhrFields)for(s in e.xhrFields)o[s]=e.xhrFields[s];e.mimeType&&o.overrideMimeType&&o.overrideMimeType(e.mimeType),e.crossDomain||a["X-Requested-With"]||(a["X-Requested-With"]="XMLHttpRequest");for(s in a)o.setRequestHeader(s,a[s]);t=function(e){return function(){t&&(t=i=o.onload=o.onerror=o.onabort=o.ontimeout=o.onreadystatechange=null,"abort"===e?o.abort():"error"===e?"number"!=typeof o.status?r(0,"error"):r(o.status,o.statusText):r(an[o.status]||o.status,o.statusText,"text"!==(o.responseType||"text")||"string"!=typeof o.responseText?{binary:o.response}:{text:o.responseText},o.getAllResponseHeaders()))}},o.onload=t(),i=o.onerror=o.ontimeout=t("error"),void 0!==o.onabort?o.onabort=i:o.onreadystatechange=function(){4===o.readyState&&n.setTimeout(function(){t&&i()})},t=t("abort");try{o.send(e.hasContent&&e.data||null)}catch(e){if(t)throw e}},abort:function(){t&&t()}}}),Ie.ajaxPrefilter(function(e){e.crossDomain&&(e.contents.script=!1)}),Ie.ajaxSetup({accepts:{script:"text/javascript, application/javascript, application/ecmascript, application/x-ecmascript"},contents:{script:/\b(?:java|ecma)script\b/},converters:{"text script":function(e){return Ie.globalEval(e),e}}}),Ie.ajaxPrefilter("script",function(e){void 0===e.cache&&(e.cache=!1),e.crossDomain&&(e.type="GET")}),Ie.ajaxTransport("script",function(e){if(e.crossDomain||e.scriptAttrs){var t,n;return{send:function(i,a){t=Ie("<script>").attr(e.scriptAttrs||{}).prop({charset:e.scriptCharset,src:e.url}).on("load error",n=function(e){t.remove(),n=null,e&&a("error"===e.type?404:200,e.type)}),he.head.appendChild(t[0])},abort:function(){n&&n()}}}});var sn=[],on=/(=)\?(?=&|$)|\?\?/;Ie.ajaxSetup({jsonp:"callback",jsonpCallback:function(){var e=sn.pop()||Ie.expando+"_"+Ht++;return this[e]=!0,e}}),Ie.ajaxPrefilter("json jsonp",function(e,t,i){var a,r,s,o=e.jsonp!==!1&&(on.test(e.url)?"url":"string"==typeof e.data&&0===(e.contentType||"").indexOf("application/x-www-form-urlencoded")&&on.test(e.data)&&"data");if(o||"jsonp"===e.dataTypes[0])return a=e.jsonpCallback=Ce(e.jsonpCallback)?e.jsonpCallback():e.jsonpCallback,o?e[o]=e[o].replace(on,"$1"+a):e.jsonp!==!1&&(e.url+=(Ft.test(e.url)?"&":"?")+e.jsonp+"="+a),e.converters["script json"]=function(){return s||Ie.error(a+" was not called"),s[0]},e.dataTypes[0]="json",r=n[a],n[a]=function(){s=arguments},i.always(function(){void 0===r?Ie(n).removeProp(a):n[a]=r,e[a]&&(e.jsonpCallback=t.jsonpCallback,sn.push(a)),s&&Ce(r)&&r(s[0]),s=r=void 0}),"script"}),Se.createHTMLDocument=function(){var e=he.implementation.createHTMLDocument("").body;return e.innerHTML="<form></form><form></form>",2===e.childNodes.length}(),Ie.parseHTML=function(e,t,n){if("string"!=typeof e)return[];"boolean"==typeof t&&(n=t,t=!1);var i,a,r;return t||(Se.createHTMLDocument?(t=he.implementation.createHTMLDocument(""),i=t.createElement("base"),i.href=he.location.href,t.head.appendChild(i)):t=he),a=Ne.exec(e),r=!n&&[],a?[t.createElement(a[1])]:(a=A([e],t,r),r&&r.length&&Ie(r).remove(),Ie.merge([],a.childNodes))},Ie.fn.load=function(e,t,n){var i,a,r,s=this,o=e.indexOf(" ");return o>-1&&(i=ne(e.slice(o)),e=e.slice(0,o)),Ce(t)?(n=t,t=void 0):t&&"object"==typeof t&&(a="POST"),s.length>0&&Ie.ajax({url:e,type:a||"GET",dataType:"html",data:t}).done(function(e){r=arguments,s.html(i?Ie("<div>").append(Ie.parseHTML(e)).find(i):e)}).always(n&&function(e,t){s.each(function(){n.apply(this,r||[e.responseText,t,e])})}),this},Ie.each(["ajaxStart","ajaxStop","ajaxComplete","ajaxError","ajaxSuccess","ajaxSend"],function(e,t){Ie.fn[t]=function(e){return this.on(t,e)}}),Ie.expr.pseudos.animated=function(e){return Ie.grep(Ie.timers,function(t){return e===t.elem}).length},Ie.offset={setOffset:function(e,t,n){var i,a,r,s,o,l,u,c=Ie.css(e,"position"),d=Ie(e),h={};"static"===c&&(e.style.position="relative"),o=d.offset(),r=Ie.css(e,"top"),l=Ie.css(e,"left"),u=("absolute"===c||"fixed"===c)&&(r+l).indexOf("auto")>-1,u?(i=d.position(),s=i.top,a=i.left):(s=parseFloat(r)||0,a=parseFloat(l)||0),Ce(t)&&(t=t.call(e,n,Ie.extend({},o))),null!=t.top&&(h.top=t.top-o.top+s),null!=t.left&&(h.left=t.left-o.left+a),"using"in t?t.using.call(e,h):d.css(h)}},Ie.fn.extend({offset:function(e){if(arguments.length)return void 0===e?this:this.each(function(t){Ie.offset.setOffset(this,e,t)});var t,n,i=this[0];if(i)return i.getClientRects().length?(t=i.getBoundingClientRect(),n=i.ownerDocument.defaultView,{top:t.top+n.pageYOffset,left:t.left+n.pageXOffset}):{top:0,left:0}},position:function(){if(this[0]){var e,t,n,i=this[0],a={top:0,left:0};if("fixed"===Ie.css(i,"position"))t=i.getBoundingClientRect();else{for(t=this.offset(),n=i.ownerDocument,e=i.offsetParent||n.documentElement;e&&(e===n.body||e===n.documentElement)&&"static"===Ie.css(e,"position");)e=e.parentNode;e&&e!==i&&1===e.nodeType&&(a=Ie(e).offset(),a.top+=Ie.css(e,"borderTopWidth",!0),a.left+=Ie.css(e,"borderLeftWidth",!0))}return{top:t.top-a.top-Ie.css(i,"marginTop",!0),left:t.left-a.left-Ie.css(i,"marginLeft",!0)}}},offsetParent:function(){return this.map(function(){for(var e=this.offsetParent;e&&"static"===Ie.css(e,"position");)e=e.offsetParent;return e||et})}}),Ie.each({scrollLeft:"pageXOffset",scrollTop:"pageYOffset"},function(e,t){var n="pageYOffset"===t;Ie.fn[e]=function(i){return Ke(this,function(e,i,a){var r;return we(e)?r=e:9===e.nodeType&&(r=e.defaultView),void 0===a?r?r[t]:e[i]:void(r?r.scrollTo(n?r.pageXOffset:a,n?a:r.pageYOffset):e[i]=a)},e,i,arguments.length)}}),Ie.each(["top","left"],function(e,t){Ie.cssHooks[t]=z(Se.pixelPosition,function(e,n){if(n)return n=F(e,t),yt.test(n)?Ie(e).position()[t]+"px":n})}),Ie.each({Height:"height",Width:"width"},function(e,t){Ie.each({padding:"inner"+e,content:t,"":"outer"+e},function(n,i){Ie.fn[i]=function(a,r){var s=arguments.length&&(n||"boolean"!=typeof a),o=n||(a===!0||r===!0?"margin":"border");return Ke(this,function(t,n,a){var r;return we(t)?0===i.indexOf("outer")?t["inner"+e]:t.document.documentElement["client"+e]:9===t.nodeType?(r=t.documentElement,Math.max(t.body["scroll"+e],r["scroll"+e],t.body["offset"+e],r["offset"+e],r["client"+e])):void 0===a?Ie.css(t,n,o):Ie.style(t,n,a,o)},t,s?a:void 0,s)}})}),Ie.each("blur focus focusin focusout resize scroll click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave change select submit keydown keypress keyup contextmenu".split(" "),function(e,t){Ie.fn[t]=function(e,n){return arguments.length>0?this.on(t,null,e,n):this.trigger(t)}}),Ie.fn.extend({hover:function(e,t){return this.mouseenter(e).mouseleave(t||e)}}),Ie.fn.extend({bind:function(e,t,n){return this.on(e,null,t,n)},unbind:function(e,t){return this.off(e,null,t)},delegate:function(e,t,n,i){return this.on(t,e,n,i)},undelegate:function(e,t,n){return 1===arguments.length?this.off(e,"**"):this.off(t,e||"**",n)}}),Ie.proxy=function(e,t){var n,i,a;if("string"==typeof t&&(n=e[t],t=e,e=n),Ce(e))return i=pe.call(arguments,2),a=function(){return e.apply(t||this,i.concat(pe.call(arguments)))},a.guid=e.guid=e.guid||Ie.guid++,a},Ie.holdReady=function(e){e?Ie.readyWait++:Ie.ready(!0)},Ie.isArray=Array.isArray,Ie.parseJSON=JSON.parse,Ie.nodeName=u,Ie.isFunction=Ce,Ie.isWindow=we,Ie.camelCase=y,Ie.type=o,Ie.now=Date.now,Ie.isNumeric=function(e){var t=Ie.type(e);return("number"===t||"string"===t)&&!isNaN(e-parseFloat(e))},i=[],a=function(){return Ie}.apply(t,i),!(void 0!==a&&(e.exports=a));var ln=n.jQuery,un=n.$;return Ie.noConflict=function(e){return n.$===Ie&&(n.$=un),e&&n.jQuery===Ie&&(n.jQuery=ln),Ie},r||(n.jQuery=n.$=Ie),Ie})},function(e,t,n){var i;/*! picturefill - v3.0.2 - 2016-02-12
	 * https://scottjehl.github.io/picturefill/
	 * Copyright (c) 2016 https://github.com/scottjehl/picturefill/blob/master/Authors.txt; Licensed MIT
	 */
/*! Gecko-Picture - v1.0
	 * https://github.com/scottjehl/picturefill/tree/3.0/src/plugins/gecko-picture
	 * Firefox's early picture implementation (prior to FF41) is static and does
	 * not react to viewport changes. This tiny module fixes this.
	 */
!function(e){var t=navigator.userAgent;e.HTMLPictureElement&&/ecko/.test(t)&&t.match(/rv\:(\d+)/)&&RegExp.$1<45&&addEventListener("resize",function(){var t,n=document.createElement("source"),i=function(e){var t,i,a=e.parentNode;"PICTURE"===a.nodeName.toUpperCase()?(t=n.cloneNode(),a.insertBefore(t,a.firstElementChild),setTimeout(function(){a.removeChild(t)})):(!e._pfLastSize||e.offsetWidth>e._pfLastSize)&&(e._pfLastSize=e.offsetWidth,i=e.sizes,e.sizes+=",100vw",setTimeout(function(){e.sizes=i}))},a=function(){var e,t=document.querySelectorAll("picture > img, img[srcset][sizes]");for(e=0;e<t.length;e++)i(t[e])},r=function(){clearTimeout(t),t=setTimeout(a,99)},s=e.matchMedia&&matchMedia("(orientation: landscape)"),o=function(){r(),s&&s.addListener&&s.addListener(r)};return n.srcset="data:image/gif;base64,R0lGODlhAQABAAAAACH5BAEKAAEALAAAAAABAAEAAAICTAEAOw==",/^[c|i]|d$/.test(document.readyState||"")?o():document.addEventListener("DOMContentLoaded",o),r}())}(window),/*! Picturefill - v3.0.2
	 * http://scottjehl.github.io/picturefill
	 * Copyright (c) 2015 https://github.com/scottjehl/picturefill/blob/master/Authors.txt;
	 *  License: MIT
	 */
function(a,r,s){"use strict";function o(e){return" "===e||"\t"===e||"\n"===e||"\f"===e||"\r"===e}function l(e,t){var n=new a.Image;return n.onerror=function(){x[e]=!1,re()},n.onload=function(){x[e]=1===n.width,re()},n.src=t,"pending"}function u(){z=!1,V=a.devicePixelRatio,K={},G={},k.DPR=V||1,W.width=Math.max(a.innerWidth||0,L.clientWidth),W.height=Math.max(a.innerHeight||0,L.clientHeight),W.vw=W.width/100,W.vh=W.height/100,T=[W.height,W.width,V].join("-"),W.em=k.getEmValue(),W.rem=W.em}function c(e,t,n,i){var a,r,s,o;return"saveData"===P.algorithm?e>2.7?o=n+1:(r=t-n,a=Math.pow(e-.6,1.5),s=r*a,i&&(s+=.1*a),o=e+s):o=n>1?Math.sqrt(e*t):e,o>n}function d(e){var t,n=k.getSet(e),i=!1;"pending"!==n&&(i=T,n&&(t=k.setRes(n),k.applySetCandidate(t,e))),e[k.ns].evaled=i}function h(e,t){return e.res-t.res}function f(e,t,n){var i;return!n&&t&&(n=e[k.ns].sets,n=n&&n[n.length-1]),i=p(t,n),i&&(t=k.makeUrl(t),e[k.ns].curSrc=t,e[k.ns].curCan=i,i.res||ae(i,i.set.sizes)),i}function p(e,t){var n,i,a;if(e&&t)for(a=k.parseSet(t),e=k.makeUrl(e),n=0;n<a.length;n++)if(e===k.makeUrl(a[n].url)){i=a[n];break}return i}function m(e,t){var n,i,a,r,s=e.getElementsByTagName("source");for(n=0,i=s.length;n<i;n++)a=s[n],a[k.ns]=!0,r=a.getAttribute("srcset"),r&&t.push({srcset:r,media:a.getAttribute("media"),type:a.getAttribute("type"),sizes:a.getAttribute("sizes")})}function g(e,t){function n(t){var n,i=t.exec(e.substring(h));if(i)return n=i[0],h+=n.length,n}function i(){var e,n,i,a,o,l,u,c,d,h=!1,p={};for(a=0;a<s.length;a++)o=s[a],l=o[o.length-1],u=o.substring(0,o.length-1),c=parseInt(u,10),d=parseFloat(u),Z.test(u)&&"w"===l?((e||n)&&(h=!0),0===c?h=!0:e=c):ee.test(u)&&"x"===l?((e||n||i)&&(h=!0),d<0?h=!0:n=d):Z.test(u)&&"h"===l?((i||n)&&(h=!0),0===c?h=!0:i=c):h=!0;h||(p.url=r,e&&(p.w=e),n&&(p.d=n),i&&(p.h=i),i||n||e||(p.d=1),1===p.d&&(t.has1x=!0),p.set=t,f.push(p))}function a(){for(n(Y),l="",u="in descriptor";;){if(c=e.charAt(h),"in descriptor"===u)if(o(c))l&&(s.push(l),l="",u="after descriptor");else{if(","===c)return h+=1,l&&s.push(l),void i();if("("===c)l+=c,u="in parens";else{if(""===c)return l&&s.push(l),void i();l+=c}}else if("in parens"===u)if(")"===c)l+=c,u="in descriptor";else{if(""===c)return s.push(l),void i();l+=c}else if("after descriptor"===u)if(o(c));else{if(""===c)return void i();u="in descriptor",h-=1}h+=1}}for(var r,s,l,u,c,d=e.length,h=0,f=[];;){if(n(X),h>=d)return f;r=n(Q),s=[],","===r.slice(-1)?(r=r.replace(J,""),i()):a()}}function v(e){function t(e){function t(){a&&(r.push(a),a="")}function n(){r[0]&&(s.push(r),r=[])}for(var i,a="",r=[],s=[],l=0,u=0,c=!1;;){if(i=e.charAt(u),""===i)return t(),n(),s;if(c){if("*"===i&&"/"===e[u+1]){c=!1,u+=2,t();continue}u+=1}else{if(o(i)){if(e.charAt(u-1)&&o(e.charAt(u-1))||!a){u+=1;continue}if(0===l){t(),u+=1;continue}i=" "}else if("("===i)l+=1;else if(")"===i)l-=1;else{if(","===i){t(),n(),u+=1;continue}if("/"===i&&"*"===e.charAt(u+1)){c=!0,u+=2;continue}}a+=i,u+=1}}}function n(e){return!!(c.test(e)&&parseFloat(e)>=0)||(!!d.test(e)||("0"===e||"-0"===e||"+0"===e))}var i,a,r,s,l,u,c=/^(?:[+-]?[0-9]+|[0-9]*\.[0-9]+)(?:[eE][+-]?[0-9]+)?(?:ch|cm|em|ex|in|mm|pc|pt|px|rem|vh|vmin|vmax|vw)$/i,d=/^calc\((?:[0-9a-z \.\+\-\*\/\(\)]+)\)$/i;for(a=t(e),r=a.length,i=0;i<r;i++)if(s=a[i],l=s[s.length-1],n(l)){if(u=l,s.pop(),0===s.length)return u;if(s=s.join(" "),k.matchesMedia(s))return u}return"100vw"}r.createElement("picture");var y,_,b,T,k={},S=!1,C=function(){},w=r.createElement("img"),E=w.getAttribute,A=w.setAttribute,I=w.removeAttribute,L=r.documentElement,x={},P={algorithm:""},O="data-pfsrc",D=O+"set",N=navigator.userAgent,M=/rident/.test(N)||/ecko/.test(N)&&N.match(/rv\:(\d+)/)&&RegExp.$1>35,R="currentSrc",B=/\s+\+?\d+(e\d+)?w/,j=/(\([^)]+\))?\s*(.+)/,U=a.picturefillCFG,H="position:absolute;left:0;visibility:hidden;display:block;padding:0;border:none;font-size:1em;width:1em;overflow:hidden;clip:rect(0px, 0px, 0px, 0px)",F="font-size:100%!important;",z=!0,K={},G={},V=a.devicePixelRatio,W={px:1,in:96},q=r.createElement("a"),$=!1,Y=/^[ \t\n\r\u000c]+/,X=/^[, \t\n\r\u000c]+/,Q=/^[^ \t\n\r\u000c]+/,J=/[,]+$/,Z=/^\d+$/,ee=/^-?(?:[0-9]+|[0-9]*\.[0-9]+)(?:[eE][+-]?[0-9]+)?$/,te=function(e,t,n,i){e.addEventListener?e.addEventListener(t,n,i||!1):e.attachEvent&&e.attachEvent("on"+t,n)},ne=function(e){var t={};return function(n){return n in t||(t[n]=e(n)),t[n]}},ie=function(){var e=/^([\d\.]+)(em|vw|px)$/,t=function(){for(var e=arguments,t=0,n=e[0];++t in e;)n=n.replace(e[t],e[++t]);return n},n=ne(function(e){return"return "+t((e||"").toLowerCase(),/\band\b/g,"&&",/,/g,"||",/min-([a-z-\s]+):/g,"e.$1>=",/max-([a-z-\s]+):/g,"e.$1<=",/calc([^)]+)/g,"($1)",/(\d+[\.]*[\d]*)([a-z]+)/g,"($1 * e.$2)",/^(?!(e.[a-z]|[0-9\.&=|><\+\-\*\(\)\/])).*/gi,"")+";"});return function(t,i){var a;if(!(t in K))if(K[t]=!1,i&&(a=t.match(e)))K[t]=a[1]*W[a[2]];else try{K[t]=new Function("e",n(t))(W)}catch(e){}return K[t]}}(),ae=function(e,t){return e.w?(e.cWidth=k.calcListLength(t||"100vw"),e.res=e.w/e.cWidth):e.res=e.d,e},re=function(e){if(S){var t,n,i,a=e||{};if(a.elements&&1===a.elements.nodeType&&("IMG"===a.elements.nodeName.toUpperCase()?a.elements=[a.elements]:(a.context=a.elements,a.elements=null)),t=a.elements||k.qsa(a.context||r,a.reevaluate||a.reselect?k.sel:k.selShort),i=t.length){for(k.setupRun(a),$=!0,n=0;n<i;n++)k.fillImg(t[n],a);k.teardownRun(a)}}};y=a.console&&console.warn?function(e){console.warn(e)}:C,R in w||(R="src"),x["image/jpeg"]=!0,x["image/gif"]=!0,x["image/png"]=!0,x["image/svg+xml"]=r.implementation.hasFeature("http://www.w3.org/TR/SVG11/feature#Image","1.1"),k.ns=("pf"+(new Date).getTime()).substr(0,9),k.supSrcset="srcset"in w,k.supSizes="sizes"in w,k.supPicture=!!a.HTMLPictureElement,k.supSrcset&&k.supPicture&&!k.supSizes&&!function(e){w.srcset="data:,a",e.src="data:,a",k.supSrcset=w.complete===e.complete,k.supPicture=k.supSrcset&&k.supPicture}(r.createElement("img")),k.supSrcset&&!k.supSizes?!function(){var e="data:image/gif;base64,R0lGODlhAgABAPAAAP///wAAACH5BAAAAAAALAAAAAACAAEAAAICBAoAOw==",t="data:image/gif;base64,R0lGODlhAQABAAAAACH5BAEKAAEALAAAAAABAAEAAAICTAEAOw==",n=r.createElement("img"),i=function(){var e=n.width;2===e&&(k.supSizes=!0),b=k.supSrcset&&!k.supSizes,S=!0,setTimeout(re)};n.onload=i,n.onerror=i,n.setAttribute("sizes","9px"),n.srcset=t+" 1w,"+e+" 9w",n.src=t}():S=!0,k.selShort="picture>img,img[srcset]",k.sel=k.selShort,k.cfg=P,k.DPR=V||1,k.u=W,k.types=x,k.setSize=C,k.makeUrl=ne(function(e){return q.href=e,q.href}),k.qsa=function(e,t){return"querySelector"in e?e.querySelectorAll(t):[]},k.matchesMedia=function(){return a.matchMedia&&(matchMedia("(min-width: 0.1em)")||{}).matches?k.matchesMedia=function(e){return!e||matchMedia(e).matches}:k.matchesMedia=k.mMQ,k.matchesMedia.apply(this,arguments)},k.mMQ=function(e){return!e||ie(e)},k.calcLength=function(e){var t=ie(e,!0)||!1;return t<0&&(t=!1),t},k.supportsType=function(e){return!e||x[e]},k.parseSize=ne(function(e){var t=(e||"").match(j);return{media:t&&t[1],length:t&&t[2]}}),k.parseSet=function(e){return e.cands||(e.cands=g(e.srcset,e)),e.cands},k.getEmValue=function(){var e;if(!_&&(e=r.body)){var t=r.createElement("div"),n=L.style.cssText,i=e.style.cssText;t.style.cssText=H,L.style.cssText=F,e.style.cssText=F,e.appendChild(t),_=t.offsetWidth,e.removeChild(t),_=parseFloat(_,10),L.style.cssText=n,e.style.cssText=i}return _||16},k.calcListLength=function(e){if(!(e in G)||P.uT){var t=k.calcLength(v(e));G[e]=t?t:W.width}return G[e]},k.setRes=function(e){var t;if(e){t=k.parseSet(e);for(var n=0,i=t.length;n<i;n++)ae(t[n],e.sizes)}return t},k.setRes.res=ae,k.applySetCandidate=function(e,t){if(e.length){var n,i,a,r,s,o,l,u,d,p=t[k.ns],m=k.DPR;if(o=p.curSrc||t[R],l=p.curCan||f(t,o,e[0].set),l&&l.set===e[0].set&&(d=M&&!t.complete&&l.res-.1>m,d||(l.cached=!0,l.res>=m&&(s=l))),!s)for(e.sort(h),r=e.length,s=e[r-1],i=0;i<r;i++)if(n=e[i],n.res>=m){a=i-1,s=e[a]&&(d||o!==k.makeUrl(n.url))&&c(e[a].res,n.res,m,e[a].cached)?e[a]:n;break}s&&(u=k.makeUrl(s.url),p.curSrc=u,p.curCan=s,u!==o&&k.setSrc(t,s),k.setSize(t))}},k.setSrc=function(e,t){var n;e.src=t.url,"image/svg+xml"===t.set.type&&(n=e.style.width,e.style.width=e.offsetWidth+1+"px",e.offsetWidth+1&&(e.style.width=n))},k.getSet=function(e){var t,n,i,a=!1,r=e[k.ns].sets;for(t=0;t<r.length&&!a;t++)if(n=r[t],n.srcset&&k.matchesMedia(n.media)&&(i=k.supportsType(n.type))){"pending"===i&&(n=i),a=n;break}return a},k.parseSets=function(e,t,n){var i,a,r,o,l=t&&"PICTURE"===t.nodeName.toUpperCase(),u=e[k.ns];(u.src===s||n.src)&&(u.src=E.call(e,"src"),u.src?A.call(e,O,u.src):I.call(e,O)),(u.srcset===s||n.srcset||!k.supSrcset||e.srcset)&&(i=E.call(e,"srcset"),u.srcset=i,o=!0),u.sets=[],l&&(u.pic=!0,m(t,u.sets)),u.srcset?(a={srcset:u.srcset,sizes:E.call(e,"sizes")},u.sets.push(a),r=(b||u.src)&&B.test(u.srcset||""),r||!u.src||p(u.src,a)||a.has1x||(a.srcset+=", "+u.src,a.cands.push({url:u.src,d:1,set:a}))):u.src&&u.sets.push({srcset:u.src,sizes:null}),u.curCan=null,u.curSrc=s,u.supported=!(l||a&&!k.supSrcset||r&&!k.supSizes),o&&k.supSrcset&&!u.supported&&(i?(A.call(e,D,i),e.srcset=""):I.call(e,D)),u.supported&&!u.srcset&&(!u.src&&e.src||e.src!==k.makeUrl(u.src))&&(null===u.src?e.removeAttribute("src"):e.src=u.src),u.parsed=!0},k.fillImg=function(e,t){var n,i=t.reselect||t.reevaluate;e[k.ns]||(e[k.ns]={}),n=e[k.ns],(i||n.evaled!==T)&&(n.parsed&&!t.reevaluate||k.parseSets(e,e.parentNode,t),n.supported?n.evaled=T:d(e))},k.setupRun=function(){$&&!z&&V===a.devicePixelRatio||u()},k.supPicture?(re=C,k.fillImg=C):!function(){var e,t=a.attachEvent?/d$|^c/:/d$|^c|^i/,n=function(){var a=r.readyState||"";i=setTimeout(n,"loading"===a?200:999),r.body&&(k.fillImgs(),e=e||t.test(a),e&&clearTimeout(i))},i=setTimeout(n,r.body?9:99),s=function(e,t){var n,i,a=function(){var r=new Date-i;r<t?n=setTimeout(a,t-r):(n=null,e())};return function(){i=new Date,n||(n=setTimeout(a,t))}},o=L.clientHeight,l=function(){z=Math.max(a.innerWidth||0,L.clientWidth)!==W.width||L.clientHeight!==o,o=L.clientHeight,z&&k.fillImgs()};te(a,"resize",s(l,99)),te(r,"readystatechange",n)}(),k.picturefill=re,k.fillImgs=re,k.teardownRun=C,re._=k,a.picturefillCFG={pf:k,push:function(e){var t=e.shift();"function"==typeof k[t]?k[t].apply(k,e):(P[t]=e[0],$&&k.fillImgs({reselect:!0}))}};for(;U&&U.length;)a.picturefillCFG.push(U.shift());a.picturefill=re,"object"==typeof e&&"object"==typeof e.exports?e.exports=re:(i=function(){return re}.call(t,n,t,e),!(i!==s&&(e.exports=i))),k.supPicture||(x["image/webp"]=l("image/webp","data:image/webp;base64,UklGRkoAAABXRUJQVlA4WAoAAAAQAAAAAAAAAAAAQUxQSAwAAAABBxAR/Q9ERP8DAABWUDggGAAAADABAJ0BKgEAAQADADQlpAADcAD++/1QAA=="))}(window,document)},function(e,t,n){var i,a,r;!function(s){"use strict";a=[n(2)],i=s,r="function"==typeof i?i.apply(t,a):i,!(void 0!==r&&(e.exports=r))}(function(e){"use strict";var t=window.Slick||{};t=function(){function t(t,i){var a,r=this;r.defaults={accessibility:!0,adaptiveHeight:!1,appendArrows:e(t),appendDots:e(t),arrows:!0,asNavFor:null,prevArrow:'<button class="slick-prev" aria-label="Previous" type="button">Previous</button>',nextArrow:'<button class="slick-next" aria-label="Next" type="button">Next</button>',autoplay:!1,autoplaySpeed:3e3,centerMode:!1,centerPadding:"50px",cssEase:"ease",customPaging:function(t,n){return e('<button type="button" />').text(n+1)},dots:!1,dotsClass:"slick-dots",draggable:!0,easing:"linear",edgeFriction:.35,fade:!1,focusOnSelect:!1,focusOnChange:!1,infinite:!0,initialSlide:0,lazyLoad:"ondemand",mobileFirst:!1,pauseOnHover:!0,pauseOnFocus:!0,pauseOnDotsHover:!1,respondTo:"window",responsive:null,rows:1,rtl:!1,slide:"",slidesPerRow:1,slidesToShow:1,slidesToScroll:1,speed:500,swipe:!0,swipeToSlide:!1,touchMove:!0,touchThreshold:5,useCSS:!0,useTransform:!0,variableWidth:!1,vertical:!1,verticalSwiping:!1,waitForAnimate:!0,zIndex:1e3},r.initials={animating:!1,dragging:!1,autoPlayTimer:null,currentDirection:0,currentLeft:null,currentSlide:0,direction:1,$dots:null,listWidth:null,listHeight:null,loadIndex:0,$nextArrow:null,$prevArrow:null,scrolling:!1,slideCount:null,slideWidth:null,$slideTrack:null,$slides:null,sliding:!1,slideOffset:0,swipeLeft:null,swiping:!1,$list:null,touchObject:{},transformsEnabled:!1,unslicked:!1},e.extend(r,r.initials),r.activeBreakpoint=null,r.animType=null,r.animProp=null,r.breakpoints=[],r.breakpointSettings=[],r.cssTransitions=!1,r.focussed=!1,r.interrupted=!1,r.hidden="hidden",r.paused=!0,r.positionProp=null,r.respondTo=null,r.rowCount=1,r.shouldClick=!0,r.$slider=e(t),r.$slidesCache=null,r.transformType=null,r.transitionType=null,r.visibilityChange="visibilitychange",r.windowWidth=0,r.windowTimer=null,a=e(t).data("slick")||{},r.options=e.extend({},r.defaults,i,a),r.currentSlide=r.options.initialSlide,r.originalSettings=r.options,"undefined"!=typeof document.mozHidden?(r.hidden="mozHidden",r.visibilityChange="mozvisibilitychange"):"undefined"!=typeof document.webkitHidden&&(r.hidden="webkitHidden",r.visibilityChange="webkitvisibilitychange"),r.autoPlay=e.proxy(r.autoPlay,r),r.autoPlayClear=e.proxy(r.autoPlayClear,r),r.autoPlayIterator=e.proxy(r.autoPlayIterator,r),r.changeSlide=e.proxy(r.changeSlide,r),r.clickHandler=e.proxy(r.clickHandler,r),r.selectHandler=e.proxy(r.selectHandler,r),r.setPosition=e.proxy(r.setPosition,r),r.swipeHandler=e.proxy(r.swipeHandler,r),r.dragHandler=e.proxy(r.dragHandler,r),r.keyHandler=e.proxy(r.keyHandler,r),r.instanceUid=n++,r.htmlExpr=/^(?:\s*(<[\w\W]+>)[^>]*)$/,r.registerBreakpoints(),r.init(!0)}var n=0;return t}(),t.prototype.activateADA=function(){var e=this;e.$slideTrack.find(".slick-active").attr({"aria-hidden":"false"}).find("a, input, button, select").attr({tabindex:"0"})},t.prototype.addSlide=t.prototype.slickAdd=function(t,n,i){var a=this;if("boolean"==typeof n)i=n,n=null;else if(n<0||n>=a.slideCount)return!1;a.unload(),"number"==typeof n?0===n&&0===a.$slides.length?e(t).appendTo(a.$slideTrack):i?e(t).insertBefore(a.$slides.eq(n)):e(t).insertAfter(a.$slides.eq(n)):i===!0?e(t).prependTo(a.$slideTrack):e(t).appendTo(a.$slideTrack),a.$slides=a.$slideTrack.children(this.options.slide),a.$slideTrack.children(this.options.slide).detach(),a.$slideTrack.append(a.$slides),a.$slides.each(function(t,n){e(n).attr("data-slick-index",t)}),a.$slidesCache=a.$slides,a.reinit()},t.prototype.animateHeight=function(){var e=this;if(1===e.options.slidesToShow&&e.options.adaptiveHeight===!0&&e.options.vertical===!1){var t=e.$slides.eq(e.currentSlide).outerHeight(!0);e.$list.animate({height:t},e.options.speed)}},t.prototype.animateSlide=function(t,n){var i={},a=this;a.animateHeight(),a.options.rtl===!0&&a.options.vertical===!1&&(t=-t),a.transformsEnabled===!1?a.options.vertical===!1?a.$slideTrack.animate({left:t},a.options.speed,a.options.easing,n):a.$slideTrack.animate({top:t},a.options.speed,a.options.easing,n):a.cssTransitions===!1?(a.options.rtl===!0&&(a.currentLeft=-a.currentLeft),e({animStart:a.currentLeft}).animate({animStart:t},{duration:a.options.speed,easing:a.options.easing,step:function(e){e=Math.ceil(e),a.options.vertical===!1?(i[a.animType]="translate("+e+"px, 0px)",a.$slideTrack.css(i)):(i[a.animType]="translate(0px,"+e+"px)",a.$slideTrack.css(i))},complete:function(){n&&n.call()}})):(a.applyTransition(),t=Math.ceil(t),a.options.vertical===!1?i[a.animType]="translate3d("+t+"px, 0px, 0px)":i[a.animType]="translate3d(0px,"+t+"px, 0px)",a.$slideTrack.css(i),n&&setTimeout(function(){a.disableTransition(),n.call()},a.options.speed))},t.prototype.getNavTarget=function(){var t=this,n=t.options.asNavFor;return n&&null!==n&&(n=e(n).not(t.$slider)),n},t.prototype.asNavFor=function(t){var n=this,i=n.getNavTarget();null!==i&&"object"==typeof i&&i.each(function(){var n=e(this).slick("getSlick");n.unslicked||n.slideHandler(t,!0)})},t.prototype.applyTransition=function(e){var t=this,n={};t.options.fade===!1?n[t.transitionType]=t.transformType+" "+t.options.speed+"ms "+t.options.cssEase:n[t.transitionType]="opacity "+t.options.speed+"ms "+t.options.cssEase,t.options.fade===!1?t.$slideTrack.css(n):t.$slides.eq(e).css(n)},t.prototype.autoPlay=function(){var e=this;e.autoPlayClear(),e.slideCount>e.options.slidesToShow&&(e.autoPlayTimer=setInterval(e.autoPlayIterator,e.options.autoplaySpeed))},t.prototype.autoPlayClear=function(){var e=this;e.autoPlayTimer&&clearInterval(e.autoPlayTimer)},t.prototype.autoPlayIterator=function(){var e=this,t=e.currentSlide+e.options.slidesToScroll;e.paused||e.interrupted||e.focussed||(e.options.infinite===!1&&(1===e.direction&&e.currentSlide+1===e.slideCount-1?e.direction=0:0===e.direction&&(t=e.currentSlide-e.options.slidesToScroll,e.currentSlide-1===0&&(e.direction=1))),e.slideHandler(t))},t.prototype.buildArrows=function(){var t=this;t.options.arrows===!0&&(t.$prevArrow=e(t.options.prevArrow).addClass("slick-arrow"),t.$nextArrow=e(t.options.nextArrow).addClass("slick-arrow"),t.slideCount>t.options.slidesToShow?(t.$prevArrow.removeClass("slick-hidden").removeAttr("aria-hidden tabindex"),t.$nextArrow.removeClass("slick-hidden").removeAttr("aria-hidden tabindex"),t.htmlExpr.test(t.options.prevArrow)&&t.$prevArrow.prependTo(t.options.appendArrows),t.htmlExpr.test(t.options.nextArrow)&&t.$nextArrow.appendTo(t.options.appendArrows),t.options.infinite!==!0&&t.$prevArrow.addClass("slick-disabled").attr("aria-disabled","true")):t.$prevArrow.add(t.$nextArrow).addClass("slick-hidden").attr({"aria-disabled":"true",tabindex:"-1"}))},t.prototype.buildDots=function(){var t,n,i=this;if(i.options.dots===!0&&i.slideCount>i.options.slidesToShow){for(i.$slider.addClass("slick-dotted"),n=e("<ul />").addClass(i.options.dotsClass),t=0;t<=i.getDotCount();t+=1)n.append(e("<li />").append(i.options.customPaging.call(this,i,t)));i.$dots=n.appendTo(i.options.appendDots),i.$dots.find("li").first().addClass("slick-active")}},t.prototype.buildOut=function(){var t=this;t.$slides=t.$slider.children(t.options.slide+":not(.slick-cloned)").addClass("slick-slide"),t.slideCount=t.$slides.length,t.$slides.each(function(t,n){e(n).attr("data-slick-index",t).data("originalStyling",e(n).attr("style")||"")}),t.$slider.addClass("slick-slider"),t.$slideTrack=0===t.slideCount?e('<div class="slick-track"/>').appendTo(t.$slider):t.$slides.wrapAll('<div class="slick-track"/>').parent(),t.$list=t.$slideTrack.wrap('<div class="slick-list"/>').parent(),t.$slideTrack.css("opacity",0),t.options.centerMode!==!0&&t.options.swipeToSlide!==!0||(t.options.slidesToScroll=1),e("img[data-lazy]",t.$slider).not("[src]").addClass("slick-loading"),t.setupInfinite(),t.buildArrows(),t.buildDots(),t.updateDots(),t.setSlideClasses("number"==typeof t.currentSlide?t.currentSlide:0),t.options.draggable===!0&&t.$list.addClass("draggable")},t.prototype.buildRows=function(){var e,t,n,i,a,r,s,o=this;if(i=document.createDocumentFragment(),r=o.$slider.children(),o.options.rows>0){for(s=o.options.slidesPerRow*o.options.rows,a=Math.ceil(r.length/s),e=0;e<a;e++){var l=document.createElement("div");for(t=0;t<o.options.rows;t++){var u=document.createElement("div");for(n=0;n<o.options.slidesPerRow;n++){var c=e*s+(t*o.options.slidesPerRow+n);r.get(c)&&u.appendChild(r.get(c))}l.appendChild(u)}i.appendChild(l)}o.$slider.empty().append(i),o.$slider.children().children().children().css({width:100/o.options.slidesPerRow+"%",display:"inline-block"})}},t.prototype.checkResponsive=function(t,n){var i,a,r,s=this,o=!1,l=s.$slider.width(),u=window.innerWidth||e(window).width();if("window"===s.respondTo?r=u:"slider"===s.respondTo?r=l:"min"===s.respondTo&&(r=Math.min(u,l)),s.options.responsive&&s.options.responsive.length&&null!==s.options.responsive){a=null;for(i in s.breakpoints)s.breakpoints.hasOwnProperty(i)&&(s.originalSettings.mobileFirst===!1?r<s.breakpoints[i]&&(a=s.breakpoints[i]):r>s.breakpoints[i]&&(a=s.breakpoints[i]));null!==a?null!==s.activeBreakpoint?(a!==s.activeBreakpoint||n)&&(s.activeBreakpoint=a,"unslick"===s.breakpointSettings[a]?s.unslick(a):(s.options=e.extend({},s.originalSettings,s.breakpointSettings[a]),t===!0&&(s.currentSlide=s.options.initialSlide),s.refresh(t)),o=a):(s.activeBreakpoint=a,"unslick"===s.breakpointSettings[a]?s.unslick(a):(s.options=e.extend({},s.originalSettings,s.breakpointSettings[a]),t===!0&&(s.currentSlide=s.options.initialSlide),s.refresh(t)),o=a):null!==s.activeBreakpoint&&(s.activeBreakpoint=null,s.options=s.originalSettings,t===!0&&(s.currentSlide=s.options.initialSlide),s.refresh(t),o=a),t||o===!1||s.$slider.trigger("breakpoint",[s,o])}},t.prototype.changeSlide=function(t,n){var i,a,r,s=this,o=e(t.currentTarget);switch(o.is("a")&&t.preventDefault(),o.is("li")||(o=o.closest("li")),r=s.slideCount%s.options.slidesToScroll!==0,i=r?0:(s.slideCount-s.currentSlide)%s.options.slidesToScroll,t.data.message){case"previous":a=0===i?s.options.slidesToScroll:s.options.slidesToShow-i,s.slideCount>s.options.slidesToShow&&s.slideHandler(s.currentSlide-a,!1,n);break;case"next":a=0===i?s.options.slidesToScroll:i,s.slideCount>s.options.slidesToShow&&s.slideHandler(s.currentSlide+a,!1,n);break;case"index":var l=0===t.data.index?0:t.data.index||o.index()*s.options.slidesToScroll;s.slideHandler(s.checkNavigable(l),!1,n),o.children().trigger("focus");break;default:return}},t.prototype.checkNavigable=function(e){var t,n,i=this;if(t=i.getNavigableIndexes(),n=0,e>t[t.length-1])e=t[t.length-1];else for(var a in t){if(e<t[a]){e=n;break}n=t[a]}return e},t.prototype.cleanUpEvents=function(){var t=this;t.options.dots&&null!==t.$dots&&(e("li",t.$dots).off("click.slick",t.changeSlide).off("mouseenter.slick",e.proxy(t.interrupt,t,!0)).off("mouseleave.slick",e.proxy(t.interrupt,t,!1)),t.options.accessibility===!0&&t.$dots.off("keydown.slick",t.keyHandler)),t.$slider.off("focus.slick blur.slick"),t.options.arrows===!0&&t.slideCount>t.options.slidesToShow&&(t.$prevArrow&&t.$prevArrow.off("click.slick",t.changeSlide),t.$nextArrow&&t.$nextArrow.off("click.slick",t.changeSlide),t.options.accessibility===!0&&(t.$prevArrow&&t.$prevArrow.off("keydown.slick",t.keyHandler),t.$nextArrow&&t.$nextArrow.off("keydown.slick",t.keyHandler))),t.$list.off("touchstart.slick mousedown.slick",t.swipeHandler),t.$list.off("touchmove.slick mousemove.slick",t.swipeHandler),t.$list.off("touchend.slick mouseup.slick",t.swipeHandler),t.$list.off("touchcancel.slick mouseleave.slick",t.swipeHandler),t.$list.off("click.slick",t.clickHandler),e(document).off(t.visibilityChange,t.visibility),t.cleanUpSlideEvents(),t.options.accessibility===!0&&t.$list.off("keydown.slick",t.keyHandler),t.options.focusOnSelect===!0&&e(t.$slideTrack).children().off("click.slick",t.selectHandler),e(window).off("orientationchange.slick.slick-"+t.instanceUid,t.orientationChange),e(window).off("resize.slick.slick-"+t.instanceUid,t.resize),e("[draggable!=true]",t.$slideTrack).off("dragstart",t.preventDefault),e(window).off("load.slick.slick-"+t.instanceUid,t.setPosition)},t.prototype.cleanUpSlideEvents=function(){var t=this;t.$list.off("mouseenter.slick",e.proxy(t.interrupt,t,!0)),t.$list.off("mouseleave.slick",e.proxy(t.interrupt,t,!1))},t.prototype.cleanUpRows=function(){var e,t=this;t.options.rows>0&&(e=t.$slides.children().children(),e.removeAttr("style"),t.$slider.empty().append(e))},t.prototype.clickHandler=function(e){var t=this;t.shouldClick===!1&&(e.stopImmediatePropagation(),e.stopPropagation(),e.preventDefault())},t.prototype.destroy=function(t){var n=this;n.autoPlayClear(),n.touchObject={},n.cleanUpEvents(),e(".slick-cloned",n.$slider).detach(),n.$dots&&n.$dots.remove(),n.$prevArrow&&n.$prevArrow.length&&(n.$prevArrow.removeClass("slick-disabled slick-arrow slick-hidden").removeAttr("aria-hidden aria-disabled tabindex").css("display",""),n.htmlExpr.test(n.options.prevArrow)&&n.$prevArrow.remove()),n.$nextArrow&&n.$nextArrow.length&&(n.$nextArrow.removeClass("slick-disabled slick-arrow slick-hidden").removeAttr("aria-hidden aria-disabled tabindex").css("display",""),n.htmlExpr.test(n.options.nextArrow)&&n.$nextArrow.remove()),n.$slides&&(n.$slides.removeClass("slick-slide slick-active slick-center slick-visible slick-current").removeAttr("aria-hidden").removeAttr("data-slick-index").each(function(){e(this).attr("style",e(this).data("originalStyling"))}),n.$slideTrack.children(this.options.slide).detach(),n.$slideTrack.detach(),n.$list.detach(),n.$slider.append(n.$slides)),n.cleanUpRows(),n.$slider.removeClass("slick-slider"),n.$slider.removeClass("slick-initialized"),n.$slider.removeClass("slick-dotted"),n.unslicked=!0,t||n.$slider.trigger("destroy",[n])},t.prototype.disableTransition=function(e){var t=this,n={};n[t.transitionType]="",t.options.fade===!1?t.$slideTrack.css(n):t.$slides.eq(e).css(n)},t.prototype.fadeSlide=function(e,t){var n=this;n.cssTransitions===!1?(n.$slides.eq(e).css({zIndex:n.options.zIndex}),n.$slides.eq(e).animate({opacity:1},n.options.speed,n.options.easing,t)):(n.applyTransition(e),n.$slides.eq(e).css({opacity:1,zIndex:n.options.zIndex}),t&&setTimeout(function(){n.disableTransition(e),t.call()},n.options.speed))},t.prototype.fadeSlideOut=function(e){var t=this;t.cssTransitions===!1?t.$slides.eq(e).animate({opacity:0,zIndex:t.options.zIndex-2},t.options.speed,t.options.easing):(t.applyTransition(e),t.$slides.eq(e).css({opacity:0,zIndex:t.options.zIndex-2}))},t.prototype.filterSlides=t.prototype.slickFilter=function(e){var t=this;null!==e&&(t.$slidesCache=t.$slides,t.unload(),t.$slideTrack.children(this.options.slide).detach(),t.$slidesCache.filter(e).appendTo(t.$slideTrack),t.reinit())},t.prototype.focusHandler=function(){var t=this;t.$slider.off("focus.slick blur.slick").on("focus.slick blur.slick","*",function(n){n.stopImmediatePropagation();var i=e(this);setTimeout(function(){t.options.pauseOnFocus&&(t.focussed=i.is(":focus"),t.autoPlay())},0)})},t.prototype.getCurrent=t.prototype.slickCurrentSlide=function(){var e=this;return e.currentSlide},t.prototype.getDotCount=function(){var e=this,t=0,n=0,i=0;if(e.options.infinite===!0)if(e.slideCount<=e.options.slidesToShow)++i;else for(;t<e.slideCount;)++i,t=n+e.options.slidesToScroll,n+=e.options.slidesToScroll<=e.options.slidesToShow?e.options.slidesToScroll:e.options.slidesToShow;else if(e.options.centerMode===!0)i=e.slideCount;else if(e.options.asNavFor)for(;t<e.slideCount;)++i,t=n+e.options.slidesToScroll,n+=e.options.slidesToScroll<=e.options.slidesToShow?e.options.slidesToScroll:e.options.slidesToShow;else i=1+Math.ceil((e.slideCount-e.options.slidesToShow)/e.options.slidesToScroll);return i-1},t.prototype.getLeft=function(e){var t,n,i,a,r=this,s=0;return r.slideOffset=0,n=r.$slides.first().outerHeight(!0),r.options.infinite===!0?(r.slideCount>r.options.slidesToShow&&(r.slideOffset=r.slideWidth*r.options.slidesToShow*-1,a=-1,r.options.vertical===!0&&r.options.centerMode===!0&&(2===r.options.slidesToShow?a=-1.5:1===r.options.slidesToShow&&(a=-2)),s=n*r.options.slidesToShow*a),r.slideCount%r.options.slidesToScroll!==0&&e+r.options.slidesToScroll>r.slideCount&&r.slideCount>r.options.slidesToShow&&(e>r.slideCount?(r.slideOffset=(r.options.slidesToShow-(e-r.slideCount))*r.slideWidth*-1,s=(r.options.slidesToShow-(e-r.slideCount))*n*-1):(r.slideOffset=r.slideCount%r.options.slidesToScroll*r.slideWidth*-1,s=r.slideCount%r.options.slidesToScroll*n*-1))):e+r.options.slidesToShow>r.slideCount&&(r.slideOffset=(e+r.options.slidesToShow-r.slideCount)*r.slideWidth,s=(e+r.options.slidesToShow-r.slideCount)*n),r.slideCount<=r.options.slidesToShow&&(r.slideOffset=0,s=0),r.options.centerMode===!0&&r.slideCount<=r.options.slidesToShow?r.slideOffset=r.slideWidth*Math.floor(r.options.slidesToShow)/2-r.slideWidth*r.slideCount/2:r.options.centerMode===!0&&r.options.infinite===!0?r.slideOffset+=r.slideWidth*Math.floor(r.options.slidesToShow/2)-r.slideWidth:r.options.centerMode===!0&&(r.slideOffset=0,r.slideOffset+=r.slideWidth*Math.floor(r.options.slidesToShow/2)),t=r.options.vertical===!1?e*r.slideWidth*-1+r.slideOffset:e*n*-1+s,r.options.variableWidth===!0&&(i=r.slideCount<=r.options.slidesToShow||r.options.infinite===!1?r.$slideTrack.children(".slick-slide").eq(e):r.$slideTrack.children(".slick-slide").eq(e+r.options.slidesToShow),t=r.options.rtl===!0?i[0]?(r.$slideTrack.width()-i[0].offsetLeft-i.width())*-1:0:i[0]?i[0].offsetLeft*-1:0,r.options.centerMode===!0&&(i=r.slideCount<=r.options.slidesToShow||r.options.infinite===!1?r.$slideTrack.children(".slick-slide").eq(e):r.$slideTrack.children(".slick-slide").eq(e+r.options.slidesToShow+1),t=r.options.rtl===!0?i[0]?(r.$slideTrack.width()-i[0].offsetLeft-i.width())*-1:0:i[0]?i[0].offsetLeft*-1:0,t+=(r.$list.width()-i.outerWidth())/2)),t},t.prototype.getOption=t.prototype.slickGetOption=function(e){var t=this;return t.options[e]},t.prototype.getNavigableIndexes=function(){var e,t=this,n=0,i=0,a=[];for(t.options.infinite===!1?e=t.slideCount:(n=t.options.slidesToScroll*-1,i=t.options.slidesToScroll*-1,e=2*t.slideCount);n<e;)a.push(n),n=i+t.options.slidesToScroll,i+=t.options.slidesToScroll<=t.options.slidesToShow?t.options.slidesToScroll:t.options.slidesToShow;return a},t.prototype.getSlick=function(){return this},t.prototype.getSlideCount=function(){var t,n,i,a=this;return i=a.options.centerMode===!0?a.slideWidth*Math.floor(a.options.slidesToShow/2):0,a.options.swipeToSlide===!0?(a.$slideTrack.find(".slick-slide").each(function(t,r){if(r.offsetLeft-i+e(r).outerWidth()/2>a.swipeLeft*-1)return n=r,!1}),t=Math.abs(e(n).attr("data-slick-index")-a.currentSlide)||1):a.options.slidesToScroll},t.prototype.goTo=t.prototype.slickGoTo=function(e,t){var n=this;n.changeSlide({data:{message:"index",index:parseInt(e)}},t)},t.prototype.init=function(t){var n=this;e(n.$slider).hasClass("slick-initialized")||(e(n.$slider).addClass("slick-initialized"),n.buildRows(),n.buildOut(),n.setProps(),n.startLoad(),n.loadSlider(),n.initializeEvents(),n.updateArrows(),n.updateDots(),n.checkResponsive(!0),n.focusHandler()),t&&n.$slider.trigger("init",[n]),n.options.accessibility===!0&&n.initADA(),n.options.autoplay&&(n.paused=!1,n.autoPlay())},t.prototype.initADA=function(){var t=this,n=Math.ceil(t.slideCount/t.options.slidesToShow),i=t.getNavigableIndexes().filter(function(e){return e>=0&&e<t.slideCount});t.$slides.add(t.$slideTrack.find(".slick-cloned")).attr({"aria-hidden":"true",tabindex:"-1"}).find("a, input, button, select").attr({tabindex:"-1"}),null!==t.$dots&&(t.$slides.not(t.$slideTrack.find(".slick-cloned")).each(function(n){var a=i.indexOf(n);if(e(this).attr({role:"tabpanel",id:"slick-slide"+t.instanceUid+n,tabindex:-1}),a!==-1){var r="slick-slide-control"+t.instanceUid+a;e("#"+r).length&&e(this).attr({"aria-describedby":r})}}),t.$dots.attr("role","tablist").find("li").each(function(a){var r=i[a];e(this).attr({role:"presentation"}),e(this).find("button").first().attr({role:"tab",id:"slick-slide-control"+t.instanceUid+a,"aria-controls":"slick-slide"+t.instanceUid+r,"aria-label":a+1+" of "+n,"aria-selected":null,tabindex:"-1"})}).eq(t.currentSlide).find("button").attr({"aria-selected":"true",tabindex:"0"}).end());for(var a=t.currentSlide,r=a+t.options.slidesToShow;a<r;a++)t.options.focusOnChange?t.$slides.eq(a).attr({tabindex:"0"}):t.$slides.eq(a).removeAttr("tabindex");t.activateADA()},t.prototype.initArrowEvents=function(){var e=this;e.options.arrows===!0&&e.slideCount>e.options.slidesToShow&&(e.$prevArrow.off("click.slick").on("click.slick",{message:"previous"},e.changeSlide),e.$nextArrow.off("click.slick").on("click.slick",{message:"next"},e.changeSlide),e.options.accessibility===!0&&(e.$prevArrow.on("keydown.slick",e.keyHandler),e.$nextArrow.on("keydown.slick",e.keyHandler)))},t.prototype.initDotEvents=function(){var t=this;t.options.dots===!0&&t.slideCount>t.options.slidesToShow&&(e("li",t.$dots).on("click.slick",{message:"index"},t.changeSlide),t.options.accessibility===!0&&t.$dots.on("keydown.slick",t.keyHandler)),t.options.dots===!0&&t.options.pauseOnDotsHover===!0&&t.slideCount>t.options.slidesToShow&&e("li",t.$dots).on("mouseenter.slick",e.proxy(t.interrupt,t,!0)).on("mouseleave.slick",e.proxy(t.interrupt,t,!1))},t.prototype.initSlideEvents=function(){var t=this;t.options.pauseOnHover&&(t.$list.on("mouseenter.slick",e.proxy(t.interrupt,t,!0)),
t.$list.on("mouseleave.slick",e.proxy(t.interrupt,t,!1)))},t.prototype.initializeEvents=function(){var t=this;t.initArrowEvents(),t.initDotEvents(),t.initSlideEvents(),t.$list.on("touchstart.slick mousedown.slick",{action:"start"},t.swipeHandler),t.$list.on("touchmove.slick mousemove.slick",{action:"move"},t.swipeHandler),t.$list.on("touchend.slick mouseup.slick",{action:"end"},t.swipeHandler),t.$list.on("touchcancel.slick mouseleave.slick",{action:"end"},t.swipeHandler),t.$list.on("click.slick",t.clickHandler),e(document).on(t.visibilityChange,e.proxy(t.visibility,t)),t.options.accessibility===!0&&t.$list.on("keydown.slick",t.keyHandler),t.options.focusOnSelect===!0&&e(t.$slideTrack).children().on("click.slick",t.selectHandler),e(window).on("orientationchange.slick.slick-"+t.instanceUid,e.proxy(t.orientationChange,t)),e(window).on("resize.slick.slick-"+t.instanceUid,e.proxy(t.resize,t)),e("[draggable!=true]",t.$slideTrack).on("dragstart",t.preventDefault),e(window).on("load.slick.slick-"+t.instanceUid,t.setPosition),e(t.setPosition)},t.prototype.initUI=function(){var e=this;e.options.arrows===!0&&e.slideCount>e.options.slidesToShow&&(e.$prevArrow.show(),e.$nextArrow.show()),e.options.dots===!0&&e.slideCount>e.options.slidesToShow&&e.$dots.show()},t.prototype.keyHandler=function(e){var t=this;e.target.tagName.match("TEXTAREA|INPUT|SELECT")||(37===e.keyCode&&t.options.accessibility===!0?t.changeSlide({data:{message:t.options.rtl===!0?"next":"previous"}}):39===e.keyCode&&t.options.accessibility===!0&&t.changeSlide({data:{message:t.options.rtl===!0?"previous":"next"}}))},t.prototype.lazyLoad=function(){function t(t){e("img[data-lazy]",t).each(function(){var t=e(this),n=e(this).attr("data-lazy"),i=e(this).attr("data-srcset"),a=e(this).attr("data-sizes")||s.$slider.attr("data-sizes"),r=document.createElement("img");r.onload=function(){t.animate({opacity:0},100,function(){i&&(t.attr("srcset",i),a&&t.attr("sizes",a)),t.attr("src",n).animate({opacity:1},200,function(){t.removeAttr("data-lazy data-srcset data-sizes").removeClass("slick-loading")}),s.$slider.trigger("lazyLoaded",[s,t,n])})},r.onerror=function(){t.removeAttr("data-lazy").removeClass("slick-loading").addClass("slick-lazyload-error"),s.$slider.trigger("lazyLoadError",[s,t,n])},r.src=n})}var n,i,a,r,s=this;if(s.options.centerMode===!0?s.options.infinite===!0?(a=s.currentSlide+(s.options.slidesToShow/2+1),r=a+s.options.slidesToShow+2):(a=Math.max(0,s.currentSlide-(s.options.slidesToShow/2+1)),r=2+(s.options.slidesToShow/2+1)+s.currentSlide):(a=s.options.infinite?s.options.slidesToShow+s.currentSlide:s.currentSlide,r=Math.ceil(a+s.options.slidesToShow),s.options.fade===!0&&(a>0&&a--,r<=s.slideCount&&r++)),n=s.$slider.find(".slick-slide").slice(a,r),"anticipated"===s.options.lazyLoad)for(var o=a-1,l=r,u=s.$slider.find(".slick-slide"),c=0;c<s.options.slidesToScroll;c++)o<0&&(o=s.slideCount-1),n=n.add(u.eq(o)),n=n.add(u.eq(l)),o--,l++;t(n),s.slideCount<=s.options.slidesToShow?(i=s.$slider.find(".slick-slide"),t(i)):s.currentSlide>=s.slideCount-s.options.slidesToShow?(i=s.$slider.find(".slick-cloned").slice(0,s.options.slidesToShow),t(i)):0===s.currentSlide&&(i=s.$slider.find(".slick-cloned").slice(s.options.slidesToShow*-1),t(i))},t.prototype.loadSlider=function(){var e=this;e.setPosition(),e.$slideTrack.css({opacity:1}),e.$slider.removeClass("slick-loading"),e.initUI(),"progressive"===e.options.lazyLoad&&e.progressiveLazyLoad()},t.prototype.next=t.prototype.slickNext=function(){var e=this;e.changeSlide({data:{message:"next"}})},t.prototype.orientationChange=function(){var e=this;e.checkResponsive(),e.setPosition()},t.prototype.pause=t.prototype.slickPause=function(){var e=this;e.autoPlayClear(),e.paused=!0},t.prototype.play=t.prototype.slickPlay=function(){var e=this;e.autoPlay(),e.options.autoplay=!0,e.paused=!1,e.focussed=!1,e.interrupted=!1},t.prototype.postSlide=function(t){var n=this;if(!n.unslicked&&(n.$slider.trigger("afterChange",[n,t]),n.animating=!1,n.slideCount>n.options.slidesToShow&&n.setPosition(),n.swipeLeft=null,n.options.autoplay&&n.autoPlay(),n.options.accessibility===!0&&(n.initADA(),n.options.focusOnChange))){var i=e(n.$slides.get(n.currentSlide));i.attr("tabindex",0).focus()}},t.prototype.prev=t.prototype.slickPrev=function(){var e=this;e.changeSlide({data:{message:"previous"}})},t.prototype.preventDefault=function(e){e.preventDefault()},t.prototype.progressiveLazyLoad=function(t){t=t||1;var n,i,a,r,s,o=this,l=e("img[data-lazy]",o.$slider);l.length?(n=l.first(),i=n.attr("data-lazy"),a=n.attr("data-srcset"),r=n.attr("data-sizes")||o.$slider.attr("data-sizes"),s=document.createElement("img"),s.onload=function(){a&&(n.attr("srcset",a),r&&n.attr("sizes",r)),n.attr("src",i).removeAttr("data-lazy data-srcset data-sizes").removeClass("slick-loading"),o.options.adaptiveHeight===!0&&o.setPosition(),o.$slider.trigger("lazyLoaded",[o,n,i]),o.progressiveLazyLoad()},s.onerror=function(){t<3?setTimeout(function(){o.progressiveLazyLoad(t+1)},500):(n.removeAttr("data-lazy").removeClass("slick-loading").addClass("slick-lazyload-error"),o.$slider.trigger("lazyLoadError",[o,n,i]),o.progressiveLazyLoad())},s.src=i):o.$slider.trigger("allImagesLoaded",[o])},t.prototype.refresh=function(t){var n,i,a=this;i=a.slideCount-a.options.slidesToShow,!a.options.infinite&&a.currentSlide>i&&(a.currentSlide=i),a.slideCount<=a.options.slidesToShow&&(a.currentSlide=0),n=a.currentSlide,a.destroy(!0),e.extend(a,a.initials,{currentSlide:n}),a.init(),t||a.changeSlide({data:{message:"index",index:n}},!1)},t.prototype.registerBreakpoints=function(){var t,n,i,a=this,r=a.options.responsive||null;if("array"===e.type(r)&&r.length){a.respondTo=a.options.respondTo||"window";for(t in r)if(i=a.breakpoints.length-1,r.hasOwnProperty(t)){for(n=r[t].breakpoint;i>=0;)a.breakpoints[i]&&a.breakpoints[i]===n&&a.breakpoints.splice(i,1),i--;a.breakpoints.push(n),a.breakpointSettings[n]=r[t].settings}a.breakpoints.sort(function(e,t){return a.options.mobileFirst?e-t:t-e})}},t.prototype.reinit=function(){var t=this;t.$slides=t.$slideTrack.children(t.options.slide).addClass("slick-slide"),t.slideCount=t.$slides.length,t.currentSlide>=t.slideCount&&0!==t.currentSlide&&(t.currentSlide=t.currentSlide-t.options.slidesToScroll),t.slideCount<=t.options.slidesToShow&&(t.currentSlide=0),t.registerBreakpoints(),t.setProps(),t.setupInfinite(),t.buildArrows(),t.updateArrows(),t.initArrowEvents(),t.buildDots(),t.updateDots(),t.initDotEvents(),t.cleanUpSlideEvents(),t.initSlideEvents(),t.checkResponsive(!1,!0),t.options.focusOnSelect===!0&&e(t.$slideTrack).children().on("click.slick",t.selectHandler),t.setSlideClasses("number"==typeof t.currentSlide?t.currentSlide:0),t.setPosition(),t.focusHandler(),t.paused=!t.options.autoplay,t.autoPlay(),t.$slider.trigger("reInit",[t])},t.prototype.resize=function(){var t=this;e(window).width()!==t.windowWidth&&(clearTimeout(t.windowDelay),t.windowDelay=window.setTimeout(function(){t.windowWidth=e(window).width(),t.checkResponsive(),t.unslicked||t.setPosition()},50))},t.prototype.removeSlide=t.prototype.slickRemove=function(e,t,n){var i=this;return"boolean"==typeof e?(t=e,e=t===!0?0:i.slideCount-1):e=t===!0?--e:e,!(i.slideCount<1||e<0||e>i.slideCount-1)&&(i.unload(),n===!0?i.$slideTrack.children().remove():i.$slideTrack.children(this.options.slide).eq(e).remove(),i.$slides=i.$slideTrack.children(this.options.slide),i.$slideTrack.children(this.options.slide).detach(),i.$slideTrack.append(i.$slides),i.$slidesCache=i.$slides,void i.reinit())},t.prototype.setCSS=function(e){var t,n,i=this,a={};i.options.rtl===!0&&(e=-e),t="left"==i.positionProp?Math.ceil(e)+"px":"0px",n="top"==i.positionProp?Math.ceil(e)+"px":"0px",a[i.positionProp]=e,i.transformsEnabled===!1?i.$slideTrack.css(a):(a={},i.cssTransitions===!1?(a[i.animType]="translate("+t+", "+n+")",i.$slideTrack.css(a)):(a[i.animType]="translate3d("+t+", "+n+", 0px)",i.$slideTrack.css(a)))},t.prototype.setDimensions=function(){var e=this;e.options.vertical===!1?e.options.centerMode===!0&&e.$list.css({padding:"0px "+e.options.centerPadding}):(e.$list.height(e.$slides.first().outerHeight(!0)*e.options.slidesToShow),e.options.centerMode===!0&&e.$list.css({padding:e.options.centerPadding+" 0px"})),e.listWidth=e.$list.width(),e.listHeight=e.$list.height(),e.options.vertical===!1&&e.options.variableWidth===!1?(e.slideWidth=Math.ceil(e.listWidth/e.options.slidesToShow),e.$slideTrack.width(Math.ceil(e.slideWidth*e.$slideTrack.children(".slick-slide").length))):e.options.variableWidth===!0?e.$slideTrack.width(5e3*e.slideCount):(e.slideWidth=Math.ceil(e.listWidth),e.$slideTrack.height(Math.ceil(e.$slides.first().outerHeight(!0)*e.$slideTrack.children(".slick-slide").length)));var t=e.$slides.first().outerWidth(!0)-e.$slides.first().width();e.options.variableWidth===!1&&e.$slideTrack.children(".slick-slide").width(e.slideWidth-t)},t.prototype.setFade=function(){var t,n=this;n.$slides.each(function(i,a){t=n.slideWidth*i*-1,n.options.rtl===!0?e(a).css({position:"relative",right:t,top:0,zIndex:n.options.zIndex-2,opacity:0}):e(a).css({position:"relative",left:t,top:0,zIndex:n.options.zIndex-2,opacity:0})}),n.$slides.eq(n.currentSlide).css({zIndex:n.options.zIndex-1,opacity:1})},t.prototype.setHeight=function(){var e=this;if(1===e.options.slidesToShow&&e.options.adaptiveHeight===!0&&e.options.vertical===!1){var t=e.$slides.eq(e.currentSlide).outerHeight(!0);e.$list.css("height",t)}},t.prototype.setOption=t.prototype.slickSetOption=function(){var t,n,i,a,r,s=this,o=!1;if("object"===e.type(arguments[0])?(i=arguments[0],o=arguments[1],r="multiple"):"string"===e.type(arguments[0])&&(i=arguments[0],a=arguments[1],o=arguments[2],"responsive"===arguments[0]&&"array"===e.type(arguments[1])?r="responsive":"undefined"!=typeof arguments[1]&&(r="single")),"single"===r)s.options[i]=a;else if("multiple"===r)e.each(i,function(e,t){s.options[e]=t});else if("responsive"===r)for(n in a)if("array"!==e.type(s.options.responsive))s.options.responsive=[a[n]];else{for(t=s.options.responsive.length-1;t>=0;)s.options.responsive[t].breakpoint===a[n].breakpoint&&s.options.responsive.splice(t,1),t--;s.options.responsive.push(a[n])}o&&(s.unload(),s.reinit())},t.prototype.setPosition=function(){var e=this;e.setDimensions(),e.setHeight(),e.options.fade===!1?e.setCSS(e.getLeft(e.currentSlide)):e.setFade(),e.$slider.trigger("setPosition",[e])},t.prototype.setProps=function(){var e=this,t=document.body.style;e.positionProp=e.options.vertical===!0?"top":"left","top"===e.positionProp?e.$slider.addClass("slick-vertical"):e.$slider.removeClass("slick-vertical"),void 0===t.WebkitTransition&&void 0===t.MozTransition&&void 0===t.msTransition||e.options.useCSS===!0&&(e.cssTransitions=!0),e.options.fade&&("number"==typeof e.options.zIndex?e.options.zIndex<3&&(e.options.zIndex=3):e.options.zIndex=e.defaults.zIndex),void 0!==t.OTransform&&(e.animType="OTransform",e.transformType="-o-transform",e.transitionType="OTransition",void 0===t.perspectiveProperty&&void 0===t.webkitPerspective&&(e.animType=!1)),void 0!==t.MozTransform&&(e.animType="MozTransform",e.transformType="-moz-transform",e.transitionType="MozTransition",void 0===t.perspectiveProperty&&void 0===t.MozPerspective&&(e.animType=!1)),void 0!==t.webkitTransform&&(e.animType="webkitTransform",e.transformType="-webkit-transform",e.transitionType="webkitTransition",void 0===t.perspectiveProperty&&void 0===t.webkitPerspective&&(e.animType=!1)),void 0!==t.msTransform&&(e.animType="msTransform",e.transformType="-ms-transform",e.transitionType="msTransition",void 0===t.msTransform&&(e.animType=!1)),void 0!==t.transform&&e.animType!==!1&&(e.animType="transform",e.transformType="transform",e.transitionType="transition"),e.transformsEnabled=e.options.useTransform&&null!==e.animType&&e.animType!==!1},t.prototype.setSlideClasses=function(e){var t,n,i,a,r=this;if(n=r.$slider.find(".slick-slide").removeClass("slick-active slick-center slick-current").attr("aria-hidden","true"),r.$slides.eq(e).addClass("slick-current"),r.options.centerMode===!0){var s=r.options.slidesToShow%2===0?1:0;t=Math.floor(r.options.slidesToShow/2),r.options.infinite===!0&&(e>=t&&e<=r.slideCount-1-t?r.$slides.slice(e-t+s,e+t+1).addClass("slick-active").attr("aria-hidden","false"):(i=r.options.slidesToShow+e,n.slice(i-t+1+s,i+t+2).addClass("slick-active").attr("aria-hidden","false")),0===e?n.eq(n.length-1-r.options.slidesToShow).addClass("slick-center"):e===r.slideCount-1&&n.eq(r.options.slidesToShow).addClass("slick-center")),r.$slides.eq(e).addClass("slick-center")}else e>=0&&e<=r.slideCount-r.options.slidesToShow?r.$slides.slice(e,e+r.options.slidesToShow).addClass("slick-active").attr("aria-hidden","false"):n.length<=r.options.slidesToShow?n.addClass("slick-active").attr("aria-hidden","false"):(a=r.slideCount%r.options.slidesToShow,i=r.options.infinite===!0?r.options.slidesToShow+e:e,r.options.slidesToShow==r.options.slidesToScroll&&r.slideCount-e<r.options.slidesToShow?n.slice(i-(r.options.slidesToShow-a),i+a).addClass("slick-active").attr("aria-hidden","false"):n.slice(i,i+r.options.slidesToShow).addClass("slick-active").attr("aria-hidden","false"));"ondemand"!==r.options.lazyLoad&&"anticipated"!==r.options.lazyLoad||r.lazyLoad()},t.prototype.setupInfinite=function(){var t,n,i,a=this;if(a.options.fade===!0&&(a.options.centerMode=!1),a.options.infinite===!0&&a.options.fade===!1&&(n=null,a.slideCount>a.options.slidesToShow)){for(i=a.options.centerMode===!0?a.options.slidesToShow+1:a.options.slidesToShow,t=a.slideCount;t>a.slideCount-i;t-=1)n=t-1,e(a.$slides[n]).clone(!0).attr("id","").attr("data-slick-index",n-a.slideCount).prependTo(a.$slideTrack).addClass("slick-cloned");for(t=0;t<i+a.slideCount;t+=1)n=t,e(a.$slides[n]).clone(!0).attr("id","").attr("data-slick-index",n+a.slideCount).appendTo(a.$slideTrack).addClass("slick-cloned");a.$slideTrack.find(".slick-cloned").find("[id]").each(function(){e(this).attr("id","")})}},t.prototype.interrupt=function(e){var t=this;e||t.autoPlay(),t.interrupted=e},t.prototype.selectHandler=function(t){var n=this,i=e(t.target).is(".slick-slide")?e(t.target):e(t.target).parents(".slick-slide"),a=parseInt(i.attr("data-slick-index"));return a||(a=0),n.slideCount<=n.options.slidesToShow?void n.slideHandler(a,!1,!0):void n.slideHandler(a)},t.prototype.slideHandler=function(e,t,n){var i,a,r,s,o,l=null,u=this;if(t=t||!1,!(u.animating===!0&&u.options.waitForAnimate===!0||u.options.fade===!0&&u.currentSlide===e))return t===!1&&u.asNavFor(e),i=e,l=u.getLeft(i),s=u.getLeft(u.currentSlide),u.currentLeft=null===u.swipeLeft?s:u.swipeLeft,u.options.infinite===!1&&u.options.centerMode===!1&&(e<0||e>u.getDotCount()*u.options.slidesToScroll)?void(u.options.fade===!1&&(i=u.currentSlide,n!==!0&&u.slideCount>u.options.slidesToShow?u.animateSlide(s,function(){u.postSlide(i)}):u.postSlide(i))):u.options.infinite===!1&&u.options.centerMode===!0&&(e<0||e>u.slideCount-u.options.slidesToScroll)?void(u.options.fade===!1&&(i=u.currentSlide,n!==!0&&u.slideCount>u.options.slidesToShow?u.animateSlide(s,function(){u.postSlide(i)}):u.postSlide(i))):(u.options.autoplay&&clearInterval(u.autoPlayTimer),a=i<0?u.slideCount%u.options.slidesToScroll!==0?u.slideCount-u.slideCount%u.options.slidesToScroll:u.slideCount+i:i>=u.slideCount?u.slideCount%u.options.slidesToScroll!==0?0:i-u.slideCount:i,u.animating=!0,u.$slider.trigger("beforeChange",[u,u.currentSlide,a]),r=u.currentSlide,u.currentSlide=a,u.setSlideClasses(u.currentSlide),u.options.asNavFor&&(o=u.getNavTarget(),o=o.slick("getSlick"),o.slideCount<=o.options.slidesToShow&&o.setSlideClasses(u.currentSlide)),u.updateDots(),u.updateArrows(),u.options.fade===!0?(n!==!0?(u.fadeSlideOut(r),u.fadeSlide(a,function(){u.postSlide(a)})):u.postSlide(a),void u.animateHeight()):void(n!==!0&&u.slideCount>u.options.slidesToShow?u.animateSlide(l,function(){u.postSlide(a)}):u.postSlide(a)))},t.prototype.startLoad=function(){var e=this;e.options.arrows===!0&&e.slideCount>e.options.slidesToShow&&(e.$prevArrow.hide(),e.$nextArrow.hide()),e.options.dots===!0&&e.slideCount>e.options.slidesToShow&&e.$dots.hide(),e.$slider.addClass("slick-loading")},t.prototype.swipeDirection=function(){var e,t,n,i,a=this;return e=a.touchObject.startX-a.touchObject.curX,t=a.touchObject.startY-a.touchObject.curY,n=Math.atan2(t,e),i=Math.round(180*n/Math.PI),i<0&&(i=360-Math.abs(i)),i<=45&&i>=0?a.options.rtl===!1?"left":"right":i<=360&&i>=315?a.options.rtl===!1?"left":"right":i>=135&&i<=225?a.options.rtl===!1?"right":"left":a.options.verticalSwiping===!0?i>=35&&i<=135?"down":"up":"vertical"},t.prototype.swipeEnd=function(e){var t,n,i=this;if(i.dragging=!1,i.swiping=!1,i.scrolling)return i.scrolling=!1,!1;if(i.interrupted=!1,i.shouldClick=!(i.touchObject.swipeLength>10),void 0===i.touchObject.curX)return!1;if(i.touchObject.edgeHit===!0&&i.$slider.trigger("edge",[i,i.swipeDirection()]),i.touchObject.swipeLength>=i.touchObject.minSwipe){switch(n=i.swipeDirection()){case"left":case"down":t=i.options.swipeToSlide?i.checkNavigable(i.currentSlide+i.getSlideCount()):i.currentSlide+i.getSlideCount(),i.currentDirection=0;break;case"right":case"up":t=i.options.swipeToSlide?i.checkNavigable(i.currentSlide-i.getSlideCount()):i.currentSlide-i.getSlideCount(),i.currentDirection=1}"vertical"!=n&&(i.slideHandler(t),i.touchObject={},i.$slider.trigger("swipe",[i,n]))}else i.touchObject.startX!==i.touchObject.curX&&(i.slideHandler(i.currentSlide),i.touchObject={})},t.prototype.swipeHandler=function(e){var t=this;if(!(t.options.swipe===!1||"ontouchend"in document&&t.options.swipe===!1||t.options.draggable===!1&&e.type.indexOf("mouse")!==-1))switch(t.touchObject.fingerCount=e.originalEvent&&void 0!==e.originalEvent.touches?e.originalEvent.touches.length:1,t.touchObject.minSwipe=t.listWidth/t.options.touchThreshold,t.options.verticalSwiping===!0&&(t.touchObject.minSwipe=t.listHeight/t.options.touchThreshold),e.data.action){case"start":t.swipeStart(e);break;case"move":t.swipeMove(e);break;case"end":t.swipeEnd(e)}},t.prototype.swipeMove=function(e){var t,n,i,a,r,s,o=this;return r=void 0!==e.originalEvent?e.originalEvent.touches:null,!(!o.dragging||o.scrolling||r&&1!==r.length)&&(t=o.getLeft(o.currentSlide),o.touchObject.curX=void 0!==r?r[0].pageX:e.clientX,o.touchObject.curY=void 0!==r?r[0].pageY:e.clientY,o.touchObject.swipeLength=Math.round(Math.sqrt(Math.pow(o.touchObject.curX-o.touchObject.startX,2))),s=Math.round(Math.sqrt(Math.pow(o.touchObject.curY-o.touchObject.startY,2))),!o.options.verticalSwiping&&!o.swiping&&s>4?(o.scrolling=!0,!1):(o.options.verticalSwiping===!0&&(o.touchObject.swipeLength=s),n=o.swipeDirection(),void 0!==e.originalEvent&&o.touchObject.swipeLength>4&&(o.swiping=!0,e.preventDefault()),a=(o.options.rtl===!1?1:-1)*(o.touchObject.curX>o.touchObject.startX?1:-1),o.options.verticalSwiping===!0&&(a=o.touchObject.curY>o.touchObject.startY?1:-1),i=o.touchObject.swipeLength,o.touchObject.edgeHit=!1,o.options.infinite===!1&&(0===o.currentSlide&&"right"===n||o.currentSlide>=o.getDotCount()&&"left"===n)&&(i=o.touchObject.swipeLength*o.options.edgeFriction,o.touchObject.edgeHit=!0),o.options.vertical===!1?o.swipeLeft=t+i*a:o.swipeLeft=t+i*(o.$list.height()/o.listWidth)*a,o.options.verticalSwiping===!0&&(o.swipeLeft=t+i*a),o.options.fade!==!0&&o.options.touchMove!==!1&&(o.animating===!0?(o.swipeLeft=null,!1):void o.setCSS(o.swipeLeft))))},t.prototype.swipeStart=function(e){var t,n=this;return n.interrupted=!0,1!==n.touchObject.fingerCount||n.slideCount<=n.options.slidesToShow?(n.touchObject={},!1):(void 0!==e.originalEvent&&void 0!==e.originalEvent.touches&&(t=e.originalEvent.touches[0]),n.touchObject.startX=n.touchObject.curX=void 0!==t?t.pageX:e.clientX,n.touchObject.startY=n.touchObject.curY=void 0!==t?t.pageY:e.clientY,void(n.dragging=!0))},t.prototype.unfilterSlides=t.prototype.slickUnfilter=function(){var e=this;null!==e.$slidesCache&&(e.unload(),e.$slideTrack.children(this.options.slide).detach(),e.$slidesCache.appendTo(e.$slideTrack),e.reinit())},t.prototype.unload=function(){var t=this;e(".slick-cloned",t.$slider).remove(),t.$dots&&t.$dots.remove(),t.$prevArrow&&t.htmlExpr.test(t.options.prevArrow)&&t.$prevArrow.remove(),t.$nextArrow&&t.htmlExpr.test(t.options.nextArrow)&&t.$nextArrow.remove(),t.$slides.removeClass("slick-slide slick-active slick-visible slick-current").attr("aria-hidden","true").css("width","")},t.prototype.unslick=function(e){var t=this;t.$slider.trigger("unslick",[t,e]),t.destroy()},t.prototype.updateArrows=function(){var e,t=this;e=Math.floor(t.options.slidesToShow/2),t.options.arrows===!0&&t.slideCount>t.options.slidesToShow&&!t.options.infinite&&(t.$prevArrow.removeClass("slick-disabled").attr("aria-disabled","false"),t.$nextArrow.removeClass("slick-disabled").attr("aria-disabled","false"),0===t.currentSlide?(t.$prevArrow.addClass("slick-disabled").attr("aria-disabled","true"),t.$nextArrow.removeClass("slick-disabled").attr("aria-disabled","false")):t.currentSlide>=t.slideCount-t.options.slidesToShow&&t.options.centerMode===!1?(t.$nextArrow.addClass("slick-disabled").attr("aria-disabled","true"),t.$prevArrow.removeClass("slick-disabled").attr("aria-disabled","false")):t.currentSlide>=t.slideCount-1&&t.options.centerMode===!0&&(t.$nextArrow.addClass("slick-disabled").attr("aria-disabled","true"),t.$prevArrow.removeClass("slick-disabled").attr("aria-disabled","false")))},t.prototype.updateDots=function(){var e=this;null!==e.$dots&&(e.$dots.find("li").removeClass("slick-active").end(),e.$dots.find("li").eq(Math.floor(e.currentSlide/e.options.slidesToScroll)).addClass("slick-active"))},t.prototype.visibility=function(){var e=this;e.options.autoplay&&(document[e.hidden]?e.interrupted=!0:e.interrupted=!1)},e.fn.slick=function(){var e,n,i=this,a=arguments[0],r=Array.prototype.slice.call(arguments,1),s=i.length;for(e=0;e<s;e++)if("object"==typeof a||"undefined"==typeof a?i[e].slick=new t(i[e],a):n=i[e].slick[a].apply(i[e].slick,r),"undefined"!=typeof n)return n;return i}})},function(e,t,n){(function(e){!function(e,t,n,i){"use strict";function a(t,n){var i=this;i.element=t,i.options=e.extend({},s,n),i._defaults=s,i._name=r,i.init()}var r="rvFontsize",s={targetSection:"body",store:!1,storeIsDefined:!("undefined"==typeof store),variations:7,controllers:{append:!0,appendTo:"body",showResetButton:!1,template:""}};a.prototype={init:function(){var e=this,t=function(){e.defineElements(),e.getDefaultFontSize()};t(),e.options.store!==!0||e.options.storeIsDefined||e.dependencyWarning()},dependencyWarning:function(){console.warn('When you difine "store: true", store script is required (https://github.com/ramonvictor/rv-jquery-fontsize/blob/master/js/store.min.js)')},bindControlerHandlers:function(){var t=this;t.$decreaseButton=e(".rvfs-decrease"),t.$decreaseButton.length>0&&t.$decreaseButton.on("click",function(n){n.preventDefault();var i=e(this);if(!i.hasClass("disabled")){var a=t.getCurrentVariation();a>1&&(t.$target.removeClass("rvfs-"+a),t.$target.attr("data-rvfs",a-1),t.options.store===!0&&t.storeCurrentSize(),t.fontsizeChanged())}}),t.$increaseButton=e(".rvfs-increase"),t.$increaseButton.length>0&&t.$increaseButton.on("click",function(n){n.preventDefault();var i=e(this);if(!i.hasClass("disabled")){var a=t.getCurrentVariation();a<t.options.variations&&(t.$target.removeClass("rvfs-"+a),t.$target.attr("data-rvfs",a+1),t.options.store===!0&&t.storeCurrentSize(),t.fontsizeChanged())}}),t.$resetButton=e(".rvfs-reset"),t.$resetButton.length>0&&t.$resetButton.on("click",function(n){n.preventDefault();var i=e(this);if(!i.hasClass("disabled")){var a=t.getCurrentVariation();t.$target.removeClass("rvfs-"+a),t.$target.attr("data-rvfs",t.defaultFontsize),t.options.store===!0&&t.storeCurrentSize(),t.fontsizeChanged()}})},defineElements:function(){var t=this;if(t.$target=e(t.options.targetSection),t.options.controllers.append!==!1){var n=t.options.controllers.showResetButton?'<a href="#" class="rvfs-reset btn" title="Default font size">A</a>':"",i=t.options.controllers.template,a="";t.$appendTo=e(t.options.controllers.appendTo),a=e.trim(i).length>0?i:'<div class="btn-group"><a href="#" class="rvfs-decrease btn" title="Decrease font size">A-</a></li>'+n+'<a href="#" class="rvfs-increase btn" title="Increase font size">A+</a></li></div>',t.$appendTo.html(a),t.bindControlerHandlers()}},getDefaultFontSize:function(){var e=this,t=e.options.variations;e.defaultFontsize=0,t%2===0?e.defaultFontsize=t/2+1:e.defaultFontsize=parseInt(t/2+1,10),e.setDefaultFontSize()},setDefaultFontSize:function(){var e=this;if(e.options.store===!0&&e.options.storeIsDefined){var t=store.get("rvfs")||e.defaultFontsize;e.$target.attr("data-rvfs",t)}else e.$target.attr("data-rvfs",e.defaultFontsize);e.fontsizeChanged()},storeCurrentSize:function(){var e=this;e.options.storeIsDefined?store.set("rvfs",e.$target.attr("data-rvfs")):e.dependencyWarning()},getCurrentVariation:function(){return parseInt(this.$target.attr("data-rvfs"),10)},fontsizeChanged:function(){var e=this,t=e.getCurrentVariation();e.$target.addClass("rvfs-"+t),t===e.defaultFontsize?e.$resetButton.addClass("disabled"):e.$resetButton.removeClass("disabled"),t===e.options.variations?e.$increaseButton.addClass("disabled"):e.$increaseButton.removeClass("disabled"),1===t?e.$decreaseButton.addClass("disabled"):e.$decreaseButton.removeClass("disabled")}},e.fn[r]=function(t){var n=this;return n.each(function(){e.data(n,"plugin_"+r)||e.data(n,"plugin_"+r,new a(n,t))})},e[r]=function(){var n=e(t);return n.rvFontsize.apply(n,Array.prototype.slice.call(arguments,0))}}(e,window,document)}).call(t,n(2))},function(e,t,n){/**
	 * @license
	 * Video.js 7.6.6 <http://videojs.com/>
	 * Copyright Brightcove, Inc. <https://www.brightcove.com/>
	 * Available under Apache License Version 2.0
	 * <https://github.com/videojs/video.js/blob/master/LICENSE>
	 *
	 * Includes vtt.js <https://github.com/mozilla/vtt.js>
	 * Available under Apache License Version 2.0
	 * <https://github.com/mozilla/vtt.js/blob/master/LICENSE>
	 */
function i(e){return e&&"object"==typeof e&&"default"in e?e.default:e}function a(e){var t,n="info",i=function(){for(var e=arguments.length,i=new Array(e),a=0;a<e;a++)i[a]=arguments[a];t("log",n,i)};return t=it(e,i),i.createLogger=function(t){return a(e+": "+t)},i.levels={all:"debug|log|warn|error",off:"",debug:"debug|log|warn|error",info:"log|warn|error",warn:"warn|error",error:"error",DEFAULT:n},i.level=function(e){if("string"==typeof e){if(!i.levels.hasOwnProperty(e))throw new Error('"'+e+'" in not a valid log level');n=e}return n},i.history=function(){return nt?[].concat(nt):[]},i.history.filter=function(e){return(nt||[]).filter(function(t){return new RegExp(".*"+e+".*").test(t[0])})},i.history.clear=function(){nt&&(nt.length=0)},i.history.disable=function(){null!==nt&&(nt.length=0,nt=null)},i.history.enable=function(){null===nt&&(nt=[])},i.error=function(){for(var e=arguments.length,i=new Array(e),a=0;a<e;a++)i[a]=arguments[a];return t("error",n,i)},i.warn=function(){for(var e=arguments.length,i=new Array(e),a=0;a<e;a++)i[a]=arguments[a];return t("warn",n,i)},i.debug=function(){for(var e=arguments.length,i=new Array(e),a=0;a<e;a++)i[a]=arguments[a];return t("debug",n,i)},i}function r(e,t){ot(e).forEach(function(n){return t(e[n],n)})}function s(e,t,n){return void 0===n&&(n=0),ot(e).reduce(function(n,i){return t(n,e[i],i)},n)}function o(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),i=1;i<t;i++)n[i-1]=arguments[i];return Object.assign?Object.assign.apply(Object,[e].concat(n)):(n.forEach(function(t){t&&r(t,function(t,n){e[n]=t})}),e)}function l(e){return!!e&&"object"==typeof e}function u(e){return l(e)&&"[object Object]"===st.call(e)&&e.constructor===Object}function c(e,t){if(!e||!t)return"";if("function"==typeof Fe.getComputedStyle){var n=Fe.getComputedStyle(e);return n?n.getPropertyValue(t)||n[t]:""}return""}function d(e){return"string"==typeof e&&/\S/.test(e)}function h(e){if(/\s/.test(e))throw new Error("class has illegal whitespace characters")}function f(e){return new RegExp("(^|\\s)"+e+"($|\\s)")}function p(){return ze===Fe.document}function m(e){return l(e)&&1===e.nodeType}function g(){try{return Fe.parent!==Fe.self}catch(e){return!0}}function v(e){return function(t,n){if(!d(t))return ze[e](null);d(n)&&(n=ze.querySelector(n));var i=m(n)?n:ze;return i[e]&&i[e](t)}}function y(e,t,n,i){void 0===e&&(e="div"),void 0===t&&(t={}),void 0===n&&(n={});var a=ze.createElement(e);return Object.getOwnPropertyNames(t).forEach(function(e){var n=t[e];e.indexOf("aria-")!==-1||"role"===e||"type"===e?(at.warn("Setting attributes in the second argument of createEl()\nhas been deprecated. Use the third argument instead.\n"+("createEl(type, properties, attributes). Attempting to set "+e+" to "+n+".")),a.setAttribute(e,n)):"textContent"===e?_(a,n):a[e]=n}),Object.getOwnPropertyNames(n).forEach(function(e){a.setAttribute(e,n[e])}),i&&j(a,i),a}function _(e,t){return"undefined"==typeof e.textContent?e.innerText=t:e.textContent=t,e}function b(e,t){t.firstChild?t.insertBefore(e,t.firstChild):t.appendChild(e)}function T(e,t){return h(t),e.classList?e.classList.contains(t):f(t).test(e.className)}function k(e,t){return e.classList?e.classList.add(t):T(e,t)||(e.className=(e.className+" "+t).trim()),e}function S(e,t){return e.classList?e.classList.remove(t):(h(t),e.className=e.className.split(/\s+/).filter(function(e){return e!==t}).join(" ")),e}function C(e,t,n){var i=T(e,t);if("function"==typeof n&&(n=n(e,t)),"boolean"!=typeof n&&(n=!i),n!==i)return n?k(e,t):S(e,t),e}function w(e,t){Object.getOwnPropertyNames(t).forEach(function(n){var i=t[n];null===i||"undefined"==typeof i||i===!1?e.removeAttribute(n):e.setAttribute(n,i===!0?"":i)})}function E(e){var t={},n=",autoplay,controls,playsinline,loop,muted,default,defaultMuted,";if(e&&e.attributes&&e.attributes.length>0)for(var i=e.attributes,a=i.length-1;a>=0;a--){var r=i[a].name,s=i[a].value;"boolean"!=typeof e[r]&&n.indexOf(","+r+",")===-1||(s=null!==s),t[r]=s}return t}function A(e,t){return e.getAttribute(t)}function I(e,t,n){e.setAttribute(t,n)}function L(e,t){e.removeAttribute(t)}function x(){ze.body.focus(),ze.onselectstart=function(){return!1}}function P(){ze.onselectstart=function(){return!0}}function O(e){if(e&&e.getBoundingClientRect&&e.parentNode){var t=e.getBoundingClientRect(),n={};return["bottom","height","left","right","top","width"].forEach(function(e){void 0!==t[e]&&(n[e]=t[e])}),n.height||(n.height=parseFloat(c(e,"height"))),n.width||(n.width=parseFloat(c(e,"width"))),n}}function D(e){var t;if(e.getBoundingClientRect&&e.parentNode&&(t=e.getBoundingClientRect()),!t)return{left:0,top:0};var n=ze.documentElement,i=ze.body,a=n.clientLeft||i.clientLeft||0,r=Fe.pageXOffset||i.scrollLeft,s=t.left+r-a,o=n.clientTop||i.clientTop||0,l=Fe.pageYOffset||i.scrollTop,u=t.top+l-o;return{left:Math.round(s),top:Math.round(u)}}function N(e,t){var n={},i=D(e),a=e.offsetWidth,r=e.offsetHeight,s=i.top,o=i.left,l=t.pageY,u=t.pageX;return t.changedTouches&&(u=t.changedTouches[0].pageX,l=t.changedTouches[0].pageY),n.y=Math.max(0,Math.min(1,(s-l+r)/r)),n.x=Math.max(0,Math.min(1,(u-o)/a)),n}function M(e){return l(e)&&3===e.nodeType}function R(e){for(;e.firstChild;)e.removeChild(e.firstChild);return e}function B(e){return"function"==typeof e&&(e=e()),(Array.isArray(e)?e:[e]).map(function(e){return"function"==typeof e&&(e=e()),m(e)||M(e)?e:"string"==typeof e&&/\S/.test(e)?ze.createTextNode(e):void 0}).filter(function(e){return e})}function j(e,t){return B(t).forEach(function(t){return e.appendChild(t)}),e}function U(e,t){return j(R(e),t)}function H(e){return void 0===e.button&&void 0===e.buttons||(0===e.button&&void 0===e.buttons||("mouseup"===e.type&&0===e.button&&0===e.buttons||0===e.button&&1===e.buttons))}function F(e,t){t&&(He=t),Fe.setTimeout(ht,e)}function z(){dt=!0,Fe.removeEventListener("load",z)}function K(){return vt++}function G(e,t){if(yt.has(e)){var n=yt.get(e);0===n.handlers[t].length&&(delete n.handlers[t],e.removeEventListener?e.removeEventListener(t,n.dispatcher,!1):e.detachEvent&&e.detachEvent("on"+t,n.dispatcher)),Object.getOwnPropertyNames(n.handlers).length<=0&&(delete n.handlers,delete n.dispatcher,delete n.disabled),0===Object.getOwnPropertyNames(n).length&&yt.delete(e)}}function V(e,t,n,i){n.forEach(function(n){e(t,n,i)})}function W(e){function t(){return!0}function n(){return!1}if(!e||!e.isPropagationStopped){var i=e||Fe.event;e={};for(var a in i)"layerX"!==a&&"layerY"!==a&&"keyLocation"!==a&&"webkitMovementX"!==a&&"webkitMovementY"!==a&&("returnValue"===a&&i.preventDefault||(e[a]=i[a]));if(e.target||(e.target=e.srcElement||ze),e.relatedTarget||(e.relatedTarget=e.fromElement===e.target?e.toElement:e.fromElement),e.preventDefault=function(){i.preventDefault&&i.preventDefault(),e.returnValue=!1,i.returnValue=!1,e.defaultPrevented=!0},e.defaultPrevented=!1,e.stopPropagation=function(){i.stopPropagation&&i.stopPropagation(),e.cancelBubble=!0,i.cancelBubble=!0,e.isPropagationStopped=t},e.isPropagationStopped=n,e.stopImmediatePropagation=function(){i.stopImmediatePropagation&&i.stopImmediatePropagation(),e.isImmediatePropagationStopped=t,e.stopPropagation()},e.isImmediatePropagationStopped=n,null!==e.clientX&&void 0!==e.clientX){var r=ze.documentElement,s=ze.body;e.pageX=e.clientX+(r&&r.scrollLeft||s&&s.scrollLeft||0)-(r&&r.clientLeft||s&&s.clientLeft||0),e.pageY=e.clientY+(r&&r.scrollTop||s&&s.scrollTop||0)-(r&&r.clientTop||s&&s.clientTop||0)}e.which=e.charCode||e.keyCode,null!==e.button&&void 0!==e.button&&(e.button=1&e.button?0:4&e.button?1:2&e.button?2:0)}return e}function q(e,t,n){if(Array.isArray(t))return V(q,e,t,n);yt.has(e)||yt.set(e,{});var i=yt.get(e);if(i.handlers||(i.handlers={}),i.handlers[t]||(i.handlers[t]=[]),n.guid||(n.guid=K()),i.handlers[t].push(n),i.dispatcher||(i.disabled=!1,i.dispatcher=function(t,n){if(!i.disabled){t=W(t);var a=i.handlers[t.type];if(a)for(var r=a.slice(0),s=0,o=r.length;s<o&&!t.isImmediatePropagationStopped();s++)try{r[s].call(e,t,n)}catch(e){at.error(e)}}}),1===i.handlers[t].length)if(e.addEventListener){var a=!1;_t&&bt.indexOf(t)>-1&&(a={passive:!0}),e.addEventListener(t,i.dispatcher,a)}else e.attachEvent&&e.attachEvent("on"+t,i.dispatcher)}function $(e,t,n){if(yt.has(e)){var i=yt.get(e);if(i.handlers){if(Array.isArray(t))return V($,e,t,n);var a=function(e,t){i.handlers[t]=[],G(e,t)};if(void 0!==t){var r=i.handlers[t];if(r){if(!n)return void a(e,t);if(n.guid)for(var s=0;s<r.length;s++)r[s].guid===n.guid&&r.splice(s--,1);G(e,t)}}else for(var o in i.handlers)Object.prototype.hasOwnProperty.call(i.handlers||{},o)&&a(e,o)}}}function Y(e,t,n){var i=yt.has(e)?yt.get(e):{},a=e.parentNode||e.ownerDocument;if("string"==typeof t?t={type:t,target:e}:t.target||(t.target=e),t=W(t),i.dispatcher&&i.dispatcher.call(e,t,n),a&&!t.isPropagationStopped()&&t.bubbles===!0)Y.call(null,a,t,n);else if(!a&&!t.defaultPrevented&&t.target&&t.target[t.type]){yt.has(t.target)||yt.set(t.target,{});var r=yt.get(t.target);t.target[t.type]&&(r.disabled=!0,"function"==typeof t.target[t.type]&&t.target[t.type](),r.disabled=!1)}return!t.defaultPrevented}function X(e,t,n){if(Array.isArray(t))return V(X,e,t,n);var i=function i(){$(e,t,i),n.apply(this,arguments)};i.guid=n.guid=n.guid||K(),q(e,t,i)}function Q(e,t,n){var i=function i(){$(e,t,i),n.apply(this,arguments)};i.guid=n.guid=n.guid||K(),q(e,t,i)}function J(e,t){void 0===t&&(t={});var n=t,i=n.eventBusKey;if(i){if(!e[i].nodeName)throw new Error('The eventBusKey "'+i+'" does not refer to an element.');e.eventBusEl_=e[i]}else e.eventBusEl_=y("span",{className:"vjs-event-bus"});return o(e,Rt),e.eventedCallbacks&&e.eventedCallbacks.forEach(function(e){e()}),e.on("dispose",function(){e.off(),Fe.setTimeout(function(){e.eventBusEl_=null},0)}),e}function Z(e,t){return o(e,Bt),e.state=o({},e.state,t),"function"==typeof e.handleStateChanged&&It(e)&&e.on("statechanged",e.handleStateChanged),e}function ee(){for(var e={},t=arguments.length,n=new Array(t),i=0;i<t;i++)n[i]=arguments[i];return n.forEach(function(t){t&&r(t,function(t,n){return u(t)?(u(e[n])||(e[n]={}),void(e[n]=ee(e[n],t))):void(e[n]=t)})}),e}function te(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,e.__proto__=t}function ne(e,t){return(ne=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function ie(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}function ae(e,t,n){return ae=ie()?Reflect.construct:function(e,t,n){var i=[null];i.push.apply(i,t);var a=Function.bind.apply(e,i),r=new a;return n&&ne(r,n.prototype),r},ae.apply(null,arguments)}function re(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function se(e,t,n){if("number"!=typeof t||t<0||t>n)throw new Error("Failed to execute '"+e+"' on 'TimeRanges': The index provided ("+t+") is non-numeric or out of bounds (0-"+n+").")}function oe(e,t,n,i){return se(e,i,n.length-1),n[i][t]}function le(e){return void 0===e||0===e.length?{length:0,start:function(){throw new Error("This TimeRanges object is empty")},end:function(){throw new Error("This TimeRanges object is empty")}}:{length:e.length,start:oe.bind(null,"start",0,e),end:oe.bind(null,"end",1,e)}}function ue(e,t){return Array.isArray(e)?le(e):void 0===e||void 0===t?le():le([[e,t]])}function ce(e,t){var n,i,a=0;if(!t)return 0;e&&e.length||(e=ue(0,0));for(var r=0;r<e.length;r++)n=e.start(r),i=e.end(r),i>t&&(i=t),a+=i-n;return a/t}function de(e){return e instanceof de?e:("number"==typeof e?this.code=e:"string"==typeof e?this.message=e:l(e)&&("number"==typeof e.code&&(this.code=e.code),o(this,e)),void(this.message||(this.message=de.defaultMessages[this.code]||"")))}function he(e){return void 0!==e&&null!==e&&"function"==typeof e.then}function fe(e){he(e)&&e.then(null,function(e){})}function pe(e,t,n,i,a){void 0===a&&(a={});var r=e.textTracks();a.kind=t,n&&(a.label=n),i&&(a.language=i),a.tech=e;var s=new ei.text.TrackClass(a);return r.addTrack(s),s}function me(e,t){ni[e]=ni[e]||[],ni[e].push(t)}function ge(e,t,n){e.setTimeout(function(){return we(t,ni[t.type],n,e)},1)}function ve(e,t){e.forEach(function(e){return e.setTech&&e.setTech(t)})}function ye(e,t,n){return e.reduceRight(Te(n),t[n]())}function _e(e,t,n,i){return t[n](e.reduce(Te(n),i))}function be(e,t,n,i){void 0===i&&(i=null);var a="call"+Ut(n),r=e.reduce(Te(a),i),s=r===ai,o=s?null:t[n](r);return ke(e,n,o,s),o}function Te(e){return function(t,n){return t===ai?ai:n[e]?n[e](t):t}}function ke(e,t,n,i){for(var a=e.length-1;a>=0;a--){var r=e[a];r[t]&&r[t](i,n)}}function Se(e){ii[e.id()]=null}function Ce(e,t){var n=ii[e.id()],i=null;if(void 0===n||null===n)return i=t(e),ii[e.id()]=[[t,i]],i;for(var a=0;a<n.length;a++){var r=n[a],s=r[0],o=r[1];s===t&&(i=o)}return null===i&&(i=t(e),n.push([t,i])),i}function we(e,t,n,i,a,r){void 0===e&&(e={}),void 0===t&&(t=[]),void 0===a&&(a=[]),void 0===r&&(r=!1);var s=t,l=s[0],u=s.slice(1);if("string"==typeof l)we(e,ni[l],n,i,a,r);else if(l){var c=Ce(i,l);if(!c.setSource)return a.push(c),we(e,u,n,i,a,r);c.setSource(o({},e),function(t,s){return t?we(e,u,n,i,a,r):(a.push(c),void we(s,e.type===s.type?u:ni[s.type],n,i,a,r))})}else u.length?we(e,u,n,i,a,r):r?n(e,a):we(e,ni["*"],n,i,a,!0)}function Ee(e){if(!e.type){var t=ui(e.src);t&&(e.type=t)}return e}function Ae(e,t){var n;if(4===e.length)n=e[1]+e[1]+e[2]+e[2]+e[3]+e[3];else{if(7!==e.length)throw new Error("Invalid color code provided, "+e+"; must be formatted as e.g. #f0e or #f604e2.");n=e.slice(1)}return"rgba("+parseInt(n.slice(0,2),16)+","+parseInt(n.slice(2,4),16)+","+parseInt(n.slice(4,6),16)+","+t+")"}function Ie(e,t,n){try{e.style[t]=n}catch(e){return}}function Le(e){wi=e}function xe(){wi=Ci}function Pe(e,t){return void 0===t&&(t=e),wi(e,t)}function Oe(e,t){if(t&&(e=t(e)),e&&"none"!==e)return e}function De(e,t){var n=e.options[e.options.selectedIndex].value;return Oe(n,t)}function Ne(e,t,n){if(t)for(var i=0;i<e.options.length;i++)if(Oe(e.options[i].value,n)===t){e.selectedIndex=i;break}}function Me(e,t,n){var i=Me.getPlayer(e);if(i)return t&&at.warn('Player "'+e+'" is already initialised. Options will not be applied.'),n&&i.ready(n),i;var a="string"==typeof e?lt("#"+gr(e)):e;if(!m(a))throw new TypeError("The element or ID supplied is not valid. (videojs)");a.ownerDocument.defaultView&&a.ownerDocument.body.contains(a)||at.warn("The element supplied is not included in the DOM"),t=t||{},Me.hooks("beforesetup").forEach(function(e){var n=e(a,ee(t));return!l(n)||Array.isArray(n)?void at.error("please return an object in beforesetup hooks"):void(t=ee(t,n))});var r=Ft.getComponent("Player");return i=new r(a,t,n),Me.hooks("setup").forEach(function(e){return e(i)}),i}function Re(e,t){return function(n){var i=this;if(!t)return new Qs(e);if(Qs&&!n){var a=t.toString().replace(/^function.+?{/,"").slice(0,-1),r=Be(a);return this[qs]=new Qs(r),je(this[qs],r),this[qs]}var s={postMessage:function(e){i.onmessage&&setTimeout(function(){i.onmessage({data:e,target:s})})}};t.call(s),this.postMessage=function(e){setTimeout(function(){s.onmessage({data:e,target:i})})},this.isThisThread=!0}}function Be(e){try{return Xs.createObjectURL(new Blob([e],{type:$s}))}catch(n){var t=new Ys;return t.append(e),Xs.createObjectURL(t.getBlob(type))}}function je(e,t){if(e&&t){var n=e.terminate;e.objURL=t,e.terminate=function(){e.objURL&&Xs.revokeObjectURL(e.objURL),n.call(e)}}}function Ue(){}var He,Fe=i(n(9)),ze=i(n(10)),Ke=i(n(12)),Ge=i(n(13)),Ve=i(n(14)),We=i(n(18)),qe=i(n(22)),$e=n(23),Ye=n(24),Xe=i(n(25)),Qe=i(n(26)),Je=i(n(28)),Ze=i(n(32)),et=n(38),tt="7.6.6",nt=[],it=function(e,t){return function(n,i,a){var r=t.levels[i],s=new RegExp("^("+r+")$");if("log"!==n&&a.unshift(n.toUpperCase()+":"),a.unshift(e+":"),nt&&nt.push([].concat(a)),Fe.console){var o=Fe.console[n];o||"debug"!==n||(o=Fe.console.info||Fe.console.log),o&&r&&s.test(n)&&o[Array.isArray(a)?"apply":"call"](Fe.console,a)}}},at=a("VIDEOJS"),rt=at.createLogger,st=Object.prototype.toString,ot=function(e){return l(e)?Object.keys(e):[]},lt=v("querySelector"),ut=v("querySelectorAll"),ct=Object.freeze({isReal:p,isEl:m,isInFrame:g,createEl:y,textContent:_,prependTo:b,hasClass:T,addClass:k,removeClass:S,toggleClass:C,setAttributes:w,getAttributes:E,getAttribute:A,setAttribute:I,removeAttribute:L,blockTextSelection:x,unblockTextSelection:P,getBoundingClientRect:O,findPosition:D,getPointerPosition:N,isTextNode:M,emptyEl:R,normalizeContent:B,appendContent:j,insertContent:U,isSingleLeftClick:H,$:lt,$$:ut}),dt=!1,ht=function(){if(p()&&He.options.autoSetup!==!1){var e=Array.prototype.slice.call(ze.getElementsByTagName("video")),t=Array.prototype.slice.call(ze.getElementsByTagName("audio")),n=Array.prototype.slice.call(ze.getElementsByTagName("video-js")),i=e.concat(t,n);if(i&&i.length>0)for(var a=0,r=i.length;a<r;a++){var s=i[a];if(!s||!s.getAttribute){F(1);break}if(void 0===s.player){var o=s.getAttribute("data-setup");null!==o&&He(s)}}else dt||F(1)}};p()&&("complete"===ze.readyState?z():Fe.addEventListener("load",z));var ft,pt=function(e){var t=ze.createElement("style");return t.className=e,t},mt=function(e,t){e.styleSheet?e.styleSheet.cssText=t:e.textContent=t},gt=3,vt=gt;Fe.WeakMap||(ft=function(){function e(){this.vdata="vdata"+Math.floor(Fe.performance&&Fe.performance.now()||Date.now()),this.data={}}var t=e.prototype;return t.set=function(e,t){var n=e[this.vdata]||K();return e[this.vdata]||(e[this.vdata]=n),this.data[n]=t,this},t.get=function(e){var t=e[this.vdata];return t?this.data[t]:void at("We have no data for this element",e)},t.has=function(e){var t=e[this.vdata];return t in this.data},t.delete=function(e){var t=e[this.vdata];t&&(delete this.data[t],delete e[this.vdata])},e}());var yt=Fe.WeakMap?new WeakMap:new ft,_t=!1;!function(){try{var e=Object.defineProperty({},"passive",{get:function(){_t=!0}});Fe.addEventListener("test",null,e),Fe.removeEventListener("test",null,e)}catch(e){}}();var bt=["touchstart","touchmove"],Tt=Object.freeze({fixEvent:W,on:q,off:$,trigger:Y,one:X,any:Q}),kt=30,St=function(e,t,n){t.guid||(t.guid=K());var i=t.bind(e);return i.guid=n?n+"_"+t.guid:t.guid,i},Ct=function(e,t){var n=Fe.performance.now(),i=function(){var i=Fe.performance.now();i-n>=t&&(e.apply(void 0,arguments),n=i)};return i},wt=function(e,t,n,i){void 0===i&&(i=Fe);var a,r=function(){i.clearTimeout(a),a=null},s=function(){var r=this,s=arguments,o=function(){a=null,o=null,n||e.apply(r,s)};!a&&n&&e.apply(r,s),i.clearTimeout(a),a=i.setTimeout(o,t)};return s.cancel=r,s},Et=function(){};Et.prototype.allowedEvents_={},Et.prototype.on=function(e,t){var n=this.addEventListener;this.addEventListener=function(){},q(this,e,t),this.addEventListener=n},Et.prototype.addEventListener=Et.prototype.on,Et.prototype.off=function(e,t){$(this,e,t)},Et.prototype.removeEventListener=Et.prototype.off,Et.prototype.one=function(e,t){var n=this.addEventListener;this.addEventListener=function(){},X(this,e,t),this.addEventListener=n},Et.prototype.any=function(e,t){var n=this.addEventListener;this.addEventListener=function(){},Q(this,e,t),this.addEventListener=n},Et.prototype.trigger=function(e){var t=e.type||e;"string"==typeof e&&(e={type:t}),e=W(e),this.allowedEvents_[t]&&this["on"+t]&&this["on"+t](e),Y(this,e)},Et.prototype.dispatchEvent=Et.prototype.trigger;var At;Et.prototype.queueTrigger=function(e){var t=this;At||(At=new Map);var n=e.type||e,i=At.get(this);i||(i=new Map,At.set(this,i));var a=i.get(n);i.delete(n),Fe.clearTimeout(a);var r=Fe.setTimeout(function(){0===i.size&&(i=null,At.delete(t)),t.trigger(e)},0);i.set(n,r)};var It=function(e){return e instanceof Et||!!e.eventBusEl_&&["on","one","off","trigger"].every(function(t){return"function"==typeof e[t]})},Lt=function(e,t){It(e)?t():(e.eventedCallbacks||(e.eventedCallbacks=[]),e.eventedCallbacks.push(t))},xt=function(e){return"string"==typeof e&&/\S/.test(e)||Array.isArray(e)&&!!e.length},Pt=function(e){if(!e.nodeName&&!It(e))throw new Error("Invalid target; must be a DOM node or evented object.")},Ot=function(e){if(!xt(e))throw new Error("Invalid event type; must be a non-empty string or array.")},Dt=function(e){if("function"!=typeof e)throw new Error("Invalid listener; must be a function.")},Nt=function(e,t){var n,i,a,r=t.length<3||t[0]===e||t[0]===e.eventBusEl_;return r?(n=e.eventBusEl_,t.length>=3&&t.shift(),i=t[0],a=t[1]):(n=t[0],i=t[1],a=t[2]),Pt(n),Ot(i),Dt(a),a=St(e,a),{isTargetingSelf:r,target:n,type:i,listener:a}},Mt=function(e,t,n,i){Pt(e),e.nodeName?Tt[t](e,n,i):e[t](n,i)},Rt={on:function(){for(var e=this,t=arguments.length,n=new Array(t),i=0;i<t;i++)n[i]=arguments[i];var a=Nt(this,n),r=a.isTargetingSelf,s=a.target,o=a.type,l=a.listener;if(Mt(s,"on",o,l),!r){var u=function(){return e.off(s,o,l)};u.guid=l.guid;var c=function(){return e.off("dispose",u)};c.guid=l.guid,Mt(this,"on","dispose",u),Mt(s,"on","dispose",c)}},one:function(){for(var e=this,t=arguments.length,n=new Array(t),i=0;i<t;i++)n[i]=arguments[i];var a=Nt(this,n),r=a.isTargetingSelf,s=a.target,o=a.type,l=a.listener;if(r)Mt(s,"one",o,l);else{var u=function t(){e.off(s,o,t);for(var n=arguments.length,i=new Array(n),a=0;a<n;a++)i[a]=arguments[a];l.apply(null,i)};u.guid=l.guid,Mt(s,"one",o,u)}},any:function(){for(var e=this,t=arguments.length,n=new Array(t),i=0;i<t;i++)n[i]=arguments[i];var a=Nt(this,n),r=a.isTargetingSelf,s=a.target,o=a.type,l=a.listener;if(r)Mt(s,"any",o,l);else{var u=function t(){e.off(s,o,t);for(var n=arguments.length,i=new Array(n),a=0;a<n;a++)i[a]=arguments[a];l.apply(null,i)};u.guid=l.guid,Mt(s,"any",o,u)}},off:function(e,t,n){if(!e||xt(e))$(this.eventBusEl_,e,t);else{var i=e,a=t;Pt(i),Ot(a),Dt(n),n=St(this,n),this.off("dispose",n),i.nodeName?($(i,a,n),$(i,"dispose",n)):It(i)&&(i.off(a,n),i.off("dispose",n))}},trigger:function(e,t){return Y(this.eventBusEl_,e,t)}},Bt={state:{},setState:function(e){var t=this;"function"==typeof e&&(e=e());var n;return r(e,function(e,i){t.state[i]!==e&&(n=n||{},n[i]={from:t.state[i],to:e}),t.state[i]=e}),n&&It(this)&&this.trigger({changes:n,type:"statechanged"}),n}},jt=function(e){return"string"!=typeof e?e:e.replace(/./,function(e){return e.toLowerCase()})},Ut=function(e){return"string"!=typeof e?e:e.replace(/./,function(e){return e.toUpperCase()})},Ht=function(e,t){return Ut(e)===Ut(t)},Ft=function(){function e(e,t,n){if(!e&&this.play?this.player_=e=this:this.player_=e,this.parentComponent_=null,this.options_=ee({},this.options_),t=this.options_=ee(this.options_,t),this.id_=t.id||t.el&&t.el.id,!this.id_){var i=e&&e.id&&e.id()||"no_player";this.id_=i+"_component_"+K()}this.name_=t.name||null,t.el?this.el_=t.el:t.createEl!==!1&&(this.el_=this.createEl()),t.evented!==!1&&J(this,{eventBusKey:this.el_?"el_":null}),Z(this,this.constructor.defaultState),this.children_=[],this.childIndex_={},this.childNameIndex_={};var a;Fe.Set||(a=function(){function e(){this.set_={}}var t=e.prototype;return t.has=function(e){return e in this.set_},t.delete=function(e){var t=this.has(e);return delete this.set_[e],t},t.add=function(e){return this.set_[e]=1,this},t.forEach=function(e,t){for(var n in this.set_)e.call(t,n,n,this)},e}()),this.setTimeoutIds_=Fe.Set?new Set:new a,this.setIntervalIds_=Fe.Set?new Set:new a,this.rafIds_=Fe.Set?new Set:new a,this.clearingTimersOnDispose_=!1,t.initChildren!==!1&&this.initChildren(),this.ready(n),t.reportTouchActivity!==!1&&this.enableTouchActivity()}var t=e.prototype;return t.dispose=function(){if(this.trigger({type:"dispose",bubbles:!1}),this.children_)for(var e=this.children_.length-1;e>=0;e--)this.children_[e].dispose&&this.children_[e].dispose();this.children_=null,this.childIndex_=null,this.childNameIndex_=null,this.parentComponent_=null,this.el_&&(this.el_.parentNode&&this.el_.parentNode.removeChild(this.el_),yt.has(this.el_)&&yt.delete(this.el_),this.el_=null),this.player_=null},t.player=function(){return this.player_},t.options=function(e){return e?(this.options_=ee(this.options_,e),this.options_):this.options_},t.el=function(){return this.el_},t.createEl=function(e,t,n){return y(e,t,n)},t.localize=function(e,t,n){void 0===n&&(n=e);var i=this.player_.language&&this.player_.language(),a=this.player_.languages&&this.player_.languages(),r=a&&a[i],s=i&&i.split("-")[0],o=a&&a[s],l=n;return r&&r[e]?l=r[e]:o&&o[e]&&(l=o[e]),t&&(l=l.replace(/\{(\d+)\}/g,function(e,n){var i=t[n-1],a=i;return"undefined"==typeof i&&(a=e),a})),l},t.contentEl=function(){return this.contentEl_||this.el_},t.id=function(){return this.id_},t.name=function(){return this.name_},t.children=function(){return this.children_},t.getChildById=function(e){return this.childIndex_[e]},t.getChild=function(e){if(e)return this.childNameIndex_[e]},t.addChild=function(t,n,i){void 0===n&&(n={}),void 0===i&&(i=this.children_.length);var a,r;if("string"==typeof t){r=Ut(t);var s=n.componentClass||r;n.name=r;var o=e.getComponent(s);if(!o)throw new Error("Component "+s+" does not exist");if("function"!=typeof o)return null;a=new o(this.player_||this,n)}else a=t;if(a.parentComponent_&&a.parentComponent_.removeChild(a),this.children_.splice(i,0,a),a.parentComponent_=this,"function"==typeof a.id&&(this.childIndex_[a.id()]=a),r=r||a.name&&Ut(a.name()),r&&(this.childNameIndex_[r]=a,this.childNameIndex_[jt(r)]=a),"function"==typeof a.el&&a.el()){var l=this.contentEl().children,u=l[i]||null;this.contentEl().insertBefore(a.el(),u)}return a},t.removeChild=function(e){if("string"==typeof e&&(e=this.getChild(e)),e&&this.children_){for(var t=!1,n=this.children_.length-1;n>=0;n--)if(this.children_[n]===e){t=!0,this.children_.splice(n,1);break}if(t){e.parentComponent_=null,this.childIndex_[e.id()]=null,this.childNameIndex_[Ut(e.name())]=null,this.childNameIndex_[jt(e.name())]=null;var i=e.el();i&&i.parentNode===this.contentEl()&&this.contentEl().removeChild(e.el())}}},t.initChildren=function(){var t=this,n=this.options_.children;if(n){var i,a=this.options_,r=function(e){var n=e.name,i=e.opts;if(void 0!==a[n]&&(i=a[n]),i!==!1){i===!0&&(i={}),i.playerOptions=t.options_.playerOptions;var r=t.addChild(n,i);r&&(t[n]=r)}},s=e.getComponent("Tech");i=Array.isArray(n)?n:Object.keys(n),i.concat(Object.keys(this.options_).filter(function(e){return!i.some(function(t){return"string"==typeof t?e===t:e===t.name})})).map(function(e){var i,a;return"string"==typeof e?(i=e,a=n[i]||t.options_[i]||{}):(i=e.name,a=e),{name:i,opts:a}}).filter(function(t){var n=e.getComponent(t.opts.componentClass||Ut(t.name));return n&&!s.isTech(n)}).forEach(r)}},t.buildCSSClass=function(){return""},t.ready=function(e,t){if(void 0===t&&(t=!1),e)return this.isReady_?void(t?e.call(this):this.setTimeout(e,1)):(this.readyQueue_=this.readyQueue_||[],void this.readyQueue_.push(e))},t.triggerReady=function(){this.isReady_=!0,this.setTimeout(function(){var e=this.readyQueue_;this.readyQueue_=[],e&&e.length>0&&e.forEach(function(e){e.call(this)},this),this.trigger("ready")},1)},t.$=function(e,t){return lt(e,t||this.contentEl())},t.$$=function(e,t){return ut(e,t||this.contentEl())},t.hasClass=function(e){return T(this.el_,e)},t.addClass=function(e){k(this.el_,e)},t.removeClass=function(e){S(this.el_,e)},t.toggleClass=function(e,t){C(this.el_,e,t)},t.show=function(){this.removeClass("vjs-hidden")},t.hide=function(){this.addClass("vjs-hidden")},t.lockShowing=function(){this.addClass("vjs-lock-showing")},t.unlockShowing=function(){this.removeClass("vjs-lock-showing")},t.getAttribute=function(e){return A(this.el_,e)},t.setAttribute=function(e,t){I(this.el_,e,t)},t.removeAttribute=function(e){L(this.el_,e)},t.width=function(e,t){return this.dimension("width",e,t)},t.height=function(e,t){return this.dimension("height",e,t)},t.dimensions=function(e,t){this.width(e,!0),this.height(t)},t.dimension=function(e,t,n){if(void 0!==t)return null!==t&&t===t||(t=0),(""+t).indexOf("%")!==-1||(""+t).indexOf("px")!==-1?this.el_.style[e]=t:"auto"===t?this.el_.style[e]="":this.el_.style[e]=t+"px",void(n||this.trigger("componentresize"));if(!this.el_)return 0;var i=this.el_.style[e],a=i.indexOf("px");return a!==-1?parseInt(i.slice(0,a),10):parseInt(this.el_["offset"+Ut(e)],10)},t.currentDimension=function(e){var t=0;if("width"!==e&&"height"!==e)throw new Error("currentDimension only accepts width or height value");if(t=c(this.el_,e),t=parseFloat(t),0===t||isNaN(t)){var n="offset"+Ut(e);t=this.el_[n]}return t},t.currentDimensions=function(){return{width:this.currentDimension("width"),height:this.currentDimension("height")}},t.currentWidth=function(){return this.currentDimension("width")},t.currentHeight=function(){return this.currentDimension("height")},t.focus=function(){this.el_.focus()},t.blur=function(){this.el_.blur()},t.handleKeyDown=function(e){this.player_&&(e.stopPropagation(),this.player_.handleKeyDown(e))},t.handleKeyPress=function(e){this.handleKeyDown(e)},t.emitTapEvents=function(){var e,t=0,n=null,i=10,a=200;this.on("touchstart",function(i){1===i.touches.length&&(n={pageX:i.touches[0].pageX,pageY:i.touches[0].pageY},t=Fe.performance.now(),e=!0)}),this.on("touchmove",function(t){if(t.touches.length>1)e=!1;else if(n){var a=t.touches[0].pageX-n.pageX,r=t.touches[0].pageY-n.pageY,s=Math.sqrt(a*a+r*r);s>i&&(e=!1)}});var r=function(){e=!1};this.on("touchleave",r),this.on("touchcancel",r),this.on("touchend",function(i){if(n=null,e===!0){var r=Fe.performance.now()-t;r<a&&(i.preventDefault(),this.trigger("tap"))}})},t.enableTouchActivity=function(){if(this.player()&&this.player().reportUserActivity){var e,t=St(this.player(),this.player().reportUserActivity);this.on("touchstart",function(){t(),this.clearInterval(e),e=this.setInterval(t,250)});var n=function(n){t(),this.clearInterval(e)};this.on("touchmove",t),this.on("touchend",n),this.on("touchcancel",n)}},t.setTimeout=function(e,t){var n,i=this;return e=St(this,e),this.clearTimersOnDispose_(),n=Fe.setTimeout(function(){i.setTimeoutIds_.has(n)&&i.setTimeoutIds_.delete(n),e()},t),this.setTimeoutIds_.add(n),n},t.clearTimeout=function(e){return this.setTimeoutIds_.has(e)&&(this.setTimeoutIds_.delete(e),Fe.clearTimeout(e)),e},t.setInterval=function(e,t){e=St(this,e),this.clearTimersOnDispose_();var n=Fe.setInterval(e,t);return this.setIntervalIds_.add(n),n},t.clearInterval=function(e){return this.setIntervalIds_.has(e)&&(this.setIntervalIds_.delete(e),Fe.clearInterval(e)),e},t.requestAnimationFrame=function(e){var t=this;if(!this.supportsRaf_)return this.setTimeout(e,1e3/60);this.clearTimersOnDispose_();var n;return e=St(this,e),n=Fe.requestAnimationFrame(function(){t.rafIds_.has(n)&&t.rafIds_.delete(n),e()}),this.rafIds_.add(n),n},t.cancelAnimationFrame=function(e){return this.supportsRaf_?(this.rafIds_.has(e)&&(this.rafIds_.delete(e),Fe.cancelAnimationFrame(e)),e):this.clearTimeout(e)},t.clearTimersOnDispose_=function(){var e=this;this.clearingTimersOnDispose_||(this.clearingTimersOnDispose_=!0,this.one("dispose",function(){[["rafIds_","cancelAnimationFrame"],["setTimeoutIds_","clearTimeout"],["setIntervalIds_","clearInterval"]].forEach(function(t){var n=t[0],i=t[1];e[n].forEach(e[i],e)}),e.clearingTimersOnDispose_=!1}))},e.registerComponent=function(t,n){if("string"!=typeof t||!t)throw new Error('Illegal component name, "'+t+'"; must be a non-empty string.');var i=e.getComponent("Tech"),a=i&&i.isTech(n),r=e===n||e.prototype.isPrototypeOf(n.prototype);if(a||!r){var s;throw s=a?"techs must be registered using Tech.registerTech()":"must be a Component subclass",new Error('Illegal component, "'+t+'"; '+s+".")}t=Ut(t),e.components_||(e.components_={});var o=e.getComponent("Player");if("Player"===t&&o&&o.players){var l=o.players,u=Object.keys(l);if(l&&u.length>0&&u.map(function(e){return l[e]}).every(Boolean))throw new Error("Can not register Player component after player has been created.")}return e.components_[t]=n,e.components_[jt(t)]=n,n},e.getComponent=function(t){if(t&&e.components_)return e.components_[t]},e}();Ft.prototype.supportsRaf_="function"==typeof Fe.requestAnimationFrame&&"function"==typeof Fe.cancelAnimationFrame,
Ft.registerComponent("Component",Ft);for(var zt,Kt=Fe.navigator&&Fe.navigator.userAgent||"",Gt=/AppleWebKit\/([\d.]+)/i.exec(Kt),Vt=Gt?parseFloat(Gt.pop()):null,Wt=/iPad/i.test(Kt),qt=/iPhone/i.test(Kt)&&!Wt,$t=/iPod/i.test(Kt),Yt=qt||Wt||$t,Xt=function(){var e=Kt.match(/OS (\d+)_/i);return e&&e[1]?e[1]:null}(),Qt=/Android/i.test(Kt),Jt=function(){var e=Kt.match(/Android (\d+)(?:\.(\d+))?(?:\.(\d+))*/i);if(!e)return null;var t=e[1]&&parseFloat(e[1]),n=e[2]&&parseFloat(e[2]);return t&&n?parseFloat(e[1]+"."+e[2]):t?t:null}(),Zt=Qt&&Jt<5&&Vt<537,en=/Firefox/i.test(Kt),tn=/Edge/i.test(Kt),nn=!tn&&(/Chrome/i.test(Kt)||/CriOS/i.test(Kt)),an=function(){var e=Kt.match(/(Chrome|CriOS)\/(\d+)/);return e&&e[2]?parseFloat(e[2]):null}(),rn=function(){var e=/MSIE\s(\d+)\.\d/.exec(Kt),t=e&&parseFloat(e[1]);return!t&&/Trident\/7.0/i.test(Kt)&&/rv:11.0/.test(Kt)&&(t=11),t}(),sn=/Safari/i.test(Kt)&&!nn&&!Qt&&!tn,on=(sn||Yt)&&!nn,ln=/Windows/i.test(Kt),un=(p()&&("ontouchstart"in Fe||Fe.navigator.maxTouchPoints||Fe.DocumentTouch&&Fe.document instanceof Fe.DocumentTouch)),cn=Object.freeze({IS_IPAD:Wt,IS_IPHONE:qt,IS_IPOD:$t,IS_IOS:Yt,IOS_VERSION:Xt,IS_ANDROID:Qt,ANDROID_VERSION:Jt,IS_NATIVE_ANDROID:Zt,IS_FIREFOX:en,IS_EDGE:tn,IS_CHROME:nn,CHROME_VERSION:an,IE_VERSION:rn,IS_SAFARI:sn,IS_ANY_SAFARI:on,IS_WINDOWS:ln,TOUCH_ENABLED:un}),dn={prefixed:!0},hn=[["requestFullscreen","exitFullscreen","fullscreenElement","fullscreenEnabled","fullscreenchange","fullscreenerror","fullscreen"],["webkitRequestFullscreen","webkitExitFullscreen","webkitFullscreenElement","webkitFullscreenEnabled","webkitfullscreenchange","webkitfullscreenerror","-webkit-full-screen"],["mozRequestFullScreen","mozCancelFullScreen","mozFullScreenElement","mozFullScreenEnabled","mozfullscreenchange","mozfullscreenerror","-moz-full-screen"],["msRequestFullscreen","msExitFullscreen","msFullscreenElement","msFullscreenEnabled","MSFullscreenChange","MSFullscreenError","-ms-fullscreen"]],fn=hn[0],pn=0;pn<hn.length;pn++)if(hn[pn][1]in ze){zt=hn[pn];break}if(zt){for(var mn=0;mn<zt.length;mn++)dn[fn[mn]]=zt[mn];dn.prefixed=zt[0]!==fn[0]}de.prototype.code=0,de.prototype.message="",de.prototype.status=null,de.errorTypes=["MEDIA_ERR_CUSTOM","MEDIA_ERR_ABORTED","MEDIA_ERR_NETWORK","MEDIA_ERR_DECODE","MEDIA_ERR_SRC_NOT_SUPPORTED","MEDIA_ERR_ENCRYPTED"],de.defaultMessages={1:"You aborted the media playback",2:"A network error caused the media download to fail part-way.",3:"The media playback was aborted due to a corruption problem or because the media used features your browser did not support.",4:"The media could not be loaded, either because the server or network failed or because the format is not supported.",5:"The media is encrypted and we do not have the keys to decrypt it."};for(var gn=0;gn<de.errorTypes.length;gn++)de[de.errorTypes[gn]]=gn,de.prototype[de.errorTypes[gn]]=gn;var vn=function(e){var t=["kind","label","language","id","inBandMetadataTrackDispatchType","mode","src"].reduce(function(t,n,i){return e[n]&&(t[n]=e[n]),t},{cues:e.cues&&Array.prototype.map.call(e.cues,function(e){return{startTime:e.startTime,endTime:e.endTime,text:e.text,id:e.id}})});return t},yn=function(e){var t=e.$$("track"),n=Array.prototype.map.call(t,function(e){return e.track}),i=Array.prototype.map.call(t,function(e){var t=vn(e.track);return e.src&&(t.src=e.src),t});return i.concat(Array.prototype.filter.call(e.textTracks(),function(e){return n.indexOf(e)===-1}).map(vn))},_n=function(e,t){return e.forEach(function(e){var n=t.addRemoteTextTrack(e).track;!e.src&&e.cues&&e.cues.forEach(function(e){return n.addCue(e)})}),t.textTracks()},bn={textTracksToJson:yn,jsonToTextTracks:_n,trackToJson_:vn},Tn="vjs-modal-dialog",kn=function(e){function t(t,n){var i;return i=e.call(this,t,n)||this,i.opened_=i.hasBeenOpened_=i.hasBeenFilled_=!1,i.closeable(!i.options_.uncloseable),i.content(i.options_.content),i.contentEl_=y("div",{className:Tn+"-content"},{role:"document"}),i.descEl_=y("p",{className:Tn+"-description vjs-control-text",id:i.el().getAttribute("aria-describedby")}),_(i.descEl_,i.description()),i.el_.appendChild(i.descEl_),i.el_.appendChild(i.contentEl_),i}te(t,e);var n=t.prototype;return n.createEl=function(){return e.prototype.createEl.call(this,"div",{className:this.buildCSSClass(),tabIndex:-1},{"aria-describedby":this.id()+"_description","aria-hidden":"true","aria-label":this.label(),role:"dialog"})},n.dispose=function(){this.contentEl_=null,this.descEl_=null,this.previouslyActiveEl_=null,e.prototype.dispose.call(this)},n.buildCSSClass=function(){return Tn+" vjs-hidden "+e.prototype.buildCSSClass.call(this)},n.label=function(){return this.localize(this.options_.label||"Modal Window")},n.description=function(){var e=this.options_.description||this.localize("This is a modal window.");return this.closeable()&&(e+=" "+this.localize("This modal can be closed by pressing the Escape key or activating the close button.")),e},n.open=function(){if(!this.opened_){var e=this.player();this.trigger("beforemodalopen"),this.opened_=!0,(this.options_.fillAlways||!this.hasBeenOpened_&&!this.hasBeenFilled_)&&this.fill(),this.wasPlaying_=!e.paused(),this.options_.pauseOnOpen&&this.wasPlaying_&&e.pause(),this.on("keydown",this.handleKeyDown),this.hadControls_=e.controls(),e.controls(!1),this.show(),this.conditionalFocus_(),this.el().setAttribute("aria-hidden","false"),this.trigger("modalopen"),this.hasBeenOpened_=!0}},n.opened=function(e){return"boolean"==typeof e&&this[e?"open":"close"](),this.opened_},n.close=function(){if(this.opened_){var e=this.player();this.trigger("beforemodalclose"),this.opened_=!1,this.wasPlaying_&&this.options_.pauseOnOpen&&e.play(),this.off("keydown",this.handleKeyDown),this.hadControls_&&e.controls(!0),this.hide(),this.el().setAttribute("aria-hidden","true"),this.trigger("modalclose"),this.conditionalBlur_(),this.options_.temporary&&this.dispose()}},n.closeable=function e(t){if("boolean"==typeof t){var e=this.closeable_=!!t,n=this.getChild("closeButton");if(e&&!n){var i=this.contentEl_;this.contentEl_=this.el_,n=this.addChild("closeButton",{controlText:"Close Modal Dialog"}),this.contentEl_=i,this.on(n,"close",this.close)}!e&&n&&(this.off(n,"close",this.close),this.removeChild(n),n.dispose())}return this.closeable_},n.fill=function(){this.fillWith(this.content())},n.fillWith=function(e){var t=this.contentEl(),n=t.parentNode,i=t.nextSibling;this.trigger("beforemodalfill"),this.hasBeenFilled_=!0,n.removeChild(t),this.empty(),U(t,e),this.trigger("modalfill"),i?n.insertBefore(t,i):n.appendChild(t);var a=this.getChild("closeButton");a&&n.appendChild(a.el_)},n.empty=function(){this.trigger("beforemodalempty"),R(this.contentEl()),this.trigger("modalempty")},n.content=function(e){return"undefined"!=typeof e&&(this.content_=e),this.content_},n.conditionalFocus_=function(){var e=ze.activeElement,t=this.player_.el_;this.previouslyActiveEl_=null,(t.contains(e)||t===e)&&(this.previouslyActiveEl_=e,this.focus())},n.conditionalBlur_=function(){this.previouslyActiveEl_&&(this.previouslyActiveEl_.focus(),this.previouslyActiveEl_=null)},n.handleKeyDown=function(e){if(e.stopPropagation(),Ge.isEventKey(e,"Escape")&&this.closeable())return e.preventDefault(),void this.close();if(Ge.isEventKey(e,"Tab")){for(var t,n=this.focusableEls_(),i=this.el_.querySelector(":focus"),a=0;a<n.length;a++)if(i===n[a]){t=a;break}ze.activeElement===this.el_&&(t=0),e.shiftKey&&0===t?(n[n.length-1].focus(),e.preventDefault()):e.shiftKey||t!==n.length-1||(n[0].focus(),e.preventDefault())}},n.focusableEls_=function(){var e=this.el_.querySelectorAll("*");return Array.prototype.filter.call(e,function(e){return(e instanceof Fe.HTMLAnchorElement||e instanceof Fe.HTMLAreaElement)&&e.hasAttribute("href")||(e instanceof Fe.HTMLInputElement||e instanceof Fe.HTMLSelectElement||e instanceof Fe.HTMLTextAreaElement||e instanceof Fe.HTMLButtonElement)&&!e.hasAttribute("disabled")||e instanceof Fe.HTMLIFrameElement||e instanceof Fe.HTMLObjectElement||e instanceof Fe.HTMLEmbedElement||e.hasAttribute("tabindex")&&e.getAttribute("tabindex")!==-1||e.hasAttribute("contenteditable")})},t}(Ft);kn.prototype.options_={pauseOnOpen:!0,temporary:!0},Ft.registerComponent("ModalDialog",kn);var Sn=function(e){function t(t){var n;void 0===t&&(t=[]),n=e.call(this)||this,n.tracks_=[],Object.defineProperty(re(n),"length",{get:function(){return this.tracks_.length}});for(var i=0;i<t.length;i++)n.addTrack(t[i]);return n}te(t,e);var n=t.prototype;return n.addTrack=function(e){var t=this.tracks_.length;""+t in this||Object.defineProperty(this,t,{get:function(){return this.tracks_[t]}}),this.tracks_.indexOf(e)===-1&&(this.tracks_.push(e),this.trigger({track:e,type:"addtrack",target:this}))},n.removeTrack=function(e){for(var t,n=0,i=this.length;n<i;n++)if(this[n]===e){t=this[n],t.off&&t.off(),this.tracks_.splice(n,1);break}t&&this.trigger({track:t,type:"removetrack",target:this})},n.getTrackById=function(e){for(var t=null,n=0,i=this.length;n<i;n++){var a=this[n];if(a.id===e){t=a;break}}return t},t}(Et);Sn.prototype.allowedEvents_={change:"change",addtrack:"addtrack",removetrack:"removetrack"};for(var Cn in Sn.prototype.allowedEvents_)Sn.prototype["on"+Cn]=null;var wn=function(e,t){for(var n=0;n<e.length;n++)Object.keys(e[n]).length&&t.id!==e[n].id&&(e[n].enabled=!1)},En=function(e){function t(t){var n;void 0===t&&(t=[]);for(var i=t.length-1;i>=0;i--)if(t[i].enabled){wn(t,t[i]);break}return n=e.call(this,t)||this,n.changing_=!1,n}te(t,e);var n=t.prototype;return n.addTrack=function(t){var n=this;t.enabled&&wn(this,t),e.prototype.addTrack.call(this,t),t.addEventListener&&(t.enabledChange_=function(){n.changing_||(n.changing_=!0,wn(n,t),n.changing_=!1,n.trigger("change"))},t.addEventListener("enabledchange",t.enabledChange_))},n.removeTrack=function(t){e.prototype.removeTrack.call(this,t),t.removeEventListener&&t.enabledChange_&&(t.removeEventListener("enabledchange",t.enabledChange_),t.enabledChange_=null)},t}(Sn),An=function(e,t){for(var n=0;n<e.length;n++)Object.keys(e[n]).length&&t.id!==e[n].id&&(e[n].selected=!1)},In=function(e){function t(t){var n;void 0===t&&(t=[]);for(var i=t.length-1;i>=0;i--)if(t[i].selected){An(t,t[i]);break}return n=e.call(this,t)||this,n.changing_=!1,Object.defineProperty(re(n),"selectedIndex",{get:function(){for(var e=0;e<this.length;e++)if(this[e].selected)return e;return-1},set:function(){}}),n}te(t,e);var n=t.prototype;return n.addTrack=function(t){var n=this;t.selected&&An(this,t),e.prototype.addTrack.call(this,t),t.addEventListener&&(t.selectedChange_=function(){n.changing_||(n.changing_=!0,An(n,t),n.changing_=!1,n.trigger("change"))},t.addEventListener("selectedchange",t.selectedChange_))},n.removeTrack=function(t){e.prototype.removeTrack.call(this,t),t.removeEventListener&&t.selectedChange_&&(t.removeEventListener("selectedchange",t.selectedChange_),t.selectedChange_=null)},t}(Sn),Ln=function(e){function t(){return e.apply(this,arguments)||this}te(t,e);var n=t.prototype;return n.addTrack=function(t){var n=this;e.prototype.addTrack.call(this,t),this.queueChange_||(this.queueChange_=function(){return n.queueTrigger("change")}),this.triggerSelectedlanguagechange||(this.triggerSelectedlanguagechange_=function(){return n.trigger("selectedlanguagechange")}),t.addEventListener("modechange",this.queueChange_);var i=["metadata","chapters"];i.indexOf(t.kind)===-1&&t.addEventListener("modechange",this.triggerSelectedlanguagechange_)},n.removeTrack=function(t){e.prototype.removeTrack.call(this,t),t.removeEventListener&&(this.queueChange_&&t.removeEventListener("modechange",this.queueChange_),this.selectedlanguagechange_&&t.removeEventListener("modechange",this.triggerSelectedlanguagechange_))},t}(Sn),xn=function(){function e(e){void 0===e&&(e=[]),this.trackElements_=[],Object.defineProperty(this,"length",{get:function(){return this.trackElements_.length}});for(var t=0,n=e.length;t<n;t++)this.addTrackElement_(e[t])}var t=e.prototype;return t.addTrackElement_=function(e){var t=this.trackElements_.length;""+t in this||Object.defineProperty(this,t,{get:function(){return this.trackElements_[t]}}),this.trackElements_.indexOf(e)===-1&&this.trackElements_.push(e)},t.getTrackElementByTrack_=function(e){for(var t,n=0,i=this.trackElements_.length;n<i;n++)if(e===this.trackElements_[n].track){t=this.trackElements_[n];break}return t},t.removeTrackElement_=function(e){for(var t=0,n=this.trackElements_.length;t<n;t++)if(e===this.trackElements_[t]){this.trackElements_[t].track&&"function"==typeof this.trackElements_[t].track.off&&this.trackElements_[t].track.off(),"function"==typeof this.trackElements_[t].off&&this.trackElements_[t].off(),this.trackElements_.splice(t,1);break}},e}(),Pn=function(){function e(t){e.prototype.setCues_.call(this,t),Object.defineProperty(this,"length",{get:function(){return this.length_}})}var t=e.prototype;return t.setCues_=function(e){var t=this.length||0,n=0,i=e.length;this.cues_=e,this.length_=e.length;var a=function(e){""+e in this||Object.defineProperty(this,""+e,{get:function(){return this.cues_[e]}})};if(t<i)for(n=t;n<i;n++)a.call(this,n)},t.getCueById=function(e){for(var t=null,n=0,i=this.length;n<i;n++){var a=this[n];if(a.id===e){t=a;break}}return t},e}(),On={alternative:"alternative",captions:"captions",main:"main",sign:"sign",subtitles:"subtitles",commentary:"commentary"},Dn={alternative:"alternative",descriptions:"descriptions",main:"main","main-desc":"main-desc",translation:"translation",commentary:"commentary"},Nn={subtitles:"subtitles",captions:"captions",descriptions:"descriptions",chapters:"chapters",metadata:"metadata"},Mn={disabled:"disabled",hidden:"hidden",showing:"showing"},Rn=function(e){function t(t){var n;void 0===t&&(t={}),n=e.call(this)||this;var i={id:t.id||"vjs_track_"+K(),kind:t.kind||"",label:t.label||"",language:t.language||""},a=function(e){Object.defineProperty(re(n),e,{get:function(){return i[e]},set:function(){}})};for(var r in i)a(r);return n}return te(t,e),t}(Et),Bn=function(e){var t=["protocol","hostname","port","pathname","search","hash","host"],n=ze.createElement("a");n.href=e;var i,a=""===n.host&&"file:"!==n.protocol;a&&(i=ze.createElement("div"),i.innerHTML='<a href="'+e+'"></a>',n=i.firstChild,i.setAttribute("style","display:none; position:absolute;"),ze.body.appendChild(i));for(var r={},s=0;s<t.length;s++)r[t[s]]=n[t[s]];return"http:"===r.protocol&&(r.host=r.host.replace(/:80$/,"")),"https:"===r.protocol&&(r.host=r.host.replace(/:443$/,"")),r.protocol||(r.protocol=Fe.location.protocol),a&&ze.body.removeChild(i),r},jn=function(e){if(!e.match(/^https?:\/\//)){var t=ze.createElement("div");t.innerHTML='<a href="'+e+'">x</a>',e=t.firstChild.href}return e},Un=function(e){if("string"==typeof e){var t=/^(\/?)([\s\S]*?)((?:\.{1,2}|[^\/]+?)(\.([^\.\/\?]+)))(?:[\/]*|[\?].*)$/,n=t.exec(e);if(n)return n.pop().toLowerCase()}return""},Hn=function(e){var t=Fe.location,n=Bn(e),i=":"===n.protocol?t.protocol:n.protocol,a=i+n.host!==t.protocol+t.host;return a},Fn=Object.freeze({parseUrl:Bn,getAbsoluteURL:jn,getFileExtension:Un,isCrossOrigin:Hn}),zn=function(e,t){var n=new Fe.WebVTT.Parser(Fe,Fe.vttjs,Fe.WebVTT.StringDecoder()),i=[];n.oncue=function(e){t.addCue(e)},n.onparsingerror=function(e){i.push(e)},n.onflush=function(){t.trigger({type:"loadeddata",target:t})},n.parse(e),i.length>0&&(Fe.console&&Fe.console.groupCollapsed&&Fe.console.groupCollapsed("Text Track parsing errors for "+t.src),i.forEach(function(e){return at.error(e)}),Fe.console&&Fe.console.groupEnd&&Fe.console.groupEnd()),n.flush()},Kn=function(e,t){var n={uri:e},i=Hn(e);i&&(n.cors=i),Ve(n,St(this,function(e,n,i){return e?at.error(e,n):(t.loaded_=!0,void("function"!=typeof Fe.WebVTT?t.tech_&&t.tech_.any(["vttjsloaded","vttjserror"],function(e){return"vttjserror"===e.type?void at.error("vttjs failed to load, stopping trying to process "+t.src):zn(i,t)}):zn(i,t)))}))},Gn=function(e){function t(t){var n;if(void 0===t&&(t={}),!t.tech)throw new Error("A tech was not provided.");var i=ee(t,{kind:Nn[t.kind]||"subtitles",language:t.language||t.srclang||""}),a=Mn[i.mode]||"disabled",r=i.default;"metadata"!==i.kind&&"chapters"!==i.kind||(a="hidden"),n=e.call(this,i)||this,n.tech_=i.tech,n.cues_=[],n.activeCues_=[];var s=new Pn(n.cues_),o=new Pn(n.activeCues_),l=!1,u=St(re(n),function(){this.activeCues=this.activeCues,l&&(this.trigger("cuechange"),l=!1)});return"disabled"!==a&&n.tech_.ready(function(){n.tech_.on("timeupdate",u)},!0),Object.defineProperties(re(n),{default:{get:function(){return r},set:function(){}},mode:{get:function(){return a},set:function(e){var t=this;Mn[e]&&(a=e,"disabled"!==a?this.tech_.ready(function(){t.tech_.on("timeupdate",u)},!0):this.tech_.off("timeupdate",u),this.trigger("modechange"))}},cues:{get:function(){return this.loaded_?s:null},set:function(){}},activeCues:{get:function(){if(!this.loaded_)return null;if(0===this.cues.length)return o;for(var e=this.tech_.currentTime(),t=[],n=0,i=this.cues.length;n<i;n++){var a=this.cues[n];a.startTime<=e&&a.endTime>=e?t.push(a):a.startTime===a.endTime&&a.startTime<=e&&a.startTime+.5>=e&&t.push(a)}if(l=!1,t.length!==this.activeCues_.length)l=!0;else for(var r=0;r<t.length;r++)this.activeCues_.indexOf(t[r])===-1&&(l=!0);return this.activeCues_=t,o.setCues_(this.activeCues_),o},set:function(){}}}),i.src?(n.src=i.src,Kn(i.src,re(n))):n.loaded_=!0,n}te(t,e);var n=t.prototype;return n.addCue=function(e){var t=e;if(Fe.vttjs&&!(e instanceof Fe.vttjs.VTTCue)){t=new Fe.vttjs.VTTCue(e.startTime,e.endTime,e.text);for(var n in e)n in t||(t[n]=e[n]);t.id=e.id,t.originalCue_=e}for(var i=this.tech_.textTracks(),a=0;a<i.length;a++)i[a]!==this&&i[a].removeCue(t);this.cues_.push(t),this.cues.setCues_(this.cues_)},n.removeCue=function(e){for(var t=this.cues_.length;t--;){var n=this.cues_[t];if(n===e||n.originalCue_&&n.originalCue_===e){this.cues_.splice(t,1),this.cues.setCues_(this.cues_);break}}},t}(Rn);Gn.prototype.allowedEvents_={cuechange:"cuechange"};var Vn=function(e){function t(t){var n;void 0===t&&(t={});var i=ee(t,{kind:Dn[t.kind]||""});n=e.call(this,i)||this;var a=!1;return Object.defineProperty(re(n),"enabled",{get:function(){return a},set:function(e){"boolean"==typeof e&&e!==a&&(a=e,this.trigger("enabledchange"))}}),i.enabled&&(n.enabled=i.enabled),n.loaded_=!0,n}return te(t,e),t}(Rn),Wn=function(e){function t(t){var n;void 0===t&&(t={});var i=ee(t,{kind:On[t.kind]||""});n=e.call(this,i)||this;var a=!1;return Object.defineProperty(re(n),"selected",{get:function(){return a},set:function(e){"boolean"==typeof e&&e!==a&&(a=e,this.trigger("selectedchange"))}}),i.selected&&(n.selected=i.selected),n}return te(t,e),t}(Rn),qn=0,$n=1,Yn=2,Xn=3,Qn=function(e){function t(t){var n;void 0===t&&(t={}),n=e.call(this)||this;var i,a=new Gn(t);return n.kind=a.kind,n.src=a.src,n.srclang=a.language,n.label=a.label,n.default=a.default,Object.defineProperties(re(n),{readyState:{get:function(){return i}},track:{get:function(){return a}}}),i=qn,a.addEventListener("loadeddata",function(){i=Yn,n.trigger({type:"load",target:re(n)})}),n}return te(t,e),t}(Et);Qn.prototype.allowedEvents_={load:"load"},Qn.NONE=qn,Qn.LOADING=$n,Qn.LOADED=Yn,Qn.ERROR=Xn;var Jn={audio:{ListClass:En,TrackClass:Vn,capitalName:"Audio"},video:{ListClass:In,TrackClass:Wn,capitalName:"Video"},text:{ListClass:Ln,TrackClass:Gn,capitalName:"Text"}};Object.keys(Jn).forEach(function(e){Jn[e].getterName=e+"Tracks",Jn[e].privateName=e+"Tracks_"});var Zn={remoteText:{ListClass:Ln,TrackClass:Gn,capitalName:"RemoteText",getterName:"remoteTextTracks",privateName:"remoteTextTracks_"},remoteTextEl:{ListClass:xn,TrackClass:Qn,capitalName:"RemoteTextTrackEls",getterName:"remoteTextTrackEls",privateName:"remoteTextTrackEls_"}},ei=ee(Jn,Zn);Zn.names=Object.keys(Zn),Jn.names=Object.keys(Jn),ei.names=[].concat(Zn.names).concat(Jn.names);var ti=function(e){function t(t,n){var i;return void 0===t&&(t={}),void 0===n&&(n=function(){}),t.reportTouchActivity=!1,i=e.call(this,null,t,n)||this,i.hasStarted_=!1,i.on("playing",function(){this.hasStarted_=!0}),i.on("loadstart",function(){this.hasStarted_=!1}),ei.names.forEach(function(e){var n=ei[e];t&&t[n.getterName]&&(i[n.privateName]=t[n.getterName])}),i.featuresProgressEvents||i.manualProgressOn(),i.featuresTimeupdateEvents||i.manualTimeUpdatesOn(),["Text","Audio","Video"].forEach(function(e){t["native"+e+"Tracks"]===!1&&(i["featuresNative"+e+"Tracks"]=!1)}),t.nativeCaptions===!1||t.nativeTextTracks===!1?i.featuresNativeTextTracks=!1:t.nativeCaptions!==!0&&t.nativeTextTracks!==!0||(i.featuresNativeTextTracks=!0),i.featuresNativeTextTracks||i.emulateTextTracks(),i.autoRemoteTextTracks_=new ei.text.ListClass,i.initTrackListeners(),t.nativeControlsForTouch||i.emitTapEvents(),i.constructor&&(i.name_=i.constructor.name||"Unknown Tech"),i}te(t,e);var n=t.prototype;return n.triggerSourceset=function(e){var t=this;this.isReady_||this.one("ready",function(){return t.setTimeout(function(){return t.triggerSourceset(e)},1)}),this.trigger({src:e,type:"sourceset"})},n.manualProgressOn=function(){this.on("durationchange",this.onDurationChange),this.manualProgress=!0,this.one("ready",this.trackProgress)},n.manualProgressOff=function(){this.manualProgress=!1,this.stopTrackingProgress(),this.off("durationchange",this.onDurationChange)},n.trackProgress=function(e){this.stopTrackingProgress(),this.progressInterval=this.setInterval(St(this,function(){var e=this.bufferedPercent();this.bufferedPercent_!==e&&this.trigger("progress"),this.bufferedPercent_=e,1===e&&this.stopTrackingProgress()}),500)},n.onDurationChange=function(e){this.duration_=this.duration()},n.buffered=function(){return ue(0,0)},n.bufferedPercent=function(){return ce(this.buffered(),this.duration_)},n.stopTrackingProgress=function(){this.clearInterval(this.progressInterval)},n.manualTimeUpdatesOn=function(){this.manualTimeUpdates=!0,this.on("play",this.trackCurrentTime),this.on("pause",this.stopTrackingCurrentTime)},n.manualTimeUpdatesOff=function(){this.manualTimeUpdates=!1,this.stopTrackingCurrentTime(),this.off("play",this.trackCurrentTime),this.off("pause",this.stopTrackingCurrentTime)},n.trackCurrentTime=function(){this.currentTimeInterval&&this.stopTrackingCurrentTime(),this.currentTimeInterval=this.setInterval(function(){this.trigger({type:"timeupdate",target:this,manuallyTriggered:!0})},250)},n.stopTrackingCurrentTime=function(){this.clearInterval(this.currentTimeInterval),this.trigger({type:"timeupdate",target:this,manuallyTriggered:!0})},n.dispose=function(){this.clearTracks(Jn.names),this.manualProgress&&this.manualProgressOff(),this.manualTimeUpdates&&this.manualTimeUpdatesOff(),e.prototype.dispose.call(this)},n.clearTracks=function(e){var t=this;e=[].concat(e),e.forEach(function(e){for(var n=t[e+"Tracks"]()||[],i=n.length;i--;){var a=n[i];"text"===e&&t.removeRemoteTextTrack(a),n.removeTrack(a)}})},n.cleanupAutoTextTracks=function(){for(var e=this.autoRemoteTextTracks_||[],t=e.length;t--;){var n=e[t];this.removeRemoteTextTrack(n)}},n.reset=function(){},n.error=function(e){return void 0!==e&&(this.error_=new de(e),this.trigger("error")),this.error_},n.played=function(){return this.hasStarted_?ue(0,0):ue()},n.setCurrentTime=function(){this.manualTimeUpdates&&this.trigger({type:"timeupdate",target:this,manuallyTriggered:!0})},n.initTrackListeners=function(){var e=this;Jn.names.forEach(function(t){var n=Jn[t],i=function(){e.trigger(t+"trackchange")},a=e[n.getterName]();a.addEventListener("removetrack",i),a.addEventListener("addtrack",i),e.on("dispose",function(){a.removeEventListener("removetrack",i),a.removeEventListener("addtrack",i)})})},n.addWebVttScript_=function(){var e=this;if(!Fe.WebVTT)if(ze.body.contains(this.el())){if(!this.options_["vtt.js"]&&u(We)&&Object.keys(We).length>0)return void this.trigger("vttjsloaded");var t=ze.createElement("script");t.src=this.options_["vtt.js"]||"https://vjs.zencdn.net/vttjs/0.14.1/vtt.min.js",t.onload=function(){e.trigger("vttjsloaded")},t.onerror=function(){e.trigger("vttjserror")},this.on("dispose",function(){t.onload=null,t.onerror=null}),Fe.WebVTT=!0,this.el().parentNode.appendChild(t)}else this.ready(this.addWebVttScript_)},n.emulateTextTracks=function(){var e=this,t=this.textTracks(),n=this.remoteTextTracks(),i=function(e){return t.addTrack(e.track)},a=function(e){return t.removeTrack(e.track)};n.on("addtrack",i),n.on("removetrack",a),this.addWebVttScript_();var r=function(){return e.trigger("texttrackchange")},s=function(){r();for(var e=0;e<t.length;e++){var n=t[e];n.removeEventListener("cuechange",r),"showing"===n.mode&&n.addEventListener("cuechange",r)}};s(),t.addEventListener("change",s),t.addEventListener("addtrack",s),t.addEventListener("removetrack",s),this.on("dispose",function(){n.off("addtrack",i),n.off("removetrack",a),t.removeEventListener("change",s),t.removeEventListener("addtrack",s),t.removeEventListener("removetrack",s);for(var e=0;e<t.length;e++){var o=t[e];o.removeEventListener("cuechange",r)}})},n.addTextTrack=function(e,t,n){if(!e)throw new Error("TextTrack kind is required but was not provided");return pe(this,e,t,n)},n.createRemoteTextTrack=function(e){var t=ee(e,{tech:this});return new Zn.remoteTextEl.TrackClass(t)},n.addRemoteTextTrack=function(e,t){var n=this;void 0===e&&(e={});var i=this.createRemoteTextTrack(e);return t!==!0&&t!==!1&&(at.warn('Calling addRemoteTextTrack without explicitly setting the "manualCleanup" parameter to `true` is deprecated and default to `false` in future version of video.js'),t=!0),this.remoteTextTrackEls().addTrackElement_(i),this.remoteTextTracks().addTrack(i.track),t!==!0&&this.ready(function(){return n.autoRemoteTextTracks_.addTrack(i.track)}),i},n.removeRemoteTextTrack=function(e){var t=this.remoteTextTrackEls().getTrackElementByTrack_(e);this.remoteTextTrackEls().removeTrackElement_(t),this.remoteTextTracks().removeTrack(e),this.autoRemoteTextTracks_.removeTrack(e)},n.getVideoPlaybackQuality=function(){return{}},n.requestPictureInPicture=function(){var e=this.options_.Promise||Fe.Promise;if(e)return e.reject()},n.setPoster=function(){},n.playsinline=function(){},n.setPlaysinline=function(){},n.overrideNativeAudioTracks=function(){},n.overrideNativeVideoTracks=function(){},n.canPlayType=function(){return""},t.canPlayType=function(){return""},t.canPlaySource=function(e,n){return t.canPlayType(e.type)},t.isTech=function(e){return e.prototype instanceof t||e instanceof t||e===t},t.registerTech=function(e,n){if(t.techs_||(t.techs_={}),!t.isTech(n))throw new Error("Tech "+e+" must be a Tech");if(!t.canPlayType)throw new Error("Techs must have a static canPlayType method on them");if(!t.canPlaySource)throw new Error("Techs must have a static canPlaySource method on them");return e=Ut(e),t.techs_[e]=n,t.techs_[jt(e)]=n,"Tech"!==e&&t.defaultTechOrder_.push(e),n},t.getTech=function(e){if(e)return t.techs_&&t.techs_[e]?t.techs_[e]:(e=Ut(e),Fe&&Fe.videojs&&Fe.videojs[e]?(at.warn("The "+e+" tech was added to the videojs object when it should be registered using videojs.registerTech(name, tech)"),Fe.videojs[e]):void 0)},t}(Ft);ei.names.forEach(function(e){var t=ei[e];ti.prototype[t.getterName]=function(){return this[t.privateName]=this[t.privateName]||new t.ListClass,this[t.privateName]}}),ti.prototype.featuresVolumeControl=!0,ti.prototype.featuresMuteControl=!0,ti.prototype.featuresFullscreenResize=!1,ti.prototype.featuresPlaybackRate=!1,ti.prototype.featuresProgressEvents=!1,ti.prototype.featuresSourceset=!1,ti.prototype.featuresTimeupdateEvents=!1,ti.prototype.featuresNativeTextTracks=!1,ti.withSourceHandlers=function(e){e.registerSourceHandler=function(t,n){var i=e.sourceHandlers;i||(i=e.sourceHandlers=[]),void 0===n&&(n=i.length),i.splice(n,0,t)},e.canPlayType=function(t){for(var n,i=e.sourceHandlers||[],a=0;a<i.length;a++)if(n=i[a].canPlayType(t))return n;return""},e.selectSourceHandler=function(t,n){for(var i,a=e.sourceHandlers||[],r=0;r<a.length;r++)if(i=a[r].canHandleSource(t,n))return a[r];return null},e.canPlaySource=function(t,n){var i=e.selectSourceHandler(t,n);return i?i.canHandleSource(t,n):""};var t=["seekable","seeking","duration"];t.forEach(function(e){var t=this[e];"function"==typeof t&&(this[e]=function(){return this.sourceHandler_&&this.sourceHandler_[e]?this.sourceHandler_[e].apply(this.sourceHandler_,arguments):t.apply(this,arguments)})},e.prototype),e.prototype.setSource=function(t){var n=e.selectSourceHandler(t,this.options_);n||(e.nativeSourceHandler?n=e.nativeSourceHandler:at.error("No source handler found for the current source.")),this.disposeSourceHandler(),this.off("dispose",this.disposeSourceHandler),n!==e.nativeSourceHandler&&(this.currentSource_=t),this.sourceHandler_=n.handleSource(t,this,this.options_),this.one("dispose",this.disposeSourceHandler)},e.prototype.disposeSourceHandler=function(){this.currentSource_&&(this.clearTracks(["audio","video"]),this.currentSource_=null),this.cleanupAutoTextTracks(),this.sourceHandler_&&(this.sourceHandler_.dispose&&this.sourceHandler_.dispose(),this.sourceHandler_=null)}},Ft.registerComponent("Tech",ti),ti.registerTech("Tech",ti),ti.defaultTechOrder_=[];var ni={},ii={},ai={},ri={buffered:1,currentTime:1,duration:1,seekable:1,played:1,paused:1,volume:1},si={setCurrentTime:1,setVolume:1},oi={play:1,pause:1},li={opus:"video/ogg",ogv:"video/ogg",mp4:"video/mp4",mov:"video/mp4",m4v:"video/mp4",mkv:"video/x-matroska",m4a:"audio/mp4",mp3:"audio/mpeg",aac:"audio/aac",oga:"audio/ogg",m3u8:"application/x-mpegURL",jpg:"image/jpeg",jpeg:"image/jpeg",gif:"image/gif",png:"image/png",svg:"image/svg+xml",webp:"image/webp"},ui=function(e){void 0===e&&(e="");var t=Un(e),n=li[t.toLowerCase()];return n||""},ci=function(e,t){if(!t)return"";if(e.cache_.source.src===t&&e.cache_.source.type)return e.cache_.source.type;var n=e.cache_.sources.filter(function(e){return e.src===t});if(n.length)return n[0].type;for(var i=e.$$("source"),a=0;a<i.length;a++){var r=i[a];if(r.type&&r.src&&r.src===t)return r.type}return ui(t)},di=function e(t){if(Array.isArray(t)){var n=[];t.forEach(function(t){t=e(t),Array.isArray(t)?n=n.concat(t):l(t)&&n.push(t)}),t=n}else t="string"==typeof t&&t.trim()?[Ee({src:t})]:l(t)&&"string"==typeof t.src&&t.src&&t.src.trim()?[Ee(t)]:[];return t},hi=function(e){function t(t,n,i){var a,r=ee({createEl:!1},n);if(a=e.call(this,t,r,i)||this,n.playerOptions.sources&&0!==n.playerOptions.sources.length)t.src(n.playerOptions.sources);else for(var s=0,o=n.playerOptions.techOrder;s<o.length;s++){var l=Ut(o[s]),u=ti.getTech(l);if(l||(u=Ft.getComponent(l)),u&&u.isSupported()){t.loadTech_(l);break}}return a}return te(t,e),t}(Ft);Ft.registerComponent("MediaLoader",hi);var fi=function(e){function t(t,n){var i;return i=e.call(this,t,n)||this,i.emitTapEvents(),i.enable(),i}te(t,e);var n=t.prototype;return n.createEl=function(t,n,i){void 0===t&&(t="div"),void 0===n&&(n={}),void 0===i&&(i={}),n=o({innerHTML:'<span aria-hidden="true" class="vjs-icon-placeholder"></span>',className:this.buildCSSClass(),tabIndex:0},n),"button"===t&&at.error("Creating a ClickableComponent with an HTML element of "+t+" is not supported; use a Button instead."),i=o({role:"button"},i),this.tabIndex_=n.tabIndex;var a=e.prototype.createEl.call(this,t,n,i);return this.createControlTextEl(a),a},n.dispose=function(){this.controlTextEl_=null,e.prototype.dispose.call(this)},n.createControlTextEl=function(e){return this.controlTextEl_=y("span",{className:"vjs-control-text"},{"aria-live":"polite"}),e&&e.appendChild(this.controlTextEl_),this.controlText(this.controlText_,e),this.controlTextEl_},n.controlText=function(e,t){if(void 0===t&&(t=this.el()),void 0===e)return this.controlText_||"Need Text";var n=this.localize(e);this.controlText_=e,_(this.controlTextEl_,n),this.nonIconControl||t.setAttribute("title",n)},n.buildCSSClass=function(){return"vjs-control vjs-button "+e.prototype.buildCSSClass.call(this)},n.enable=function(){this.enabled_||(this.enabled_=!0,this.removeClass("vjs-disabled"),this.el_.setAttribute("aria-disabled","false"),"undefined"!=typeof this.tabIndex_&&this.el_.setAttribute("tabIndex",this.tabIndex_),this.on(["tap","click"],this.handleClick),
this.on("keydown",this.handleKeyDown))},n.disable=function(){this.enabled_=!1,this.addClass("vjs-disabled"),this.el_.setAttribute("aria-disabled","true"),"undefined"!=typeof this.tabIndex_&&this.el_.removeAttribute("tabIndex"),this.off("mouseover",this.handleMouseOver),this.off("mouseout",this.handleMouseOut),this.off(["tap","click"],this.handleClick),this.off("keydown",this.handleKeyDown)},n.handleClick=function(e){},n.handleKeyDown=function(t){Ge.isEventKey(t,"Space")||Ge.isEventKey(t,"Enter")?(t.preventDefault(),t.stopPropagation(),this.trigger("click")):e.prototype.handleKeyDown.call(this,t)},t}(Ft);Ft.registerComponent("ClickableComponent",fi);var pi=function(e){function t(t,n){var i;return i=e.call(this,t,n)||this,i.update(),t.on("posterchange",St(re(i),i.update)),i}te(t,e);var n=t.prototype;return n.dispose=function(){this.player().off("posterchange",this.update),e.prototype.dispose.call(this)},n.createEl=function(){var e=y("div",{className:"vjs-poster",tabIndex:-1});return e},n.update=function(e){var t=this.player().poster();this.setSrc(t),t?this.show():this.hide()},n.setSrc=function(e){var t="";e&&(t='url("'+e+'")'),this.el_.style.backgroundImage=t},n.handleClick=function(e){this.player_.controls()&&(this.player_.tech(!0)&&this.player_.tech(!0).focus(),this.player_.paused()?fe(this.player_.play()):this.player_.pause())},t}(fi);Ft.registerComponent("PosterImage",pi);var mi="#222",gi="#ccc",vi={monospace:"monospace",sansSerif:"sans-serif",serif:"serif",monospaceSansSerif:'"Andale Mono", "Lucida Console", monospace',monospaceSerif:'"Courier New", monospace',proportionalSansSerif:"sans-serif",proportionalSerif:"serif",casual:'"Comic Sans MS", Impact, fantasy',script:'"Monotype Corsiva", cursive',smallcaps:'"Andale Mono", "Lucida Console", monospace, sans-serif'},yi=function(e){function t(t,n,i){var a;a=e.call(this,t,n,i)||this;var r=St(re(a),a.updateDisplay);return t.on("loadstart",St(re(a),a.toggleDisplay)),t.on("texttrackchange",r),t.on("loadedmetadata",St(re(a),a.preselectTrack)),t.ready(St(re(a),function(){if(t.tech_&&t.tech_.featuresNativeTextTracks)return void this.hide();t.on("fullscreenchange",r),t.on("playerresize",r),Fe.addEventListener("orientationchange",r),t.on("dispose",function(){return Fe.removeEventListener("orientationchange",r)});for(var e=this.options_.playerOptions.tracks||[],n=0;n<e.length;n++)this.player_.addRemoteTextTrack(e[n],!0);this.preselectTrack()})),a}te(t,e);var n=t.prototype;return n.preselectTrack=function(){for(var e,t,n,i={captions:1,subtitles:1},a=this.player_.textTracks(),r=this.player_.cache_.selectedLanguage,s=0;s<a.length;s++){var o=a[s];r&&r.enabled&&r.language&&r.language===o.language&&o.kind in i?o.kind===r.kind?n=o:n||(n=o):r&&!r.enabled?(n=null,e=null,t=null):o.default&&("descriptions"!==o.kind||e?o.kind in i&&!t&&(t=o):e=o)}n?n.mode="showing":t?t.mode="showing":e&&(e.mode="showing")},n.toggleDisplay=function(){this.player_.tech_&&this.player_.tech_.featuresNativeTextTracks?this.hide():this.show()},n.createEl=function(){return e.prototype.createEl.call(this,"div",{className:"vjs-text-track-display"},{"aria-live":"off","aria-atomic":"true"})},n.clearDisplay=function(){"function"==typeof Fe.WebVTT&&Fe.WebVTT.processCues(Fe,[],this.el_)},n.updateDisplay=function(){var e=this.player_.textTracks(),t=this.options_.allowMultipleShowingTracks;if(this.clearDisplay(),t){for(var n=[],i=0;i<e.length;++i){var a=e[i];"showing"===a.mode&&n.push(a)}return void this.updateForTrack(n)}for(var r=null,s=null,o=e.length;o--;){var l=e[o];"showing"===l.mode&&("descriptions"===l.kind?r=l:s=l)}s?("off"!==this.getAttribute("aria-live")&&this.setAttribute("aria-live","off"),this.updateForTrack(s)):r&&("assertive"!==this.getAttribute("aria-live")&&this.setAttribute("aria-live","assertive"),this.updateForTrack(r))},n.updateDisplayState=function(e){for(var t=this.player_.textTrackSettings.getValues(),n=e.activeCues,i=n.length;i--;){var a=n[i];if(a){var r=a.displayState;if(t.color&&(r.firstChild.style.color=t.color),t.textOpacity&&Ie(r.firstChild,"color",Ae(t.color||"#fff",t.textOpacity)),t.backgroundColor&&(r.firstChild.style.backgroundColor=t.backgroundColor),t.backgroundOpacity&&Ie(r.firstChild,"backgroundColor",Ae(t.backgroundColor||"#000",t.backgroundOpacity)),t.windowColor&&(t.windowOpacity?Ie(r,"backgroundColor",Ae(t.windowColor,t.windowOpacity)):r.style.backgroundColor=t.windowColor),t.edgeStyle&&("dropshadow"===t.edgeStyle?r.firstChild.style.textShadow="2px 2px 3px "+mi+", 2px 2px 4px "+mi+", 2px 2px 5px "+mi:"raised"===t.edgeStyle?r.firstChild.style.textShadow="1px 1px "+mi+", 2px 2px "+mi+", 3px 3px "+mi:"depressed"===t.edgeStyle?r.firstChild.style.textShadow="1px 1px "+gi+", 0 1px "+gi+", -1px -1px "+mi+", 0 -1px "+mi:"uniform"===t.edgeStyle&&(r.firstChild.style.textShadow="0 0 4px "+mi+", 0 0 4px "+mi+", 0 0 4px "+mi+", 0 0 4px "+mi)),t.fontPercent&&1!==t.fontPercent){var s=Fe.parseFloat(r.style.fontSize);r.style.fontSize=s*t.fontPercent+"px",r.style.height="auto",r.style.top="auto",r.style.bottom="2px"}t.fontFamily&&"default"!==t.fontFamily&&("small-caps"===t.fontFamily?r.firstChild.style.fontVariant="small-caps":r.firstChild.style.fontFamily=vi[t.fontFamily])}}},n.updateForTrack=function(e){if(Array.isArray(e)||(e=[e]),"function"==typeof Fe.WebVTT&&!e.every(function(e){return!e.activeCues})){for(var t=[],n=0;n<e.length;++n)for(var i=e[n],a=0;a<i.activeCues.length;++a)t.push(i.activeCues[a]);Fe.WebVTT.processCues(Fe,t,this.el_);for(var r=0;r<e.length;++r){for(var s=e[r],o=0;o<s.activeCues.length;++o){var l=s.activeCues[o].displayState;k(l,"vjs-text-track-cue"),k(l,"vjs-text-track-cue-"+(s.language?s.language:r))}this.player_.textTrackSettings&&this.updateDisplayState(s)}}},t}(Ft);Ft.registerComponent("TextTrackDisplay",yi);var _i=function(e){function t(){return e.apply(this,arguments)||this}te(t,e);var n=t.prototype;return n.createEl=function(){var t=this.player_.isAudio(),n=this.localize(t?"Audio Player":"Video Player"),i=y("span",{className:"vjs-control-text",innerHTML:this.localize("{1} is loading.",[n])}),a=e.prototype.createEl.call(this,"div",{className:"vjs-loading-spinner",dir:"ltr"});return a.appendChild(i),a},t}(Ft);Ft.registerComponent("LoadingSpinner",_i);var bi=function(e){function t(){return e.apply(this,arguments)||this}te(t,e);var n=t.prototype;return n.createEl=function(e,t,n){void 0===t&&(t={}),void 0===n&&(n={}),e="button",t=o({innerHTML:'<span aria-hidden="true" class="vjs-icon-placeholder"></span>',className:this.buildCSSClass()},t),n=o({type:"button"},n);var i=Ft.prototype.createEl.call(this,e,t,n);return this.createControlTextEl(i),i},n.addChild=function(e,t){void 0===t&&(t={});var n=this.constructor.name;return at.warn("Adding an actionable (user controllable) child to a Button ("+n+") is not supported; use a ClickableComponent instead."),Ft.prototype.addChild.call(this,e,t)},n.enable=function(){e.prototype.enable.call(this),this.el_.removeAttribute("disabled")},n.disable=function(){e.prototype.disable.call(this),this.el_.setAttribute("disabled","disabled")},n.handleKeyDown=function(t){return Ge.isEventKey(t,"Space")||Ge.isEventKey(t,"Enter")?void t.stopPropagation():void e.prototype.handleKeyDown.call(this,t)},t}(fi);Ft.registerComponent("Button",bi);var Ti=function(e){function t(t,n){var i;return i=e.call(this,t,n)||this,i.mouseused_=!1,i.on("mousedown",i.handleMouseDown),i}te(t,e);var n=t.prototype;return n.buildCSSClass=function(){return"vjs-big-play-button"},n.handleClick=function(e){var t=this.player_.play();if(this.mouseused_&&e.clientX&&e.clientY)return fe(t),void(this.player_.tech(!0)&&this.player_.tech(!0).focus());var n=this.player_.getChild("controlBar"),i=n&&n.getChild("playToggle");if(!i)return void this.player_.tech(!0).focus();var a=function(){return i.focus()};he(t)?t.then(a,function(){}):this.setTimeout(a,1)},n.handleKeyDown=function(t){this.mouseused_=!1,e.prototype.handleKeyDown.call(this,t)},n.handleMouseDown=function(e){this.mouseused_=!0},t}(bi);Ti.prototype.controlText_="Play Video",Ft.registerComponent("BigPlayButton",Ti);var ki=function(e){function t(t,n){var i;return i=e.call(this,t,n)||this,i.controlText(n&&n.controlText||i.localize("Close")),i}te(t,e);var n=t.prototype;return n.buildCSSClass=function(){return"vjs-close-button "+e.prototype.buildCSSClass.call(this)},n.handleClick=function(e){this.trigger({type:"close",bubbles:!1})},n.handleKeyDown=function(t){Ge.isEventKey(t,"Esc")?(t.preventDefault(),t.stopPropagation(),this.trigger("click")):e.prototype.handleKeyDown.call(this,t)},t}(bi);Ft.registerComponent("CloseButton",ki);var Si=function(e){function t(t,n){var i;return void 0===n&&(n={}),i=e.call(this,t,n)||this,n.replay=void 0===n.replay||n.replay,i.on(t,"play",i.handlePlay),i.on(t,"pause",i.handlePause),n.replay&&i.on(t,"ended",i.handleEnded),i}te(t,e);var n=t.prototype;return n.buildCSSClass=function(){return"vjs-play-control "+e.prototype.buildCSSClass.call(this)},n.handleClick=function(e){this.player_.paused()?this.player_.play():this.player_.pause()},n.handleSeeked=function(e){this.removeClass("vjs-ended"),this.player_.paused()?this.handlePause(e):this.handlePlay(e)},n.handlePlay=function(e){this.removeClass("vjs-ended"),this.removeClass("vjs-paused"),this.addClass("vjs-playing"),this.controlText("Pause")},n.handlePause=function(e){this.removeClass("vjs-playing"),this.addClass("vjs-paused"),this.controlText("Play")},n.handleEnded=function(e){this.removeClass("vjs-playing"),this.addClass("vjs-ended"),this.controlText("Replay"),this.one(this.player_,"seeked",this.handleSeeked)},t}(bi);Si.prototype.controlText_="Play",Ft.registerComponent("PlayToggle",Si);var Ci=function(e,t){e=e<0?0:e;var n=Math.floor(e%60),i=Math.floor(e/60%60),a=Math.floor(e/3600),r=Math.floor(t/60%60),s=Math.floor(t/3600);return(isNaN(e)||e===1/0)&&(a=i=n="-"),a=a>0||s>0?a+":":"",i=((a||r>=10)&&i<10?"0"+i:i)+":",n=n<10?"0"+n:n,a+i+n},wi=Ci,Ei=function(e){function t(t,n){var i;return i=e.call(this,t,n)||this,i.throttledUpdateContent=Ct(St(re(i),i.updateContent),kt),i.on(t,"timeupdate",i.throttledUpdateContent),i}te(t,e);var n=t.prototype;return n.createEl=function(){var t=this.buildCSSClass(),n=e.prototype.createEl.call(this,"div",{className:t+" vjs-time-control vjs-control",innerHTML:'<span class="vjs-control-text" role="presentation">'+this.localize(this.labelText_)+" </span>"});return this.contentEl_=y("span",{className:t+"-display"},{"aria-live":"off",role:"presentation"}),this.updateTextNode_(),n.appendChild(this.contentEl_),n},n.dispose=function(){this.contentEl_=null,this.textNode_=null,e.prototype.dispose.call(this)},n.updateTextNode_=function(){if(this.contentEl_){for(;this.contentEl_.firstChild;)this.contentEl_.removeChild(this.contentEl_.firstChild);this.textNode_=ze.createTextNode(this.formattedTime_||this.formatTime_(0)),this.contentEl_.appendChild(this.textNode_)}},n.formatTime_=function(e){return Pe(e)},n.updateFormattedTime_=function(e){var t=this.formatTime_(e);t!==this.formattedTime_&&(this.formattedTime_=t,this.requestAnimationFrame(this.updateTextNode_))},n.updateContent=function(e){},t}(Ft);Ei.prototype.labelText_="Time",Ei.prototype.controlText_="Time",Ft.registerComponent("TimeDisplay",Ei);var Ai=function(e){function t(t,n){var i;return i=e.call(this,t,n)||this,i.on(t,"ended",i.handleEnded),i}te(t,e);var n=t.prototype;return n.buildCSSClass=function(){return"vjs-current-time"},n.updateContent=function(e){var t=this.player_.scrubbing()?this.player_.getCache().currentTime:this.player_.currentTime();this.updateFormattedTime_(t)},n.handleEnded=function(e){this.player_.duration()&&this.updateFormattedTime_(this.player_.duration())},t}(Ei);Ai.prototype.labelText_="Current Time",Ai.prototype.controlText_="Current Time",Ft.registerComponent("CurrentTimeDisplay",Ai);var Ii=function(e){function t(t,n){var i;return i=e.call(this,t,n)||this,i.on(t,"durationchange",i.updateContent),i.on(t,"loadstart",i.updateContent),i.on(t,"loadedmetadata",i.throttledUpdateContent),i}te(t,e);var n=t.prototype;return n.buildCSSClass=function(){return"vjs-duration"},n.updateContent=function(e){var t=this.player_.duration();this.duration_!==t&&(this.duration_=t,this.updateFormattedTime_(t))},t}(Ei);Ii.prototype.labelText_="Duration",Ii.prototype.controlText_="Duration",Ft.registerComponent("DurationDisplay",Ii);var Li=function(e){function t(){return e.apply(this,arguments)||this}te(t,e);var n=t.prototype;return n.createEl=function(){return e.prototype.createEl.call(this,"div",{className:"vjs-time-control vjs-time-divider",innerHTML:"<div><span>/</span></div>"},{"aria-hidden":!0})},t}(Ft);Ft.registerComponent("TimeDivider",Li);var xi=function(e){function t(t,n){var i;return i=e.call(this,t,n)||this,i.on(t,"durationchange",i.throttledUpdateContent),i.on(t,"ended",i.handleEnded),i}te(t,e);var n=t.prototype;return n.buildCSSClass=function(){return"vjs-remaining-time"},n.createEl=function(){var t=e.prototype.createEl.call(this);return t.insertBefore(y("span",{},{"aria-hidden":!0},"-"),this.contentEl_),t},n.updateContent=function(e){"number"==typeof this.player_.duration()&&(this.player_.remainingTimeDisplay?this.updateFormattedTime_(this.player_.remainingTimeDisplay()):this.updateFormattedTime_(this.player_.remainingTime()))},n.handleEnded=function(e){this.player_.duration()&&this.updateFormattedTime_(0)},t}(Ei);xi.prototype.labelText_="Remaining Time",xi.prototype.controlText_="Remaining Time",Ft.registerComponent("RemainingTimeDisplay",xi);var Pi=function(e){function t(t,n){var i;return i=e.call(this,t,n)||this,i.updateShowing(),i.on(i.player(),"durationchange",i.updateShowing),i}te(t,e);var n=t.prototype;return n.createEl=function(){var t=e.prototype.createEl.call(this,"div",{className:"vjs-live-control vjs-control"});return this.contentEl_=y("div",{className:"vjs-live-display",innerHTML:'<span class="vjs-control-text">'+this.localize("Stream Type")+" </span>"+this.localize("LIVE")},{"aria-live":"off"}),t.appendChild(this.contentEl_),t},n.dispose=function(){this.contentEl_=null,e.prototype.dispose.call(this)},n.updateShowing=function(e){this.player().duration()===1/0?this.show():this.hide()},t}(Ft);Ft.registerComponent("LiveDisplay",Pi);var Oi=function(e){function t(t,n){var i;return i=e.call(this,t,n)||this,i.updateLiveEdgeStatus(),i.player_.liveTracker&&i.on(i.player_.liveTracker,"liveedgechange",i.updateLiveEdgeStatus),i}te(t,e);var n=t.prototype;return n.createEl=function(){var t=e.prototype.createEl.call(this,"button",{className:"vjs-seek-to-live-control vjs-control"});return this.textEl_=y("span",{className:"vjs-seek-to-live-text",innerHTML:this.localize("LIVE")},{"aria-hidden":"true"}),t.appendChild(this.textEl_),t},n.updateLiveEdgeStatus=function(e){!this.player_.liveTracker||this.player_.liveTracker.atLiveEdge()?(this.setAttribute("aria-disabled",!0),this.addClass("vjs-at-live-edge"),this.controlText("Seek to live, currently playing live")):(this.setAttribute("aria-disabled",!1),this.removeClass("vjs-at-live-edge"),this.controlText("Seek to live, currently behind live"))},n.handleClick=function(){this.player_.liveTracker.seekToLiveEdge()},n.dispose=function(){this.player_.liveTracker&&this.off(this.player_.liveTracker,"liveedgechange",this.updateLiveEdgeStatus),this.textEl_=null,e.prototype.dispose.call(this)},t}(bi);Oi.prototype.controlText_="Seek to live, currently playing live",Ft.registerComponent("SeekToLive",Oi);var Di=function(e){function t(t,n){var i;return i=e.call(this,t,n)||this,i.bar=i.getChild(i.options_.barName),i.vertical(!!i.options_.vertical),i.enable(),i}te(t,e);var n=t.prototype;return n.enabled=function(){return this.enabled_},n.enable=function(){this.enabled()||(this.on("mousedown",this.handleMouseDown),this.on("touchstart",this.handleMouseDown),this.on("keydown",this.handleKeyDown),this.on("click",this.handleClick),this.on(this.player_,"controlsvisible",this.update),this.playerEvent&&this.on(this.player_,this.playerEvent,this.update),this.removeClass("disabled"),this.setAttribute("tabindex",0),this.enabled_=!0)},n.disable=function(){if(this.enabled()){var e=this.bar.el_.ownerDocument;this.off("mousedown",this.handleMouseDown),this.off("touchstart",this.handleMouseDown),this.off("keydown",this.handleKeyDown),this.off("click",this.handleClick),this.off(this.player_,"controlsvisible",this.update),this.off(e,"mousemove",this.handleMouseMove),this.off(e,"mouseup",this.handleMouseUp),this.off(e,"touchmove",this.handleMouseMove),this.off(e,"touchend",this.handleMouseUp),this.removeAttribute("tabindex"),this.addClass("disabled"),this.playerEvent&&this.off(this.player_,this.playerEvent,this.update),this.enabled_=!1}},n.createEl=function(t,n,i){return void 0===n&&(n={}),void 0===i&&(i={}),n.className=n.className+" vjs-slider",n=o({tabIndex:0},n),i=o({role:"slider","aria-valuenow":0,"aria-valuemin":0,"aria-valuemax":100,tabIndex:0},i),e.prototype.createEl.call(this,t,n,i)},n.handleMouseDown=function(e){var t=this.bar.el_.ownerDocument;"mousedown"===e.type&&e.preventDefault(),"touchstart"!==e.type||nn||e.preventDefault(),x(),this.addClass("vjs-sliding"),this.trigger("slideractive"),this.on(t,"mousemove",this.handleMouseMove),this.on(t,"mouseup",this.handleMouseUp),this.on(t,"touchmove",this.handleMouseMove),this.on(t,"touchend",this.handleMouseUp),this.handleMouseMove(e)},n.handleMouseMove=function(e){},n.handleMouseUp=function(){var e=this.bar.el_.ownerDocument;P(),this.removeClass("vjs-sliding"),this.trigger("sliderinactive"),this.off(e,"mousemove",this.handleMouseMove),this.off(e,"mouseup",this.handleMouseUp),this.off(e,"touchmove",this.handleMouseMove),this.off(e,"touchend",this.handleMouseUp),this.update()},n.update=function(){if(this.el_){var e=this.getPercent(),t=this.bar;if(t){("number"!=typeof e||e!==e||e<0||e===1/0)&&(e=0);var n=(100*e).toFixed(2)+"%",i=t.el().style,a=this.vertical()?"height":"width";return i[a]!==n&&(i[a]=n),e}}},n.calculateDistance=function(e){var t=N(this.el_,e);return this.vertical()?t.y:t.x},n.handleKeyDown=function(t){Ge.isEventKey(t,"Left")||Ge.isEventKey(t,"Down")?(t.preventDefault(),t.stopPropagation(),this.stepBack()):Ge.isEventKey(t,"Right")||Ge.isEventKey(t,"Up")?(t.preventDefault(),t.stopPropagation(),this.stepForward()):e.prototype.handleKeyDown.call(this,t)},n.handleClick=function(e){e.stopPropagation(),e.preventDefault()},n.vertical=function(e){return void 0===e?this.vertical_||!1:(this.vertical_=!!e,void(this.vertical_?this.addClass("vjs-slider-vertical"):this.addClass("vjs-slider-horizontal")))},t}(Ft);Ft.registerComponent("Slider",Di);var Ni=function(e){function t(t,n){var i;return i=e.call(this,t,n)||this,i.partEls_=[],i.on(t,"progress",i.update),i}te(t,e);var n=t.prototype;return n.createEl=function(){return e.prototype.createEl.call(this,"div",{className:"vjs-load-progress",innerHTML:'<span class="vjs-control-text"><span>'+this.localize("Loaded")+'</span>: <span class="vjs-control-text-loaded-percentage">0%</span></span>'})},n.dispose=function(){this.partEls_=null,e.prototype.dispose.call(this)},n.update=function(e){var t=this.player_.liveTracker,n=this.player_.buffered(),i=t&&t.isLive()?t.seekableEnd():this.player_.duration(),a=this.player_.bufferedEnd(),r=this.partEls_,s=this.$(".vjs-control-text-loaded-percentage"),o=function(e,t,n){var i=e/t||0;return i=100*(i>=1?1:i),n&&(i=i.toFixed(2)),i+"%"};this.el_.style.width=o(a,i),_(s,o(a,i,!0));for(var l=0;l<n.length;l++){var u=n.start(l),c=n.end(l),d=r[l];d||(d=this.el_.appendChild(y()),r[l]=d),d.style.left=o(u,a),d.style.width=o(c-u,a)}for(var h=r.length;h>n.length;h--)this.el_.removeChild(r[h-1]);r.length=n.length},t}(Ft);Ft.registerComponent("LoadProgressBar",Ni);var Mi=function(e){function t(t,n){var i;return i=e.call(this,t,n)||this,i.update=Ct(St(re(i),i.update),kt),i}te(t,e);var n=t.prototype;return n.createEl=function(){return e.prototype.createEl.call(this,"div",{className:"vjs-time-tooltip"},{"aria-hidden":"true"})},n.update=function(e,t,n){var i=O(this.el_),a=O(this.player_.el()),r=e.width*t;if(a&&i){var s=e.left-a.left+r,o=e.width-r+(a.right-e.right),l=i.width/2;s<l?l+=l-s:o<l&&(l=o),l<0?l=0:l>i.width&&(l=i.width),this.el_.style.right="-"+l+"px",this.write(n)}},n.write=function(e){_(this.el_,e)},n.updateTime=function(e,t,n,i){var a=this;this.rafId_&&this.cancelAnimationFrame(this.rafId_),this.rafId_=this.requestAnimationFrame(function(){var r,s=a.player_.duration();if(a.player_.liveTracker&&a.player_.liveTracker.isLive()){var o=a.player_.liveTracker.liveWindow(),l=o-t*o;r=(l<1?"":"-")+Pe(l,o)}else r=Pe(n,s);a.update(e,t,r),i&&i()})},t}(Ft);Ft.registerComponent("TimeTooltip",Mi);var Ri=function(e){function t(t,n){var i;return i=e.call(this,t,n)||this,i.update=Ct(St(re(i),i.update),kt),i}te(t,e);var n=t.prototype;return n.createEl=function(){return e.prototype.createEl.call(this,"div",{className:"vjs-play-progress vjs-slider-bar"},{"aria-hidden":"true"})},n.update=function(e,t){var n=this.getChild("timeTooltip");if(n){var i=this.player_.scrubbing()?this.player_.getCache().currentTime:this.player_.currentTime();n.updateTime(e,t,i)}},t}(Ft);Ri.prototype.options_={children:[]},Yt||Qt||Ri.prototype.options_.children.push("timeTooltip"),Ft.registerComponent("PlayProgressBar",Ri);var Bi=function(e){function t(t,n){var i;return i=e.call(this,t,n)||this,i.update=Ct(St(re(i),i.update),kt),i}te(t,e);var n=t.prototype;return n.createEl=function(){return e.prototype.createEl.call(this,"div",{className:"vjs-mouse-display"})},n.update=function(e,t){var n=this,i=t*this.player_.duration();this.getChild("timeTooltip").updateTime(e,t,i,function(){n.el_.style.left=e.width*t+"px"})},t}(Ft);Bi.prototype.options_={children:["timeTooltip"]},Ft.registerComponent("MouseTimeDisplay",Bi);var ji=5,Ui=12,Hi=30,Fi=function(e){function t(t,n){var i;return i=e.call(this,t,n)||this,i.setEventHandlers_(),i}te(t,e);var n=t.prototype;return n.setEventHandlers_=function(){this.update=Ct(St(this,this.update),Hi),this.on(this.player_,"timeupdate",this.update),this.on(this.player_,"ended",this.handleEnded),this.on(this.player_,"durationchange",this.update),this.player_.liveTracker&&this.on(this.player_.liveTracker,"liveedgechange",this.update),this.updateInterval=null,this.on(this.player_,["playing"],this.enableInterval_),this.on(this.player_,["ended","pause","waiting"],this.disableInterval_),"hidden"in ze&&"visibilityState"in ze&&this.on(ze,"visibilitychange",this.toggleVisibility_)},n.toggleVisibility_=function(e){ze.hidden?this.disableInterval_(e):(this.enableInterval_(),this.requestAnimationFrame(this.update))},n.enableInterval_=function(){var e=this;this.clearInterval(this.updateInterval),this.updateInterval=this.setInterval(function(){e.requestAnimationFrame(e.update)},Hi)},n.disableInterval_=function(e){this.player_.liveTracker&&this.player_.liveTracker.isLive()&&"ended"!==e.type||this.clearInterval(this.updateInterval)},n.createEl=function(){return e.prototype.createEl.call(this,"div",{className:"vjs-progress-holder"},{"aria-label":this.localize("Progress Bar")})},n.update_=function(e,t){var n=this.player_.liveTracker,i=this.player_.duration();n&&n.isLive()&&(i=this.player_.liveTracker.liveCurrentTime()),this.el_.setAttribute("aria-valuenow",(100*t).toFixed(2)),this.el_.setAttribute("aria-valuetext",this.localize("progress bar timing: currentTime={1} duration={2}",[Pe(e,i),Pe(i,i)],"{1} of {2}")),this.bar&&this.bar.update(O(this.el_),t)},n.update=function(t){if(null!==this.el().offsetParent){var n=e.prototype.update.call(this);return this.update_(this.getCurrentTime_(),n),n}},n.getCurrentTime_=function(){return this.player_.scrubbing()?this.player_.getCache().currentTime:this.player_.currentTime()},n.handleEnded=function(e){this.update_(this.player_.duration(),1)},n.getPercent=function(){var e,t=this.getCurrentTime_(),n=this.player_.liveTracker;return n&&n.isLive()?(e=(t-n.seekableStart())/n.liveWindow(),n.atLiveEdge()&&(e=1)):e=t/this.player_.duration(),e>=1?1:e||0},n.handleMouseDown=function(t){H(t)&&(t.stopPropagation(),this.player_.scrubbing(!0),this.videoWasPlaying=!this.player_.paused(),this.player_.pause(),e.prototype.handleMouseDown.call(this,t))},n.handleMouseMove=function(e){if(H(e)){var t,n=this.calculateDistance(e),i=this.player_.liveTracker;if(i&&i.isLive()){var a=i.seekableStart(),r=i.liveCurrentTime();if(t=a+n*i.liveWindow(),t>=r&&(t=r),t<=a&&(t=a+.1),t===1/0)return}else t=n*this.player_.duration(),t===this.player_.duration()&&(t-=.1);this.player_.currentTime(t)}},n.enable=function(){e.prototype.enable.call(this);var t=this.getChild("mouseTimeDisplay");t&&t.show()},n.disable=function(){e.prototype.disable.call(this);var t=this.getChild("mouseTimeDisplay");t&&t.hide()},n.handleMouseUp=function(t){e.prototype.handleMouseUp.call(this,t),t&&t.stopPropagation(),this.player_.scrubbing(!1),this.player_.trigger({type:"timeupdate",target:this,manuallyTriggered:!0}),this.videoWasPlaying&&fe(this.player_.play())},n.stepForward=function(){this.player_.currentTime(this.player_.currentTime()+ji)},n.stepBack=function(){this.player_.currentTime(this.player_.currentTime()-ji)},n.handleAction=function(e){this.player_.paused()?this.player_.play():this.player_.pause()},n.handleKeyDown=function(t){if(Ge.isEventKey(t,"Space")||Ge.isEventKey(t,"Enter"))t.preventDefault(),t.stopPropagation(),this.handleAction(t);else if(Ge.isEventKey(t,"Home"))t.preventDefault(),t.stopPropagation(),this.player_.currentTime(0);else if(Ge.isEventKey(t,"End"))t.preventDefault(),t.stopPropagation(),this.player_.currentTime(this.player_.duration());else if(/^[0-9]$/.test(Ge(t))){t.preventDefault(),t.stopPropagation();var n=10*(Ge.codes[Ge(t)]-Ge.codes[0])/100;this.player_.currentTime(this.player_.duration()*n)}else Ge.isEventKey(t,"PgDn")?(t.preventDefault(),t.stopPropagation(),this.player_.currentTime(this.player_.currentTime()-ji*Ui)):Ge.isEventKey(t,"PgUp")?(t.preventDefault(),t.stopPropagation(),this.player_.currentTime(this.player_.currentTime()+ji*Ui)):e.prototype.handleKeyDown.call(this,t)},t}(Di);Fi.prototype.options_={children:["loadProgressBar","playProgressBar"],barName:"playProgressBar"},Yt||Qt||Fi.prototype.options_.children.splice(1,0,"mouseTimeDisplay"),Ft.registerComponent("SeekBar",Fi);var zi=function(e){function t(t,n){var i;return i=e.call(this,t,n)||this,i.handleMouseMove=Ct(St(re(i),i.handleMouseMove),kt),i.throttledHandleMouseSeek=Ct(St(re(i),i.handleMouseSeek),kt),i.enable(),i}te(t,e);var n=t.prototype;return n.createEl=function(){return e.prototype.createEl.call(this,"div",{className:"vjs-progress-control vjs-control"})},n.handleMouseMove=function(e){var t=this.getChild("seekBar");if(t){var n=t.getChild("mouseTimeDisplay"),i=t.el(),a=O(i),r=N(i,e).x;r>1?r=1:r<0&&(r=0),n&&n.update(a,r)}},n.handleMouseSeek=function(e){var t=this.getChild("seekBar");t&&t.handleMouseMove(e)},n.enabled=function(){return this.enabled_},n.disable=function(){this.children().forEach(function(e){return e.disable&&e.disable()}),this.enabled()&&(this.off(["mousedown","touchstart"],this.handleMouseDown),this.off(this.el_,"mousemove",this.handleMouseMove),this.handleMouseUp(),this.addClass("disabled"),this.enabled_=!1)},n.enable=function(){this.children().forEach(function(e){return e.enable&&e.enable()}),this.enabled()||(this.on(["mousedown","touchstart"],this.handleMouseDown),this.on(this.el_,"mousemove",this.handleMouseMove),this.removeClass("disabled"),this.enabled_=!0)},n.handleMouseDown=function(e){var t=this.el_.ownerDocument,n=this.getChild("seekBar");n&&n.handleMouseDown(e),this.on(t,"mousemove",this.throttledHandleMouseSeek),this.on(t,"touchmove",this.throttledHandleMouseSeek),this.on(t,"mouseup",this.handleMouseUp),this.on(t,"touchend",this.handleMouseUp)},n.handleMouseUp=function(e){var t=this.el_.ownerDocument,n=this.getChild("seekBar");n&&n.handleMouseUp(e),this.off(t,"mousemove",this.throttledHandleMouseSeek),this.off(t,"touchmove",this.throttledHandleMouseSeek),this.off(t,"mouseup",this.handleMouseUp),this.off(t,"touchend",this.handleMouseUp)},t}(Ft);zi.prototype.options_={children:["seekBar"]},Ft.registerComponent("ProgressControl",zi);var Ki=function(e){function t(t,n){var i;return i=e.call(this,t,n)||this,i.on(t,["enterpictureinpicture","leavepictureinpicture"],i.handlePictureInPictureChange),ze.pictureInPictureEnabled||i.disable(),i}te(t,e);var n=t.prototype;return n.buildCSSClass=function(){return"vjs-picture-in-picture-control "+e.prototype.buildCSSClass.call(this)},n.handlePictureInPictureChange=function(e){this.player_.isInPictureInPicture()?this.controlText("Exit Picture-in-Picture"):this.controlText("Picture-in-Picture")},n.handleClick=function(e){this.player_.isInPictureInPicture()?this.player_.exitPictureInPicture():this.player_.requestPictureInPicture()},t}(bi);Ki.prototype.controlText_="Picture-in-Picture",Ft.registerComponent("PictureInPictureToggle",Ki);var Gi=function(e){function t(t,n){var i;return i=e.call(this,t,n)||this,i.on(t,"fullscreenchange",i.handleFullscreenChange),ze[t.fsApi_.fullscreenEnabled]===!1&&i.disable(),i}te(t,e);var n=t.prototype;return n.buildCSSClass=function(){return"vjs-fullscreen-control "+e.prototype.buildCSSClass.call(this)},n.handleFullscreenChange=function(e){this.player_.isFullscreen()?this.controlText("Non-Fullscreen"):this.controlText("Fullscreen")},n.handleClick=function(e){this.player_.isFullscreen()?this.player_.exitFullscreen():this.player_.requestFullscreen()},t}(bi);Gi.prototype.controlText_="Fullscreen",Ft.registerComponent("FullscreenToggle",Gi);var Vi=function(e,t){t.tech_&&!t.tech_.featuresVolumeControl&&e.addClass("vjs-hidden"),e.on(t,"loadstart",function(){t.tech_.featuresVolumeControl?e.removeClass("vjs-hidden"):e.addClass("vjs-hidden")})},Wi=function(e){function t(){return e.apply(this,arguments)||this}te(t,e);var n=t.prototype;return n.createEl=function(){return e.prototype.createEl.call(this,"div",{className:"vjs-volume-level",innerHTML:'<span class="vjs-control-text"></span>'})},t}(Ft);Ft.registerComponent("VolumeLevel",Wi);var qi=function(e){function t(t,n){var i;return i=e.call(this,t,n)||this,i.on("slideractive",i.updateLastVolume_),i.on(t,"volumechange",i.updateARIAAttributes),t.ready(function(){return i.updateARIAAttributes()}),i}te(t,e);var n=t.prototype;return n.createEl=function(){return e.prototype.createEl.call(this,"div",{className:"vjs-volume-bar vjs-slider-bar"},{"aria-label":this.localize("Volume Level"),"aria-live":"polite"})},n.handleMouseDown=function(t){H(t)&&e.prototype.handleMouseDown.call(this,t)},n.handleMouseMove=function(e){H(e)&&(this.checkMuted(),this.player_.volume(this.calculateDistance(e)))},n.checkMuted=function(){this.player_.muted()&&this.player_.muted(!1)},n.getPercent=function(){return this.player_.muted()?0:this.player_.volume()},n.stepForward=function(){this.checkMuted(),this.player_.volume(this.player_.volume()+.1)},n.stepBack=function(){this.checkMuted(),this.player_.volume(this.player_.volume()-.1)},n.updateARIAAttributes=function(e){var t=this.player_.muted()?0:this.volumeAsPercentage_();this.el_.setAttribute("aria-valuenow",t),this.el_.setAttribute("aria-valuetext",t+"%")},n.volumeAsPercentage_=function(){return Math.round(100*this.player_.volume())},n.updateLastVolume_=function(){var e=this,t=this.player_.volume();this.one("sliderinactive",function(){0===e.player_.volume()&&e.player_.lastVolume_(t)})},t}(Di);qi.prototype.options_={children:["volumeLevel"],barName:"volumeLevel"},qi.prototype.playerEvent="volumechange",Ft.registerComponent("VolumeBar",qi);var $i=function(e){function t(t,n){var i;return void 0===n&&(n={}),n.vertical=n.vertical||!1,("undefined"==typeof n.volumeBar||u(n.volumeBar))&&(n.volumeBar=n.volumeBar||{},n.volumeBar.vertical=n.vertical),i=e.call(this,t,n)||this,Vi(re(i),t),i.throttledHandleMouseMove=Ct(St(re(i),i.handleMouseMove),kt),i.on("mousedown",i.handleMouseDown),i.on("touchstart",i.handleMouseDown),i.on(i.volumeBar,["focus","slideractive"],function(){i.volumeBar.addClass("vjs-slider-active"),i.addClass("vjs-slider-active"),i.trigger("slideractive")}),i.on(i.volumeBar,["blur","sliderinactive"],function(){i.volumeBar.removeClass("vjs-slider-active"),
i.removeClass("vjs-slider-active"),i.trigger("sliderinactive")}),i}te(t,e);var n=t.prototype;return n.createEl=function(){var t="vjs-volume-horizontal";return this.options_.vertical&&(t="vjs-volume-vertical"),e.prototype.createEl.call(this,"div",{className:"vjs-volume-control vjs-control "+t})},n.handleMouseDown=function(e){var t=this.el_.ownerDocument;this.on(t,"mousemove",this.throttledHandleMouseMove),this.on(t,"touchmove",this.throttledHandleMouseMove),this.on(t,"mouseup",this.handleMouseUp),this.on(t,"touchend",this.handleMouseUp)},n.handleMouseUp=function(e){var t=this.el_.ownerDocument;this.off(t,"mousemove",this.throttledHandleMouseMove),this.off(t,"touchmove",this.throttledHandleMouseMove),this.off(t,"mouseup",this.handleMouseUp),this.off(t,"touchend",this.handleMouseUp)},n.handleMouseMove=function(e){this.volumeBar.handleMouseMove(e)},t}(Ft);$i.prototype.options_={children:["volumeBar"]},Ft.registerComponent("VolumeControl",$i);var Yi=function(e,t){t.tech_&&!t.tech_.featuresMuteControl&&e.addClass("vjs-hidden"),e.on(t,"loadstart",function(){t.tech_.featuresMuteControl?e.removeClass("vjs-hidden"):e.addClass("vjs-hidden")})},Xi=function(e){function t(t,n){var i;return i=e.call(this,t,n)||this,Yi(re(i),t),i.on(t,["loadstart","volumechange"],i.update),i}te(t,e);var n=t.prototype;return n.buildCSSClass=function(){return"vjs-mute-control "+e.prototype.buildCSSClass.call(this)},n.handleClick=function(e){var t=this.player_.volume(),n=this.player_.lastVolume_();if(0===t){var i=n<.1?.1:n;this.player_.volume(i),this.player_.muted(!1)}else this.player_.muted(!this.player_.muted())},n.update=function(e){this.updateIcon_(),this.updateControlText_()},n.updateIcon_=function(){var e=this.player_.volume(),t=3;Yt&&this.player_.tech_&&this.player_.tech_.el_&&this.player_.muted(this.player_.tech_.el_.muted),0===e||this.player_.muted()?t=0:e<.33?t=1:e<.67&&(t=2);for(var n=0;n<4;n++)S(this.el_,"vjs-vol-"+n);k(this.el_,"vjs-vol-"+t)},n.updateControlText_=function(){var e=this.player_.muted()||0===this.player_.volume(),t=e?"Unmute":"Mute";this.controlText()!==t&&this.controlText(t)},t}(bi);Xi.prototype.controlText_="Mute",Ft.registerComponent("MuteToggle",Xi);var Qi=function(e){function t(t,n){var i;return void 0===n&&(n={}),"undefined"!=typeof n.inline?n.inline=n.inline:n.inline=!0,("undefined"==typeof n.volumeControl||u(n.volumeControl))&&(n.volumeControl=n.volumeControl||{},n.volumeControl.vertical=!n.inline),i=e.call(this,t,n)||this,i.on(t,["loadstart"],i.volumePanelState_),i.on(i.muteToggle,"keyup",i.handleKeyPress),i.on(i.volumeControl,"keyup",i.handleVolumeControlKeyUp),i.on("keydown",i.handleKeyPress),i.on("mouseover",i.handleMouseOver),i.on("mouseout",i.handleMouseOut),i.on(i.volumeControl,["slideractive"],i.sliderActive_),i.on(i.volumeControl,["sliderinactive"],i.sliderInactive_),i}te(t,e);var n=t.prototype;return n.sliderActive_=function(){this.addClass("vjs-slider-active")},n.sliderInactive_=function(){this.removeClass("vjs-slider-active")},n.volumePanelState_=function(){this.volumeControl.hasClass("vjs-hidden")&&this.muteToggle.hasClass("vjs-hidden")&&this.addClass("vjs-hidden"),this.volumeControl.hasClass("vjs-hidden")&&!this.muteToggle.hasClass("vjs-hidden")&&this.addClass("vjs-mute-toggle-only")},n.createEl=function(){var t="vjs-volume-panel-horizontal";return this.options_.inline||(t="vjs-volume-panel-vertical"),e.prototype.createEl.call(this,"div",{className:"vjs-volume-panel vjs-control "+t})},n.dispose=function(){this.handleMouseOut(),e.prototype.dispose.call(this)},n.handleVolumeControlKeyUp=function(e){Ge.isEventKey(e,"Esc")&&this.muteToggle.focus()},n.handleMouseOver=function(e){this.addClass("vjs-hover"),q(ze,"keyup",St(this,this.handleKeyPress))},n.handleMouseOut=function(e){this.removeClass("vjs-hover"),$(ze,"keyup",St(this,this.handleKeyPress))},n.handleKeyPress=function(e){Ge.isEventKey(e,"Esc")&&this.handleMouseOut()},t}(Ft);Qi.prototype.options_={children:["muteToggle","volumeControl"]},Ft.registerComponent("VolumePanel",Qi);var Ji=function(e){function t(t,n){var i;return i=e.call(this,t,n)||this,n&&(i.menuButton_=n.menuButton),i.focusedChild_=-1,i.on("keydown",i.handleKeyDown),i.boundHandleBlur_=St(re(i),i.handleBlur),i.boundHandleTapClick_=St(re(i),i.handleTapClick),i}te(t,e);var n=t.prototype;return n.addEventListenerForItem=function(e){e instanceof Ft&&(this.on(e,"blur",this.boundHandleBlur_),this.on(e,["tap","click"],this.boundHandleTapClick_))},n.removeEventListenerForItem=function(e){e instanceof Ft&&(this.off(e,"blur",this.boundHandleBlur_),this.off(e,["tap","click"],this.boundHandleTapClick_))},n.removeChild=function(t){"string"==typeof t&&(t=this.getChild(t)),this.removeEventListenerForItem(t),e.prototype.removeChild.call(this,t)},n.addItem=function(e){var t=this.addChild(e);t&&this.addEventListenerForItem(t)},n.createEl=function(){var t=this.options_.contentElType||"ul";this.contentEl_=y(t,{className:"vjs-menu-content"}),this.contentEl_.setAttribute("role","menu");var n=e.prototype.createEl.call(this,"div",{append:this.contentEl_,className:"vjs-menu"});return n.appendChild(this.contentEl_),q(n,"click",function(e){e.preventDefault(),e.stopImmediatePropagation()}),n},n.dispose=function(){this.contentEl_=null,this.boundHandleBlur_=null,this.boundHandleTapClick_=null,e.prototype.dispose.call(this)},n.handleBlur=function(e){var t=e.relatedTarget||ze.activeElement;if(!this.children().some(function(e){return e.el()===t})){var n=this.menuButton_;n&&n.buttonPressed_&&t!==n.el().firstChild&&n.unpressButton()}},n.handleTapClick=function(e){if(this.menuButton_){this.menuButton_.unpressButton();var t=this.children();if(!Array.isArray(t))return;var n=t.filter(function(t){return t.el()===e.target})[0];if(!n)return;"CaptionSettingsMenuItem"!==n.name()&&this.menuButton_.focus()}},n.handleKeyDown=function(e){Ge.isEventKey(e,"Left")||Ge.isEventKey(e,"Down")?(e.preventDefault(),e.stopPropagation(),this.stepForward()):(Ge.isEventKey(e,"Right")||Ge.isEventKey(e,"Up"))&&(e.preventDefault(),e.stopPropagation(),this.stepBack())},n.stepForward=function(){var e=0;void 0!==this.focusedChild_&&(e=this.focusedChild_+1),this.focus(e)},n.stepBack=function(){var e=0;void 0!==this.focusedChild_&&(e=this.focusedChild_-1),this.focus(e)},n.focus=function(e){void 0===e&&(e=0);var t=this.children().slice(),n=t.length&&t[0].className&&/vjs-menu-title/.test(t[0].className);n&&t.shift(),t.length>0&&(e<0?e=0:e>=t.length&&(e=t.length-1),this.focusedChild_=e,t[e].el_.focus())},t}(Ft);Ft.registerComponent("Menu",Ji);var Zi=function(e){function t(t,n){var i;void 0===n&&(n={}),i=e.call(this,t,n)||this,i.menuButton_=new bi(t,n),i.menuButton_.controlText(i.controlText_),i.menuButton_.el_.setAttribute("aria-haspopup","true");var a=bi.prototype.buildCSSClass();return i.menuButton_.el_.className=i.buildCSSClass()+" "+a,i.menuButton_.removeClass("vjs-control"),i.addChild(i.menuButton_),i.update(),i.enabled_=!0,i.on(i.menuButton_,"tap",i.handleClick),i.on(i.menuButton_,"click",i.handleClick),i.on(i.menuButton_,"keydown",i.handleKeyDown),i.on(i.menuButton_,"mouseenter",function(){i.addClass("vjs-hover"),i.menu.show(),q(ze,"keyup",St(re(i),i.handleMenuKeyUp))}),i.on("mouseleave",i.handleMouseLeave),i.on("keydown",i.handleSubmenuKeyDown),i}te(t,e);var n=t.prototype;return n.update=function(){var e=this.createMenu();this.menu&&(this.menu.dispose(),this.removeChild(this.menu)),this.menu=e,this.addChild(e),this.buttonPressed_=!1,this.menuButton_.el_.setAttribute("aria-expanded","false"),this.items&&this.items.length<=this.hideThreshold_?this.hide():this.show()},n.createMenu=function(){var e=new Ji(this.player_,{menuButton:this});if(this.hideThreshold_=0,this.options_.title){var t=y("li",{className:"vjs-menu-title",innerHTML:Ut(this.options_.title),tabIndex:-1});this.hideThreshold_+=1;var n=new Ft(this.player_,{el:t});e.addItem(n)}if(this.items=this.createItems(),this.items)for(var i=0;i<this.items.length;i++)e.addItem(this.items[i]);return e},n.createItems=function(){},n.createEl=function(){return e.prototype.createEl.call(this,"div",{className:this.buildWrapperCSSClass()},{})},n.buildWrapperCSSClass=function(){var t="vjs-menu-button";t+=this.options_.inline===!0?"-inline":"-popup";var n=bi.prototype.buildCSSClass();return"vjs-menu-button "+t+" "+n+" "+e.prototype.buildCSSClass.call(this)},n.buildCSSClass=function(){var t="vjs-menu-button";return t+=this.options_.inline===!0?"-inline":"-popup","vjs-menu-button "+t+" "+e.prototype.buildCSSClass.call(this)},n.controlText=function(e,t){return void 0===t&&(t=this.menuButton_.el()),this.menuButton_.controlText(e,t)},n.dispose=function(){this.handleMouseLeave(),e.prototype.dispose.call(this)},n.handleClick=function(e){this.buttonPressed_?this.unpressButton():this.pressButton()},n.handleMouseLeave=function(e){this.removeClass("vjs-hover"),$(ze,"keyup",St(this,this.handleMenuKeyUp))},n.focus=function(){this.menuButton_.focus()},n.blur=function(){this.menuButton_.blur()},n.handleKeyDown=function(e){Ge.isEventKey(e,"Esc")||Ge.isEventKey(e,"Tab")?(this.buttonPressed_&&this.unpressButton(),Ge.isEventKey(e,"Tab")||(e.preventDefault(),this.menuButton_.focus())):(Ge.isEventKey(e,"Up")||Ge.isEventKey(e,"Down"))&&(this.buttonPressed_||(e.preventDefault(),this.pressButton()))},n.handleMenuKeyUp=function(e){(Ge.isEventKey(e,"Esc")||Ge.isEventKey(e,"Tab"))&&this.removeClass("vjs-hover")},n.handleSubmenuKeyPress=function(e){this.handleSubmenuKeyDown(e)},n.handleSubmenuKeyDown=function(e){(Ge.isEventKey(e,"Esc")||Ge.isEventKey(e,"Tab"))&&(this.buttonPressed_&&this.unpressButton(),Ge.isEventKey(e,"Tab")||(e.preventDefault(),this.menuButton_.focus()))},n.pressButton=function(){if(this.enabled_){if(this.buttonPressed_=!0,this.menu.show(),this.menu.lockShowing(),this.menuButton_.el_.setAttribute("aria-expanded","true"),Yt&&g())return;this.menu.focus()}},n.unpressButton=function(){this.enabled_&&(this.buttonPressed_=!1,this.menu.unlockShowing(),this.menu.hide(),this.menuButton_.el_.setAttribute("aria-expanded","false"))},n.disable=function(){this.unpressButton(),this.enabled_=!1,this.addClass("vjs-disabled"),this.menuButton_.disable()},n.enable=function(){this.enabled_=!0,this.removeClass("vjs-disabled"),this.menuButton_.enable()},t}(Ft);Ft.registerComponent("MenuButton",Zi);var ea=function(e){function t(t,n){var i,a=n.tracks;if(i=e.call(this,t,n)||this,i.items.length<=1&&i.hide(),!a)return re(i);var r=St(re(i),i.update);return a.addEventListener("removetrack",r),a.addEventListener("addtrack",r),i.player_.on("ready",r),i.player_.on("dispose",function(){a.removeEventListener("removetrack",r),a.removeEventListener("addtrack",r)}),i}return te(t,e),t}(Zi);Ft.registerComponent("TrackButton",ea);var ta=["Tab","Esc","Up","Down","Right","Left"],na=function(e){function t(t,n){var i;return i=e.call(this,t,n)||this,i.selectable=n.selectable,i.isSelected_=n.selected||!1,i.multiSelectable=n.multiSelectable,i.selected(i.isSelected_),i.selectable?i.multiSelectable?i.el_.setAttribute("role","menuitemcheckbox"):i.el_.setAttribute("role","menuitemradio"):i.el_.setAttribute("role","menuitem"),i}te(t,e);var n=t.prototype;return n.createEl=function(t,n,i){return this.nonIconControl=!0,e.prototype.createEl.call(this,"li",o({className:"vjs-menu-item",innerHTML:'<span class="vjs-menu-item-text">'+this.localize(this.options_.label)+"</span>",tabIndex:-1},n),i)},n.handleKeyDown=function(t){ta.some(function(e){return Ge.isEventKey(t,e)})||e.prototype.handleKeyDown.call(this,t)},n.handleClick=function(e){this.selected(!0)},n.selected=function(e){this.selectable&&(e?(this.addClass("vjs-selected"),this.el_.setAttribute("aria-checked","true"),this.controlText(", selected"),this.isSelected_=!0):(this.removeClass("vjs-selected"),this.el_.setAttribute("aria-checked","false"),this.controlText(""),this.isSelected_=!1))},t}(fi);Ft.registerComponent("MenuItem",na);var ia=function(e){function t(t,n){var i,a=n.track,r=t.textTracks();n.label=a.label||a.language||"Unknown",n.selected="showing"===a.mode,i=e.call(this,t,n)||this,i.track=a,i.kinds=(n.kinds||[n.kind||i.track.kind]).filter(Boolean);var s=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];i.handleTracksChange.apply(re(i),t)},o=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];i.handleSelectedLanguageChange.apply(re(i),t)};if(t.on(["loadstart","texttrackchange"],s),r.addEventListener("change",s),r.addEventListener("selectedlanguagechange",o),i.on("dispose",function(){t.off(["loadstart","texttrackchange"],s),r.removeEventListener("change",s),r.removeEventListener("selectedlanguagechange",o)}),void 0===r.onchange){var l;i.on(["tap","click"],function(){if("object"!=typeof Fe.Event)try{l=new Fe.Event("change")}catch(e){}l||(l=ze.createEvent("Event"),l.initEvent("change",!0,!0)),r.dispatchEvent(l)})}return i.handleTracksChange(),i}te(t,e);var n=t.prototype;return n.handleClick=function(t){var n=this.track,i=this.player_.textTracks();if(e.prototype.handleClick.call(this,t),i)for(var a=0;a<i.length;a++){var r=i[a];this.kinds.indexOf(r.kind)!==-1&&(r===n?"showing"!==r.mode&&(r.mode="showing"):"disabled"!==r.mode&&(r.mode="disabled"))}},n.handleTracksChange=function(e){var t="showing"===this.track.mode;t!==this.isSelected_&&this.selected(t)},n.handleSelectedLanguageChange=function(e){if("showing"===this.track.mode){var t=this.player_.cache_.selectedLanguage;if(t&&t.enabled&&t.language===this.track.language&&t.kind!==this.track.kind)return;this.player_.cache_.selectedLanguage={enabled:!0,language:this.track.language,kind:this.track.kind}}},n.dispose=function(){this.track=null,e.prototype.dispose.call(this)},t}(na);Ft.registerComponent("TextTrackMenuItem",ia);var aa=function(e){function t(t,n){return n.track={player:t,kind:n.kind,kinds:n.kinds,default:!1,mode:"disabled"},n.kinds||(n.kinds=[n.kind]),n.label?n.track.label=n.label:n.track.label=n.kinds.join(" and ")+" off",n.selectable=!0,n.multiSelectable=!1,e.call(this,t,n)||this}te(t,e);var n=t.prototype;return n.handleTracksChange=function(e){for(var t=this.player().textTracks(),n=!0,i=0,a=t.length;i<a;i++){var r=t[i];if(this.options_.kinds.indexOf(r.kind)>-1&&"showing"===r.mode){n=!1;break}}n!==this.isSelected_&&this.selected(n)},n.handleSelectedLanguageChange=function(e){for(var t=this.player().textTracks(),n=!0,i=0,a=t.length;i<a;i++){var r=t[i];if(["captions","descriptions","subtitles"].indexOf(r.kind)>-1&&"showing"===r.mode){n=!1;break}}n&&(this.player_.cache_.selectedLanguage={enabled:!1})},t}(ia);Ft.registerComponent("OffTextTrackMenuItem",aa);var ra=function(e){function t(t,n){return void 0===n&&(n={}),n.tracks=t.textTracks(),e.call(this,t,n)||this}te(t,e);var n=t.prototype;return n.createItems=function(e,t){void 0===e&&(e=[]),void 0===t&&(t=ia);var n;this.label_&&(n=this.label_+" off"),e.push(new aa(this.player_,{kinds:this.kinds_,kind:this.kind_,label:n})),this.hideThreshold_+=1;var i=this.player_.textTracks();Array.isArray(this.kinds_)||(this.kinds_=[this.kind_]);for(var a=0;a<i.length;a++){var r=i[a];if(this.kinds_.indexOf(r.kind)>-1){var s=new t(this.player_,{track:r,kinds:this.kinds_,kind:this.kind_,selectable:!0,multiSelectable:!1});s.addClass("vjs-"+r.kind+"-menu-item"),e.push(s)}}return e},t}(ea);Ft.registerComponent("TextTrackButton",ra);var sa=function(e){function t(t,n){var i,a=n.track,r=n.cue,s=t.currentTime();return n.selectable=!0,n.multiSelectable=!1,n.label=r.text,n.selected=r.startTime<=s&&s<r.endTime,i=e.call(this,t,n)||this,i.track=a,i.cue=r,a.addEventListener("cuechange",St(re(i),i.update)),i}te(t,e);var n=t.prototype;return n.handleClick=function(t){e.prototype.handleClick.call(this),this.player_.currentTime(this.cue.startTime),this.update(this.cue.startTime)},n.update=function(e){var t=this.cue,n=this.player_.currentTime();this.selected(t.startTime<=n&&n<t.endTime)},t}(na);Ft.registerComponent("ChaptersTrackMenuItem",sa);var oa=function(e){function t(t,n,i){return e.call(this,t,n,i)||this}te(t,e);var n=t.prototype;return n.buildCSSClass=function(){return"vjs-chapters-button "+e.prototype.buildCSSClass.call(this)},n.buildWrapperCSSClass=function(){return"vjs-chapters-button "+e.prototype.buildWrapperCSSClass.call(this)},n.update=function(t){this.track_&&(!t||"addtrack"!==t.type&&"removetrack"!==t.type)||this.setTrack(this.findChaptersTrack()),e.prototype.update.call(this)},n.setTrack=function(e){if(this.track_!==e){if(this.updateHandler_||(this.updateHandler_=this.update.bind(this)),this.track_){var t=this.player_.remoteTextTrackEls().getTrackElementByTrack_(this.track_);t&&t.removeEventListener("load",this.updateHandler_),this.track_=null}if(this.track_=e,this.track_){this.track_.mode="hidden";var n=this.player_.remoteTextTrackEls().getTrackElementByTrack_(this.track_);n&&n.addEventListener("load",this.updateHandler_)}}},n.findChaptersTrack=function(){for(var e=this.player_.textTracks()||[],t=e.length-1;t>=0;t--){var n=e[t];if(n.kind===this.kind_)return n}},n.getMenuCaption=function(){return this.track_&&this.track_.label?this.track_.label:this.localize(Ut(this.kind_))},n.createMenu=function(){return this.options_.title=this.getMenuCaption(),e.prototype.createMenu.call(this)},n.createItems=function(){var e=[];if(!this.track_)return e;var t=this.track_.cues;if(!t)return e;for(var n=0,i=t.length;n<i;n++){var a=t[n],r=new sa(this.player_,{track:this.track_,cue:a});e.push(r)}return e},t}(ra);oa.prototype.kind_="chapters",oa.prototype.controlText_="Chapters",Ft.registerComponent("ChaptersButton",oa);var la=function(e){function t(t,n,i){var a;a=e.call(this,t,n,i)||this;var r=t.textTracks(),s=St(re(a),a.handleTracksChange);return r.addEventListener("change",s),a.on("dispose",function(){r.removeEventListener("change",s)}),a}te(t,e);var n=t.prototype;return n.handleTracksChange=function(e){for(var t=this.player().textTracks(),n=!1,i=0,a=t.length;i<a;i++){var r=t[i];if(r.kind!==this.kind_&&"showing"===r.mode){n=!0;break}}n?this.disable():this.enable()},n.buildCSSClass=function(){return"vjs-descriptions-button "+e.prototype.buildCSSClass.call(this)},n.buildWrapperCSSClass=function(){return"vjs-descriptions-button "+e.prototype.buildWrapperCSSClass.call(this)},t}(ra);la.prototype.kind_="descriptions",la.prototype.controlText_="Descriptions",Ft.registerComponent("DescriptionsButton",la);var ua=function(e){function t(t,n,i){return e.call(this,t,n,i)||this}te(t,e);var n=t.prototype;return n.buildCSSClass=function(){return"vjs-subtitles-button "+e.prototype.buildCSSClass.call(this)},n.buildWrapperCSSClass=function(){return"vjs-subtitles-button "+e.prototype.buildWrapperCSSClass.call(this)},t}(ra);ua.prototype.kind_="subtitles",ua.prototype.controlText_="Subtitles",Ft.registerComponent("SubtitlesButton",ua);var ca=function(e){function t(t,n){var i;return n.track={player:t,kind:n.kind,label:n.kind+" settings",selectable:!1,default:!1,mode:"disabled"},n.selectable=!1,n.name="CaptionSettingsMenuItem",i=e.call(this,t,n)||this,i.addClass("vjs-texttrack-settings"),i.controlText(", opens "+n.kind+" settings dialog"),i}te(t,e);var n=t.prototype;return n.handleClick=function(e){this.player().getChild("textTrackSettings").open()},t}(ia);Ft.registerComponent("CaptionSettingsMenuItem",ca);var da=function(e){function t(t,n,i){return e.call(this,t,n,i)||this}te(t,e);var n=t.prototype;return n.buildCSSClass=function(){return"vjs-captions-button "+e.prototype.buildCSSClass.call(this)},n.buildWrapperCSSClass=function(){return"vjs-captions-button "+e.prototype.buildWrapperCSSClass.call(this)},n.createItems=function(){var t=[];return this.player().tech_&&this.player().tech_.featuresNativeTextTracks||!this.player().getChild("textTrackSettings")||(t.push(new ca(this.player_,{kind:this.kind_})),this.hideThreshold_+=1),e.prototype.createItems.call(this,t)},t}(ra);da.prototype.kind_="captions",da.prototype.controlText_="Captions",Ft.registerComponent("CaptionsButton",da);var ha=function(e){function t(){return e.apply(this,arguments)||this}te(t,e);var n=t.prototype;return n.createEl=function(t,n,i){var a='<span class="vjs-menu-item-text">'+this.localize(this.options_.label);"captions"===this.options_.track.kind&&(a+='\n        <span aria-hidden="true" class="vjs-icon-placeholder"></span>\n        <span class="vjs-control-text"> '+this.localize("Captions")+"</span>\n      "),a+="</span>";var r=e.prototype.createEl.call(this,t,o({innerHTML:a},n),i);return r},t}(ia);Ft.registerComponent("SubsCapsMenuItem",ha);var fa=function(e){function t(t,n){var i;return void 0===n&&(n={}),i=e.call(this,t,n)||this,i.label_="subtitles",["en","en-us","en-ca","fr-ca"].indexOf(i.player_.language_)>-1&&(i.label_="captions"),i.menuButton_.controlText(Ut(i.label_)),i}te(t,e);var n=t.prototype;return n.buildCSSClass=function(){return"vjs-subs-caps-button "+e.prototype.buildCSSClass.call(this)},n.buildWrapperCSSClass=function(){return"vjs-subs-caps-button "+e.prototype.buildWrapperCSSClass.call(this)},n.createItems=function(){var t=[];return this.player().tech_&&this.player().tech_.featuresNativeTextTracks||!this.player().getChild("textTrackSettings")||(t.push(new ca(this.player_,{kind:this.label_})),this.hideThreshold_+=1),t=e.prototype.createItems.call(this,t,ha)},t}(ra);fa.prototype.kinds_=["captions","subtitles"],fa.prototype.controlText_="Subtitles",Ft.registerComponent("SubsCapsButton",fa);var pa=function(e){function t(t,n){var i,a=n.track,r=t.audioTracks();n.label=a.label||a.language||"Unknown",n.selected=a.enabled,i=e.call(this,t,n)||this,i.track=a,i.addClass("vjs-"+a.kind+"-menu-item");var s=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];i.handleTracksChange.apply(re(i),t)};return r.addEventListener("change",s),i.on("dispose",function(){r.removeEventListener("change",s)}),i}te(t,e);var n=t.prototype;return n.createEl=function(t,n,i){var a='<span class="vjs-menu-item-text">'+this.localize(this.options_.label);"main-desc"===this.options_.track.kind&&(a+='\n        <span aria-hidden="true" class="vjs-icon-placeholder"></span>\n        <span class="vjs-control-text"> '+this.localize("Descriptions")+"</span>\n      "),a+="</span>";var r=e.prototype.createEl.call(this,t,o({innerHTML:a},n),i);return r},n.handleClick=function(t){var n=this.player_.audioTracks();e.prototype.handleClick.call(this,t);for(var i=0;i<n.length;i++){var a=n[i];a.enabled=a===this.track}},n.handleTracksChange=function(e){this.selected(this.track.enabled)},t}(na);Ft.registerComponent("AudioTrackMenuItem",pa);var ma=function(e){function t(t,n){return void 0===n&&(n={}),n.tracks=t.audioTracks(),e.call(this,t,n)||this}te(t,e);var n=t.prototype;return n.buildCSSClass=function(){return"vjs-audio-button "+e.prototype.buildCSSClass.call(this)},n.buildWrapperCSSClass=function(){return"vjs-audio-button "+e.prototype.buildWrapperCSSClass.call(this)},n.createItems=function(e){void 0===e&&(e=[]),this.hideThreshold_=1;for(var t=this.player_.audioTracks(),n=0;n<t.length;n++){var i=t[n];e.push(new pa(this.player_,{track:i,selectable:!0,multiSelectable:!1}))}return e},t}(ea);ma.prototype.controlText_="Audio Track",Ft.registerComponent("AudioTrackButton",ma);var ga=function(e){function t(t,n){var i,a=n.rate,r=parseFloat(a,10);return n.label=a,n.selected=1===r,n.selectable=!0,n.multiSelectable=!1,i=e.call(this,t,n)||this,i.label=a,i.rate=r,i.on(t,"ratechange",i.update),i}te(t,e);var n=t.prototype;return n.handleClick=function(t){e.prototype.handleClick.call(this),this.player().playbackRate(this.rate)},n.update=function(e){this.selected(this.player().playbackRate()===this.rate)},t}(na);ga.prototype.contentElType="button",Ft.registerComponent("PlaybackRateMenuItem",ga);var va=function(e){function t(t,n){var i;return i=e.call(this,t,n)||this,i.updateVisibility(),i.updateLabel(),i.on(t,"loadstart",i.updateVisibility),i.on(t,"ratechange",i.updateLabel),i}te(t,e);var n=t.prototype;return n.createEl=function(){var t=e.prototype.createEl.call(this);return this.labelEl_=y("div",{className:"vjs-playback-rate-value",innerHTML:"1x"}),t.appendChild(this.labelEl_),t},n.dispose=function(){this.labelEl_=null,e.prototype.dispose.call(this)},n.buildCSSClass=function(){return"vjs-playback-rate "+e.prototype.buildCSSClass.call(this)},n.buildWrapperCSSClass=function(){return"vjs-playback-rate "+e.prototype.buildWrapperCSSClass.call(this)},n.createMenu=function(){var e=new Ji(this.player()),t=this.playbackRates();if(t)for(var n=t.length-1;n>=0;n--)e.addChild(new ga(this.player(),{rate:t[n]+"x"}));return e},n.updateARIAAttributes=function(){this.el().setAttribute("aria-valuenow",this.player().playbackRate())},n.handleClick=function(e){for(var t=this.player().playbackRate(),n=this.playbackRates(),i=n[0],a=0;a<n.length;a++)if(n[a]>t){i=n[a];break}this.player().playbackRate(i)},n.playbackRates=function(){return this.options_.playbackRates||this.options_.playerOptions&&this.options_.playerOptions.playbackRates},n.playbackRateSupported=function(){return this.player().tech_&&this.player().tech_.featuresPlaybackRate&&this.playbackRates()&&this.playbackRates().length>0},n.updateVisibility=function(e){this.playbackRateSupported()?this.removeClass("vjs-hidden"):this.addClass("vjs-hidden")},n.updateLabel=function(e){this.playbackRateSupported()&&(this.labelEl_.innerHTML=this.player().playbackRate()+"x")},t}(Zi);va.prototype.controlText_="Playback Rate",Ft.registerComponent("PlaybackRateMenuButton",va);var ya=function(e){function t(){return e.apply(this,arguments)||this}te(t,e);var n=t.prototype;return n.buildCSSClass=function(){return"vjs-spacer "+e.prototype.buildCSSClass.call(this)},n.createEl=function(){return e.prototype.createEl.call(this,"div",{className:this.buildCSSClass()})},t}(Ft);Ft.registerComponent("Spacer",ya);var _a=function(e){function t(){return e.apply(this,arguments)||this}te(t,e);var n=t.prototype;return n.buildCSSClass=function(){return"vjs-custom-control-spacer "+e.prototype.buildCSSClass.call(this)},n.createEl=function(){var t=e.prototype.createEl.call(this,{className:this.buildCSSClass()});return t.innerHTML=" ",t},t}(ya);Ft.registerComponent("CustomControlSpacer",_a);var ba=function(e){function t(){return e.apply(this,arguments)||this}te(t,e);var n=t.prototype;return n.createEl=function(){return e.prototype.createEl.call(this,"div",{className:"vjs-control-bar",dir:"ltr"})},t}(Ft);ba.prototype.options_={children:["playToggle","volumePanel","currentTimeDisplay","timeDivider","durationDisplay","progressControl","liveDisplay","seekToLive","remainingTimeDisplay","customControlSpacer","playbackRateMenuButton","chaptersButton","descriptionsButton","subsCapsButton","audioTrackButton","fullscreenToggle"]},"exitPictureInPicture"in ze&&ba.prototype.options_.children.splice(ba.prototype.options_.children.length-1,0,"pictureInPictureToggle"),Ft.registerComponent("ControlBar",ba);var Ta=function(e){function t(t,n){var i;return i=e.call(this,t,n)||this,i.on(t,"error",i.open),i}te(t,e);var n=t.prototype;return n.buildCSSClass=function(){return"vjs-error-display "+e.prototype.buildCSSClass.call(this)},n.content=function(){var e=this.player().error();return e?this.localize(e.message):""},t}(kn);Ta.prototype.options_=ee(kn.prototype.options_,{pauseOnOpen:!1,fillAlways:!0,temporary:!1,uncloseable:!0}),Ft.registerComponent("ErrorDisplay",Ta);var ka="vjs-text-track-settings",Sa=["#000","Black"],Ca=["#00F","Blue"],wa=["#0FF","Cyan"],Ea=["#0F0","Green"],Aa=["#F0F","Magenta"],Ia=["#F00","Red"],La=["#FFF","White"],xa=["#FF0","Yellow"],Pa=["1","Opaque"],Oa=["0.5","Semi-Transparent"],Da=["0","Transparent"],Na={backgroundColor:{selector:".vjs-bg-color > select",id:"captions-background-color-%s",label:"Color",options:[Sa,La,Ia,Ea,Ca,xa,Aa,wa]},backgroundOpacity:{selector:".vjs-bg-opacity > select",id:"captions-background-opacity-%s",label:"Transparency",options:[Pa,Oa,Da]},color:{selector:".vjs-fg-color > select",id:"captions-foreground-color-%s",label:"Color",options:[La,Sa,Ia,Ea,Ca,xa,Aa,wa]},edgeStyle:{selector:".vjs-edge-style > select",id:"%s",label:"Text Edge Style",options:[["none","None"],["raised","Raised"],["depressed","Depressed"],["uniform","Uniform"],["dropshadow","Dropshadow"]]},fontFamily:{selector:".vjs-font-family > select",id:"captions-font-family-%s",label:"Font Family",options:[["proportionalSansSerif","Proportional Sans-Serif"],["monospaceSansSerif","Monospace Sans-Serif"],["proportionalSerif","Proportional Serif"],["monospaceSerif","Monospace Serif"],["casual","Casual"],["script","Script"],["small-caps","Small Caps"]]},fontPercent:{selector:".vjs-font-percent > select",id:"captions-font-size-%s",label:"Font Size",options:[["0.50","50%"],["0.75","75%"],["1.00","100%"],["1.25","125%"],["1.50","150%"],["1.75","175%"],["2.00","200%"],["3.00","300%"],["4.00","400%"]],default:2,parser:function(e){return"1.00"===e?null:Number(e)}},textOpacity:{selector:".vjs-text-opacity > select",id:"captions-foreground-opacity-%s",label:"Transparency",options:[Pa,Oa]},windowColor:{selector:".vjs-window-color > select",id:"captions-window-color-%s",label:"Color"},windowOpacity:{selector:".vjs-window-opacity > select",id:"captions-window-opacity-%s",label:"Transparency",options:[Da,Oa,Pa]}};Na.windowColor.options=Na.backgroundColor.options;var Ma=function(e){function t(t,n){var i;return n.temporary=!1,i=e.call(this,t,n)||this,i.updateDisplay=St(re(i),i.updateDisplay),i.fill(),i.hasBeenOpened_=i.hasBeenFilled_=!0,i.endDialog=y("p",{className:"vjs-control-text",textContent:i.localize("End of dialog window.")}),i.el().appendChild(i.endDialog),i.setDefaults(),void 0===n.persistTextTrackSettings&&(i.options_.persistTextTrackSettings=i.options_.playerOptions.persistTextTrackSettings),i.on(i.$(".vjs-done-button"),"click",function(){i.saveSettings(),i.close()}),i.on(i.$(".vjs-default-button"),"click",function(){i.setDefaults(),i.updateDisplay()}),r(Na,function(e){i.on(i.$(e.selector),"change",i.updateDisplay)}),i.options_.persistTextTrackSettings&&i.restoreSettings(),i}te(t,e);var n=t.prototype;return n.dispose=function(){this.endDialog=null,e.prototype.dispose.call(this)},n.createElSelect_=function(e,t,n){var i=this;void 0===t&&(t=""),void 0===n&&(n="label");var a=Na[e],r=a.id.replace("%s",this.id_),s=[t,r].join(" ").trim();return["<"+n+' id="'+r+'" class="'+("label"===n?"vjs-label":"")+'">',this.localize(a.label),"</"+n+">",'<select aria-labelledby="'+s+'">'].concat(a.options.map(function(e){var t=r+"-"+e[1].replace(/\W+/g,"");return['<option id="'+t+'" value="'+e[0]+'" ','aria-labelledby="'+s+" "+t+'">',i.localize(e[1]),"</option>"].join("")})).concat("</select>").join("")},n.createElFgColor_=function(){var e="captions-text-legend-"+this.id_;return['<fieldset class="vjs-fg-color vjs-track-setting">','<legend id="'+e+'">',this.localize("Text"),"</legend>",this.createElSelect_("color",e),'<span class="vjs-text-opacity vjs-opacity">',this.createElSelect_("textOpacity",e),"</span>","</fieldset>"].join("")},n.createElBgColor_=function(){var e="captions-background-"+this.id_;return['<fieldset class="vjs-bg-color vjs-track-setting">','<legend id="'+e+'">',this.localize("Background"),"</legend>",this.createElSelect_("backgroundColor",e),'<span class="vjs-bg-opacity vjs-opacity">',this.createElSelect_("backgroundOpacity",e),"</span>","</fieldset>"].join("")},n.createElWinColor_=function(){var e="captions-window-"+this.id_;return['<fieldset class="vjs-window-color vjs-track-setting">','<legend id="'+e+'">',this.localize("Window"),"</legend>",this.createElSelect_("windowColor",e),'<span class="vjs-window-opacity vjs-opacity">',this.createElSelect_("windowOpacity",e),"</span>","</fieldset>"].join("")},n.createElColors_=function(){return y("div",{className:"vjs-track-settings-colors",innerHTML:[this.createElFgColor_(),this.createElBgColor_(),this.createElWinColor_()].join("")})},n.createElFont_=function(){return y("div",{className:"vjs-track-settings-font",innerHTML:['<fieldset class="vjs-font-percent vjs-track-setting">',this.createElSelect_("fontPercent","","legend"),"</fieldset>",'<fieldset class="vjs-edge-style vjs-track-setting">',this.createElSelect_("edgeStyle","","legend"),"</fieldset>",'<fieldset class="vjs-font-family vjs-track-setting">',this.createElSelect_("fontFamily","","legend"),"</fieldset>"].join("")
})},n.createElControls_=function(){var e=this.localize("restore all settings to the default values");return y("div",{className:"vjs-track-settings-controls",innerHTML:['<button type="button" class="vjs-default-button" title="'+e+'">',this.localize("Reset"),'<span class="vjs-control-text"> '+e+"</span>","</button>",'<button type="button" class="vjs-done-button">'+this.localize("Done")+"</button>"].join("")})},n.content=function(){return[this.createElColors_(),this.createElFont_(),this.createElControls_()]},n.label=function(){return this.localize("Caption Settings Dialog")},n.description=function(){return this.localize("Beginning of dialog window. Escape will cancel and close the window.")},n.buildCSSClass=function(){return e.prototype.buildCSSClass.call(this)+" vjs-text-track-settings"},n.getValues=function(){var e=this;return s(Na,function(t,n,i){var a=De(e.$(n.selector),n.parser);return void 0!==a&&(t[i]=a),t},{})},n.setValues=function(e){var t=this;r(Na,function(n,i){Ne(t.$(n.selector),e[i],n.parser)})},n.setDefaults=function(){var e=this;r(Na,function(t){var n=t.hasOwnProperty("default")?t.default:0;e.$(t.selector).selectedIndex=n})},n.restoreSettings=function(){var e;try{e=JSON.parse(Fe.localStorage.getItem(ka))}catch(e){at.warn(e)}e&&this.setValues(e)},n.saveSettings=function(){if(this.options_.persistTextTrackSettings){var e=this.getValues();try{Object.keys(e).length?Fe.localStorage.setItem(ka,JSON.stringify(e)):Fe.localStorage.removeItem(ka)}catch(e){at.warn(e)}}},n.updateDisplay=function(){var e=this.player_.getChild("textTrackDisplay");e&&e.updateDisplay()},n.conditionalBlur_=function(){this.previouslyActiveEl_=null;var e=this.player_.controlBar,t=e&&e.subsCapsButton,n=e&&e.captionsButton;t?t.focus():n&&n.focus()},t}(kn);Ft.registerComponent("TextTrackSettings",Ma);var Ra=function(e){function t(t,n){var i,a=n.ResizeObserver||Fe.ResizeObserver;null===n.ResizeObserver&&(a=!1);var r=ee({createEl:!a,reportTouchActivity:!1},n);return i=e.call(this,t,r)||this,i.ResizeObserver=n.ResizeObserver||Fe.ResizeObserver,i.loadListener_=null,i.resizeObserver_=null,i.debouncedHandler_=wt(function(){i.resizeHandler()},100,!1,re(i)),a?(i.resizeObserver_=new i.ResizeObserver(i.debouncedHandler_),i.resizeObserver_.observe(t.el())):(i.loadListener_=function(){if(i.el_&&i.el_.contentWindow){var e=i.debouncedHandler_,t=i.unloadListener_=function(){$(this,"resize",e),$(this,"unload",t),t=null};q(i.el_.contentWindow,"unload",t),q(i.el_.contentWindow,"resize",e)}},i.one("load",i.loadListener_)),i}te(t,e);var n=t.prototype;return n.createEl=function(){return e.prototype.createEl.call(this,"iframe",{className:"vjs-resize-manager",tabIndex:-1},{"aria-hidden":"true"})},n.resizeHandler=function(){this.player_&&this.player_.trigger&&this.player_.trigger("playerresize")},n.dispose=function(){this.debouncedHandler_&&this.debouncedHandler_.cancel(),this.resizeObserver_&&(this.player_.el()&&this.resizeObserver_.unobserve(this.player_.el()),this.resizeObserver_.disconnect()),this.loadListener_&&this.off("load",this.loadListener_),this.el_&&this.el_.contentWindow&&this.unloadListener_&&this.unloadListener_.call(this.el_.contentWindow),this.ResizeObserver=null,this.resizeObserver=null,this.debouncedHandler_=null,this.loadListener_=null,e.prototype.dispose.call(this)},t}(Ft);Ft.registerComponent("ResizeManager",Ra);var Ba=function(e){var t=Math.floor(e.length/2),n=[].concat(e).sort(function(e,t){return e-t});return e.length%2!==0?n[t]:(n[t-1]+n[t])/2},ja=function(e){function t(t,n){var i,a=ee({createEl:!1},n);return i=e.call(this,t,a)||this,i.reset_(),i.on(i.player_,"durationchange",i.handleDurationchange),rn&&"hidden"in ze&&"visibilityState"in ze&&i.on(ze,"visibilitychange",i.handleVisibilityChange),i}te(t,e);var n=t.prototype;return n.handleVisibilityChange=function(){this.player_.duration()===1/0&&(ze.hidden?this.stopTracking():this.startTracking())},n.isBehind_=function(){if(!this.timeupdateSeen_)return!1;var e=this.liveCurrentTime(),t=this.player_.currentTime(),n=2*this.seekableIncrement_+.07;return e!==1/0&&e-n>=t},n.trackLive_=function(){this.pastSeekEnd_=this.pastSeekEnd_;var e=this.player_.seekable();if(e&&e.length){var t=this.seekableEnd();t!==this.lastSeekEnd_&&(this.lastSeekEnd_&&(this.seekableIncrementList_=this.seekableIncrementList_.slice(-11),this.seekableIncrementList_.push(Math.abs(t-this.lastSeekEnd_)),this.seekableIncrementList_.length>3&&(this.seekableIncrement_=Ba(this.seekableIncrementList_))),this.pastSeekEnd_=0,this.lastSeekEnd_=t,this.trigger("seekableendchange")),this.pastSeekEnd_=this.pastSeekEnd()+.03,this.isBehind_()!==this.behindLiveEdge()&&(this.behindLiveEdge_=this.isBehind_(),this.trigger("liveedgechange"))}},n.handleDurationchange=function(){this.player_.duration()===1/0?this.startTracking():this.stopTracking()},n.startTracking=function(){var e=this;this.isTracking()||(this.timeupdateSeen_||(this.timeupdateSeen_=this.player_.hasStarted()),this.trackingInterval_=this.setInterval(this.trackLive_,30),this.trackLive_(),this.on(this.player_,"play",this.trackLive_),this.on(this.player_,"pause",this.trackLive_),this.timeupdateSeen_||(this.one(this.player_,"play",this.handlePlay),this.handleTimeupdate=function(){e.timeupdateSeen_=!0,e.handleTimeupdate=null},this.one(this.player_,"timeupdate",this.handleTimeupdate)))},n.handlePlay=function(){this.one(this.player_,"timeupdate",this.seekToLiveEdge)},n.reset_=function(){this.pastSeekEnd_=0,this.lastSeekEnd_=null,this.behindLiveEdge_=null,this.timeupdateSeen_=!1,this.clearInterval(this.trackingInterval_),this.trackingInterval_=null,this.seekableIncrement_=12,this.seekableIncrementList_=[],this.off(this.player_,"play",this.trackLive_),this.off(this.player_,"pause",this.trackLive_),this.off(this.player_,"play",this.handlePlay),this.off(this.player_,"timeupdate",this.seekToLiveEdge),this.handleTimeupdate&&(this.off(this.player_,"timeupdate",this.handleTimeupdate),this.handleTimeupdate=null)},n.stopTracking=function(){this.isTracking()&&this.reset_()},n.seekableEnd=function(){for(var e=this.player_.seekable(),t=[],n=e?e.length:0;n--;)t.push(e.end(n));return t.length?t.sort()[t.length-1]:1/0},n.seekableStart=function(){for(var e=this.player_.seekable(),t=[],n=e?e.length:0;n--;)t.push(e.start(n));return t.length?t.sort()[0]:0},n.liveWindow=function(){var e=this.liveCurrentTime();return e===1/0?1/0:e-this.seekableStart()},n.isLive=function(){return this.isTracking()},n.atLiveEdge=function(){return!this.behindLiveEdge()},n.liveCurrentTime=function(){return this.pastSeekEnd()+this.seekableEnd()},n.pastSeekEnd=function(){return this.pastSeekEnd_},n.behindLiveEdge=function(){return this.behindLiveEdge_},n.isTracking=function(){return"number"==typeof this.trackingInterval_},n.seekToLiveEdge=function(){this.atLiveEdge()||(this.player_.currentTime(this.liveCurrentTime()),this.player_.paused()&&this.player_.play())},n.dispose=function(){this.stopTracking(),e.prototype.dispose.call(this)},t}(Ft);Ft.registerComponent("LiveTracker",ja);var Ua=function(e){var t=e.el();if(t.hasAttribute("src"))return e.triggerSourceset(t.src),!0;var n=e.$$("source"),i=[],a="";if(!n.length)return!1;for(var r=0;r<n.length;r++){var s=n[r].src;s&&i.indexOf(s)===-1&&i.push(s)}return!!i.length&&(1===i.length&&(a=i[0]),e.triggerSourceset(a),!0)},Ha=Object.defineProperty({},"innerHTML",{get:function(){return this.cloneNode(!0).innerHTML},set:function(e){var t=ze.createElement(this.nodeName.toLowerCase());t.innerHTML=e;for(var n=ze.createDocumentFragment();t.childNodes.length;)n.appendChild(t.childNodes[0]);return this.innerText="",Fe.Element.prototype.appendChild.call(this,n),this.innerHTML}}),Fa=function(e,t){for(var n={},i=0;i<e.length&&(n=Object.getOwnPropertyDescriptor(e[i],t),!(n&&n.set&&n.get));i++);return n.enumerable=!0,n.configurable=!0,n},za=function(e){return Fa([e.el(),Fe.HTMLMediaElement.prototype,Fe.Element.prototype,Ha],"innerHTML")},Ka=function(e){var t=e.el();if(!t.resetSourceWatch_){var n={},i=za(e),a=function(n){return function(){for(var i=arguments.length,a=new Array(i),r=0;r<i;r++)a[r]=arguments[r];var s=n.apply(t,a);return Ua(e),s}};["append","appendChild","insertAdjacentHTML"].forEach(function(e){t[e]&&(n[e]=t[e],t[e]=a(n[e]))}),Object.defineProperty(t,"innerHTML",ee(i,{set:a(i.set)})),t.resetSourceWatch_=function(){t.resetSourceWatch_=null,Object.keys(n).forEach(function(e){t[e]=n[e]}),Object.defineProperty(t,"innerHTML",i)},e.one("sourceset",t.resetSourceWatch_)}},Ga=Object.defineProperty({},"src",{get:function(){return this.hasAttribute("src")?jn(Fe.Element.prototype.getAttribute.call(this,"src")):""},set:function(e){return Fe.Element.prototype.setAttribute.call(this,"src",e),e}}),Va=function(e){return Fa([e.el(),Fe.HTMLMediaElement.prototype,Ga],"src")},Wa=function(e){if(e.featuresSourceset){var t=e.el();if(!t.resetSourceset_){var n=Va(e),i=t.setAttribute,a=t.load;Object.defineProperty(t,"src",ee(n,{set:function(i){var a=n.set.call(t,i);return e.triggerSourceset(t.src),a}})),t.setAttribute=function(n,a){var r=i.call(t,n,a);return/src/i.test(n)&&e.triggerSourceset(t.src),r},t.load=function(){var n=a.call(t);return Ua(e)||(e.triggerSourceset(""),Ka(e)),n},t.currentSrc?e.triggerSourceset(t.currentSrc):Ua(e)||Ka(e),t.resetSourceset_=function(){t.resetSourceset_=null,t.load=a,t.setAttribute=i,Object.defineProperty(t,"src",n),t.resetSourceWatch_&&t.resetSourceWatch_()}}}},qa=function(e){function t(t,n){var i;i=e.call(this,t,n)||this;var a=t.source,r=!1;if(a&&(i.el_.currentSrc!==a.src||t.tag&&3===t.tag.initNetworkState_)?i.setSource(a):i.handleLateInit_(i.el_),t.enableSourceset&&i.setupSourcesetHandling_(),i.el_.hasChildNodes()){for(var s=i.el_.childNodes,o=s.length,l=[];o--;){var u=s[o],c=u.nodeName.toLowerCase();"track"===c&&(i.featuresNativeTextTracks?(i.remoteTextTrackEls().addTrackElement_(u),i.remoteTextTracks().addTrack(u.track),i.textTracks().addTrack(u.track),r||i.el_.hasAttribute("crossorigin")||!Hn(u.src)||(r=!0)):l.push(u))}for(var d=0;d<l.length;d++)i.el_.removeChild(l[d])}return i.proxyNativeTracks_(),i.featuresNativeTextTracks&&r&&at.warn("Text Tracks are being loaded from another origin but the crossorigin attribute isn't used.\nThis may prevent text tracks from loading."),i.restoreMetadataTracksInIOSNativePlayer_(),(un||qt||Zt)&&t.nativeControlsForTouch===!0&&i.setControls(!0),i.proxyWebkitFullscreen_(),i.triggerReady(),i}te(t,e);var n=t.prototype;return n.dispose=function(){this.el_&&this.el_.resetSourceset_&&this.el_.resetSourceset_(),t.disposeMediaElement(this.el_),this.options_=null,e.prototype.dispose.call(this)},n.setupSourcesetHandling_=function(){Wa(this)},n.restoreMetadataTracksInIOSNativePlayer_=function(){var e,t=this.textTracks(),n=function(){e=[];for(var n=0;n<t.length;n++){var i=t[n];"metadata"===i.kind&&e.push({track:i,storedMode:i.mode})}};n(),t.addEventListener("change",n),this.on("dispose",function(){return t.removeEventListener("change",n)});var i=function n(){for(var i=0;i<e.length;i++){var a=e[i];"disabled"===a.track.mode&&a.track.mode!==a.storedMode&&(a.track.mode=a.storedMode)}t.removeEventListener("change",n)};this.on("webkitbeginfullscreen",function(){t.removeEventListener("change",n),t.removeEventListener("change",i),t.addEventListener("change",i)}),this.on("webkitendfullscreen",function(){t.removeEventListener("change",n),t.addEventListener("change",n),t.removeEventListener("change",i)})},n.overrideNative_=function(e,t){var n=this;if(t===this["featuresNative"+e+"Tracks"]){var i=e.toLowerCase();this[i+"TracksListeners_"]&&Object.keys(this[i+"TracksListeners_"]).forEach(function(e){var t=n.el()[i+"Tracks"];t.removeEventListener(e,n[i+"TracksListeners_"][e])}),this["featuresNative"+e+"Tracks"]=!t,this[i+"TracksListeners_"]=null,this.proxyNativeTracksForType_(i)}},n.overrideNativeAudioTracks=function(e){this.overrideNative_("Audio",e)},n.overrideNativeVideoTracks=function(e){this.overrideNative_("Video",e)},n.proxyNativeTracksForType_=function(e){var t=this,n=Jn[e],i=this.el()[n.getterName],a=this[n.getterName]();if(this["featuresNative"+n.capitalName+"Tracks"]&&i&&i.addEventListener){var r={change:function(e){a.trigger({type:"change",target:a,currentTarget:a,srcElement:a})},addtrack:function(e){a.addTrack(e.track)},removetrack:function(e){a.removeTrack(e.track)}},s=function(){for(var e=[],t=0;t<a.length;t++){for(var n=!1,r=0;r<i.length;r++)if(i[r]===a[t]){n=!0;break}n||e.push(a[t])}for(;e.length;)a.removeTrack(e.shift())};this[n.getterName+"Listeners_"]=r,Object.keys(r).forEach(function(e){var n=r[e];i.addEventListener(e,n),t.on("dispose",function(t){return i.removeEventListener(e,n)})}),this.on("loadstart",s),this.on("dispose",function(e){return t.off("loadstart",s)})}},n.proxyNativeTracks_=function(){var e=this;Jn.names.forEach(function(t){e.proxyNativeTracksForType_(t)})},n.createEl=function(){var e=this.options_.tag;if(!e||!this.options_.playerElIngest&&!this.movingMediaElementInDOM){if(e){var n=e.cloneNode(!0);e.parentNode&&e.parentNode.insertBefore(n,e),t.disposeMediaElement(e),e=n}else{e=ze.createElement("video");var i=this.options_.tag&&E(this.options_.tag),a=ee({},i);un&&this.options_.nativeControlsForTouch===!0||delete a.controls,w(e,o(a,{id:this.options_.techId,class:"vjs-tech"}))}e.playerId=this.options_.playerId}"undefined"!=typeof this.options_.preload&&I(e,"preload",this.options_.preload);for(var r=["loop","muted","playsinline","autoplay"],s=0;s<r.length;s++){var l=r[s],u=this.options_[l];"undefined"!=typeof u&&(u?I(e,l,l):L(e,l),e[l]=u)}return e},n.handleLateInit_=function(e){if(0!==e.networkState&&3!==e.networkState){if(0===e.readyState){var t=!1,n=function(){t=!0};this.on("loadstart",n);var i=function(){t||this.trigger("loadstart")};return this.on("loadedmetadata",i),void this.ready(function(){this.off("loadstart",n),this.off("loadedmetadata",i),t||this.trigger("loadstart")})}var a=["loadstart"];a.push("loadedmetadata"),e.readyState>=2&&a.push("loadeddata"),e.readyState>=3&&a.push("canplay"),e.readyState>=4&&a.push("canplaythrough"),this.ready(function(){a.forEach(function(e){this.trigger(e)},this)})}},n.setCurrentTime=function(e){try{this.el_.currentTime=e}catch(e){at(e,"Video is not ready. (Video.js)")}},n.duration=function(){var e=this;if(this.el_.duration===1/0&&Qt&&nn&&0===this.el_.currentTime){var t=function t(){e.el_.currentTime>0&&(e.el_.duration===1/0&&e.trigger("durationchange"),e.off("timeupdate",t))};return this.on("timeupdate",t),NaN}return this.el_.duration||NaN},n.width=function(){return this.el_.offsetWidth},n.height=function(){return this.el_.offsetHeight},n.proxyWebkitFullscreen_=function(){var e=this;if("webkitDisplayingFullscreen"in this.el_){var t=function(){this.trigger("fullscreenchange",{isFullscreen:!1})},n=function(){"webkitPresentationMode"in this.el_&&"picture-in-picture"!==this.el_.webkitPresentationMode&&(this.one("webkitendfullscreen",t),this.trigger("fullscreenchange",{isFullscreen:!0}))};this.on("webkitbeginfullscreen",n),this.on("dispose",function(){e.off("webkitbeginfullscreen",n),e.off("webkitendfullscreen",t)})}},n.supportsFullScreen=function(){if("function"==typeof this.el_.webkitEnterFullScreen){var e=Fe.navigator&&Fe.navigator.userAgent||"";if(/Android/.test(e)||!/Chrome|Mac OS X 10.5/.test(e))return!0}return!1},n.enterFullScreen=function(){var e=this.el_;e.paused&&e.networkState<=e.HAVE_METADATA?(this.el_.play(),this.setTimeout(function(){e.pause(),e.webkitEnterFullScreen()},0)):e.webkitEnterFullScreen()},n.exitFullScreen=function(){this.el_.webkitExitFullScreen()},n.requestPictureInPicture=function(){return this.el_.requestPictureInPicture()},n.src=function(e){return void 0===e?this.el_.src:void this.setSrc(e)},n.reset=function(){t.resetMediaElement(this.el_)},n.currentSrc=function(){return this.currentSource_?this.currentSource_.src:this.el_.currentSrc},n.setControls=function(e){this.el_.controls=!!e},n.addTextTrack=function(t,n,i){return this.featuresNativeTextTracks?this.el_.addTextTrack(t,n,i):e.prototype.addTextTrack.call(this,t,n,i)},n.createRemoteTextTrack=function(t){if(!this.featuresNativeTextTracks)return e.prototype.createRemoteTextTrack.call(this,t);var n=ze.createElement("track");return t.kind&&(n.kind=t.kind),t.label&&(n.label=t.label),(t.language||t.srclang)&&(n.srclang=t.language||t.srclang),t.default&&(n.default=t.default),t.id&&(n.id=t.id),t.src&&(n.src=t.src),n},n.addRemoteTextTrack=function(t,n){var i=e.prototype.addRemoteTextTrack.call(this,t,n);return this.featuresNativeTextTracks&&this.el().appendChild(i),i},n.removeRemoteTextTrack=function(t){if(e.prototype.removeRemoteTextTrack.call(this,t),this.featuresNativeTextTracks)for(var n=this.$$("track"),i=n.length;i--;)t!==n[i]&&t!==n[i].track||this.el().removeChild(n[i])},n.getVideoPlaybackQuality=function(){if("function"==typeof this.el().getVideoPlaybackQuality)return this.el().getVideoPlaybackQuality();var e={};return"undefined"!=typeof this.el().webkitDroppedFrameCount&&"undefined"!=typeof this.el().webkitDecodedFrameCount&&(e.droppedVideoFrames=this.el().webkitDroppedFrameCount,e.totalVideoFrames=this.el().webkitDecodedFrameCount),Fe.performance&&"function"==typeof Fe.performance.now?e.creationTime=Fe.performance.now():Fe.performance&&Fe.performance.timing&&"number"==typeof Fe.performance.timing.navigationStart&&(e.creationTime=Fe.Date.now()-Fe.performance.timing.navigationStart),e},t}(ti);if(p()){qa.TEST_VID=ze.createElement("video");var $a=ze.createElement("track");$a.kind="captions",$a.srclang="en",$a.label="English",qa.TEST_VID.appendChild($a)}qa.isSupported=function(){try{qa.TEST_VID.volume=.5}catch(e){return!1}return!(!qa.TEST_VID||!qa.TEST_VID.canPlayType)},qa.canPlayType=function(e){return qa.TEST_VID.canPlayType(e)},qa.canPlaySource=function(e,t){return qa.canPlayType(e.type)},qa.canControlVolume=function(){try{var e=qa.TEST_VID.volume;return qa.TEST_VID.volume=e/2+.1,e!==qa.TEST_VID.volume}catch(e){return!1}},qa.canMuteVolume=function(){try{var e=qa.TEST_VID.muted;return qa.TEST_VID.muted=!e,qa.TEST_VID.muted?I(qa.TEST_VID,"muted","muted"):L(qa.TEST_VID,"muted","muted"),e!==qa.TEST_VID.muted}catch(e){return!1}},qa.canControlPlaybackRate=function(){if(Qt&&nn&&an<58)return!1;try{var e=qa.TEST_VID.playbackRate;return qa.TEST_VID.playbackRate=e/2+.1,e!==qa.TEST_VID.playbackRate}catch(e){return!1}},qa.canOverrideAttributes=function(){try{var e=function(){};Object.defineProperty(ze.createElement("video"),"src",{get:e,set:e}),Object.defineProperty(ze.createElement("audio"),"src",{get:e,set:e}),Object.defineProperty(ze.createElement("video"),"innerHTML",{get:e,set:e}),Object.defineProperty(ze.createElement("audio"),"innerHTML",{get:e,set:e})}catch(e){return!1}return!0},qa.supportsNativeTextTracks=function(){return on||Yt&&nn},qa.supportsNativeVideoTracks=function(){return!(!qa.TEST_VID||!qa.TEST_VID.videoTracks)},qa.supportsNativeAudioTracks=function(){return!(!qa.TEST_VID||!qa.TEST_VID.audioTracks)},qa.Events=["loadstart","suspend","abort","error","emptied","stalled","loadedmetadata","loadeddata","canplay","canplaythrough","playing","waiting","seeking","seeked","ended","durationchange","timeupdate","progress","play","pause","ratechange","resize","volumechange"],qa.prototype.featuresVolumeControl=qa.canControlVolume(),qa.prototype.featuresMuteControl=qa.canMuteVolume(),qa.prototype.featuresPlaybackRate=qa.canControlPlaybackRate(),qa.prototype.featuresSourceset=qa.canOverrideAttributes(),qa.prototype.movingMediaElementInDOM=!Yt,qa.prototype.featuresFullscreenResize=!0,qa.prototype.featuresProgressEvents=!0,qa.prototype.featuresTimeupdateEvents=!0,qa.prototype.featuresNativeTextTracks=qa.supportsNativeTextTracks(),qa.prototype.featuresNativeVideoTracks=qa.supportsNativeVideoTracks(),qa.prototype.featuresNativeAudioTracks=qa.supportsNativeAudioTracks();var Ya=qa.TEST_VID&&qa.TEST_VID.constructor.prototype.canPlayType,Xa=/^application\/(?:x-|vnd\.apple\.)mpegurl/i;qa.patchCanPlayType=function(){Jt>=4&&!en&&!nn&&(qa.TEST_VID.constructor.prototype.canPlayType=function(e){return e&&Xa.test(e)?"maybe":Ya.call(this,e)})},qa.unpatchCanPlayType=function(){var e=qa.TEST_VID.constructor.prototype.canPlayType;return qa.TEST_VID.constructor.prototype.canPlayType=Ya,e},qa.patchCanPlayType(),qa.disposeMediaElement=function(e){if(e){for(e.parentNode&&e.parentNode.removeChild(e);e.hasChildNodes();)e.removeChild(e.firstChild);e.removeAttribute("src"),"function"==typeof e.load&&!function(){try{e.load()}catch(e){}}()}},qa.resetMediaElement=function(e){if(e){for(var t=e.querySelectorAll("source"),n=t.length;n--;)e.removeChild(t[n]);e.removeAttribute("src"),"function"==typeof e.load&&!function(){try{e.load()}catch(e){}}()}},["muted","defaultMuted","autoplay","controls","loop","playsinline"].forEach(function(e){qa.prototype[e]=function(){return this.el_[e]||this.el_.hasAttribute(e)}}),["muted","defaultMuted","autoplay","loop","playsinline"].forEach(function(e){qa.prototype["set"+Ut(e)]=function(t){this.el_[e]=t,t?this.el_.setAttribute(e,e):this.el_.removeAttribute(e)}}),["paused","currentTime","buffered","volume","poster","preload","error","seeking","seekable","ended","playbackRate","defaultPlaybackRate","played","networkState","readyState","videoWidth","videoHeight"].forEach(function(e){qa.prototype[e]=function(){return this.el_[e]}}),["volume","src","poster","preload","playbackRate","defaultPlaybackRate"].forEach(function(e){qa.prototype["set"+Ut(e)]=function(t){this.el_[e]=t}}),["pause","load","play"].forEach(function(e){qa.prototype[e]=function(){return this.el_[e]()}}),ti.withSourceHandlers(qa),qa.nativeSourceHandler={},qa.nativeSourceHandler.canPlayType=function(e){try{return qa.TEST_VID.canPlayType(e)}catch(e){return""}},qa.nativeSourceHandler.canHandleSource=function(e,t){if(e.type)return qa.nativeSourceHandler.canPlayType(e.type);if(e.src){var n=Un(e.src);return qa.nativeSourceHandler.canPlayType("video/"+n)}return""},qa.nativeSourceHandler.handleSource=function(e,t,n){t.setSrc(e.src)},qa.nativeSourceHandler.dispose=function(){},qa.registerSourceHandler(qa.nativeSourceHandler),ti.registerTech("Html5",qa);var Qa=["progress","abort","suspend","emptied","stalled","loadedmetadata","loadeddata","timeupdate","resize","volumechange","texttrackchange"],Ja={canplay:"CanPlay",canplaythrough:"CanPlayThrough",playing:"Playing",seeked:"Seeked"},Za=["tiny","xsmall","small","medium","large","xlarge","huge"],er={};Za.forEach(function(e){var t="x"===e.charAt(0)?"x-"+e.substring(1):e;er[e]="vjs-layout-"+t});var tr={tiny:210,xsmall:320,small:425,medium:768,large:1440,xlarge:2560,huge:1/0},nr=function(e){function t(n,i,a){var r;if(n.id=n.id||i.id||"vjs_video_"+K(),i=o(t.getTagSettings(n),i),i.initChildren=!1,i.createEl=!1,i.evented=!1,i.reportTouchActivity=!1,!i.language)if("function"==typeof n.closest){var s=n.closest("[lang]");s&&s.getAttribute&&(i.language=s.getAttribute("lang"))}else for(var l=n;l&&1===l.nodeType;){if(E(l).hasOwnProperty("lang")){i.language=l.getAttribute("lang");break}l=l.parentNode}if(r=e.call(this,null,i,a)||this,r.boundDocumentFullscreenChange_=St(re(r),r.documentFullscreenChange_),r.boundFullWindowOnEscKey_=St(re(r),r.fullWindowOnEscKey),r.log=rt(r.id_),r.fsApi_=dn,r.isPosterFromTech_=!1,r.queuedCallbacks_=[],r.isReady_=!1,r.hasStarted_=!1,r.userActive_=!1,!r.options_||!r.options_.techOrder||!r.options_.techOrder.length)throw new Error("No techOrder specified. Did you overwrite videojs.options instead of just changing the properties you want to override?");if(r.tag=n,r.tagAttributes=n&&E(n),r.language(r.options_.language),i.languages){var u={};Object.getOwnPropertyNames(i.languages).forEach(function(e){u[e.toLowerCase()]=i.languages[e]}),r.languages_=u}else r.languages_=t.prototype.options_.languages;r.resetCache_(),r.poster_=i.poster||"",r.controls_=!!i.controls,n.controls=!1,n.removeAttribute("controls"),r.changingSrc_=!1,r.playCallbacks_=[],r.playTerminatedQueue_=[],n.hasAttribute("autoplay")?r.autoplay(!0):r.autoplay(r.options_.autoplay),i.plugins&&Object.keys(i.plugins).forEach(function(e){if("function"!=typeof r[e])throw new Error('plugin "'+e+'" does not exist')}),r.scrubbing_=!1,r.el_=r.createEl(),J(re(r),{eventBusKey:"el_"}),r.fluid_&&r.on("playerreset",r.updateStyleEl_);var c=ee(r.options_);i.plugins&&Object.keys(i.plugins).forEach(function(e){r[e](i.plugins[e])}),r.options_.playerOptions=c,r.middleware_=[],r.initChildren(),r.isAudio("audio"===n.nodeName.toLowerCase()),r.controls()?r.addClass("vjs-controls-enabled"):r.addClass("vjs-controls-disabled"),r.el_.setAttribute("role","region"),r.isAudio()?r.el_.setAttribute("aria-label",r.localize("Audio Player")):r.el_.setAttribute("aria-label",r.localize("Video Player")),r.isAudio()&&r.addClass("vjs-audio"),r.flexNotSupported_()&&r.addClass("vjs-no-flex"),un&&r.addClass("vjs-touch-enabled"),Yt||r.addClass("vjs-workinghover"),t.players[r.id_]=re(r);var d=tt.split(".")[0];return r.addClass("vjs-v"+d),r.userActive(!0),r.reportUserActivity(),r.one("play",r.listenForUserActivity_),r.on("stageclick",r.handleStageClick_),r.on("keydown",r.handleKeyDown),r.breakpoints(r.options_.breakpoints),r.responsive(r.options_.responsive),r}te(t,e);var n=t.prototype;return n.dispose=function(){var n=this;this.trigger("dispose"),this.off("dispose"),$(ze,this.fsApi_.fullscreenchange,this.boundDocumentFullscreenChange_),$(ze,"keydown",this.boundFullWindowOnEscKey_),this.styleEl_&&this.styleEl_.parentNode&&(this.styleEl_.parentNode.removeChild(this.styleEl_),this.styleEl_=null),t.players[this.id_]=null,this.tag&&this.tag.player&&(this.tag.player=null),this.el_&&this.el_.player&&(this.el_.player=null),this.tech_&&(this.tech_.dispose(),this.isPosterFromTech_=!1,this.poster_=""),this.playerElIngest_&&(this.playerElIngest_=null),this.tag&&(this.tag=null),Se(this),ei.names.forEach(function(e){var t=ei[e],i=n[t.getterName]();i&&i.off&&i.off()}),e.prototype.dispose.call(this)},n.createEl=function(){var t,n=this.tag,i=this.playerElIngest_=n.parentNode&&n.parentNode.hasAttribute&&n.parentNode.hasAttribute("data-vjs-player"),a="video-js"===this.tag.tagName.toLowerCase();i?t=this.el_=n.parentNode:a||(t=this.el_=e.prototype.createEl.call(this,"div"));var r=E(n);if(a){for(t=this.el_=n,n=this.tag=ze.createElement("video");t.children.length;)n.appendChild(t.firstChild);T(t,"video-js")||k(t,"video-js"),t.appendChild(n),i=this.playerElIngest_=t,Object.keys(t).forEach(function(e){try{n[e]=t[e]}catch(e){}})}if(n.setAttribute("tabindex","-1"),r.tabindex="-1",(rn||nn&&ln)&&(n.setAttribute("role","application"),r.role="application"),n.removeAttribute("width"),n.removeAttribute("height"),"width"in r&&delete r.width,"height"in r&&delete r.height,Object.getOwnPropertyNames(r).forEach(function(e){a&&"class"===e||t.setAttribute(e,r[e]),a&&n.setAttribute(e,r[e])}),n.playerId=n.id,n.id+="_html5_api",n.className="vjs-tech",n.player=t.player=this,this.addClass("vjs-paused"),Fe.VIDEOJS_NO_DYNAMIC_STYLE!==!0){this.styleEl_=pt("vjs-styles-dimensions");var s=lt(".vjs-styles-defaults"),o=lt("head");o.insertBefore(this.styleEl_,s?s.nextSibling:o.firstChild)}this.fill_=!1,this.fluid_=!1,this.width(this.options_.width),this.height(this.options_.height),this.fill(this.options_.fill),this.fluid(this.options_.fluid),this.aspectRatio(this.options_.aspectRatio);for(var l=n.getElementsByTagName("a"),u=0;u<l.length;u++){var c=l.item(u);k(c,"vjs-hidden"),c.setAttribute("hidden","hidden")}return n.initNetworkState_=n.networkState,n.parentNode&&!i&&n.parentNode.insertBefore(t,n),b(n,t),this.children_.unshift(n),this.el_.setAttribute("lang",this.language_),this.el_=t,t},n.width=function(e){return this.dimension("width",e)},n.height=function(e){return this.dimension("height",e)},n.dimension=function(e,t){var n=e+"_";if(void 0===t)return this[n]||0;if(""===t)return this[n]=void 0,void this.updateStyleEl_();var i=parseFloat(t);return isNaN(i)?void at.error('Improper value "'+t+'" supplied for for '+e):(this[n]=i,void this.updateStyleEl_())},n.fluid=function(e){return void 0===e?!!this.fluid_:(this.fluid_=!!e,It(this)&&this.off("playerreset",this.updateStyleEl_),e?(this.addClass("vjs-fluid"),this.fill(!1),Lt(function(){this.on("playerreset",this.updateStyleEl_)})):this.removeClass("vjs-fluid"),void this.updateStyleEl_())},n.fill=function(e){return void 0===e?!!this.fill_:(this.fill_=!!e,void(e?(this.addClass("vjs-fill"),this.fluid(!1)):this.removeClass("vjs-fill")))},n.aspectRatio=function(e){if(void 0===e)return this.aspectRatio_;if(!/^\d+\:\d+$/.test(e))throw new Error("Improper value supplied for aspect ratio. The format should be width:height, for example 16:9.");this.aspectRatio_=e,this.fluid(!0),this.updateStyleEl_()},n.updateStyleEl_=function(){if(Fe.VIDEOJS_NO_DYNAMIC_STYLE===!0){var e="number"==typeof this.width_?this.width_:this.options_.width,t="number"==typeof this.height_?this.height_:this.options_.height,n=this.tech_&&this.tech_.el();return void(n&&(e>=0&&(n.width=e),t>=0&&(n.height=t)))}var i,a,r,s;r=void 0!==this.aspectRatio_&&"auto"!==this.aspectRatio_?this.aspectRatio_:this.videoWidth()>0?this.videoWidth()+":"+this.videoHeight():"16:9";var o=r.split(":"),l=o[1]/o[0];i=void 0!==this.width_?this.width_:void 0!==this.height_?this.height_/l:this.videoWidth()||300,a=void 0!==this.height_?this.height_:i*l,s=/^[^a-zA-Z]/.test(this.id())?"dimensions-"+this.id():this.id()+"-dimensions",this.addClass(s),mt(this.styleEl_,"\n      ."+s+" {\n        width: "+i+"px;\n        height: "+a+"px;\n      }\n\n      ."+s+".vjs-fluid {\n        padding-top: "+100*l+"%;\n      }\n    ")},n.loadTech_=function(e,t){var n=this;this.tech_&&this.unloadTech_();var i=Ut(e),a=e.charAt(0).toLowerCase()+e.slice(1);"Html5"!==i&&this.tag&&(ti.getTech("Html5").disposeMediaElement(this.tag),this.tag.player=null,this.tag=null),this.techName_=i,this.isReady_=!1;var r="string"!=typeof this.autoplay()&&this.autoplay(),s={source:t,autoplay:r,nativeControlsForTouch:this.options_.nativeControlsForTouch,playerId:this.id(),techId:this.id()+"_"+a+"_api",playsinline:this.options_.playsinline,preload:this.options_.preload,loop:this.options_.loop,muted:this.options_.muted,poster:this.poster(),language:this.language(),playerElIngest:this.playerElIngest_||!1,"vtt.js":this.options_["vtt.js"],canOverridePoster:!!this.options_.techCanOverridePoster,enableSourceset:this.options_.enableSourceset,Promise:this.options_.Promise};ei.names.forEach(function(e){var t=ei[e];s[t.getterName]=n[t.privateName]}),o(s,this.options_[i]),o(s,this.options_[a]),o(s,this.options_[e.toLowerCase()]),this.tag&&(s.tag=this.tag),t&&t.src===this.cache_.src&&this.cache_.currentTime>0&&(s.startTime=this.cache_.currentTime);var l=ti.getTech(e);if(!l)throw new Error("No Tech named '"+i+"' exists! '"+i+"' should be registered using videojs.registerTech()'");this.tech_=new l(s),this.tech_.ready(St(this,this.handleTechReady_),!0),bn.jsonToTextTracks(this.textTracksJson_||[],this.tech_),Qa.forEach(function(e){n.on(n.tech_,e,n["handleTech"+Ut(e)+"_"])}),Object.keys(Ja).forEach(function(e){n.on(n.tech_,e,function(t){return 0===n.tech_.playbackRate()&&n.tech_.seeking()?void n.queuedCallbacks_.push({callback:n["handleTech"+Ja[e]+"_"].bind(n),event:t}):void n["handleTech"+Ja[e]+"_"](t)})}),this.on(this.tech_,"loadstart",this.handleTechLoadStart_),this.on(this.tech_,"sourceset",this.handleTechSourceset_),this.on(this.tech_,"waiting",this.handleTechWaiting_),this.on(this.tech_,"ended",this.handleTechEnded_),this.on(this.tech_,"seeking",this.handleTechSeeking_),this.on(this.tech_,"play",this.handleTechPlay_),this.on(this.tech_,"firstplay",this.handleTechFirstPlay_),this.on(this.tech_,"pause",this.handleTechPause_),this.on(this.tech_,"durationchange",this.handleTechDurationChange_),this.on(this.tech_,"fullscreenchange",this.handleTechFullscreenChange_),this.on(this.tech_,"enterpictureinpicture",this.handleTechEnterPictureInPicture_),this.on(this.tech_,"leavepictureinpicture",this.handleTechLeavePictureInPicture_),this.on(this.tech_,"error",this.handleTechError_),this.on(this.tech_,"loadedmetadata",this.updateStyleEl_),this.on(this.tech_,"posterchange",this.handleTechPosterChange_),this.on(this.tech_,"textdata",this.handleTechTextData_),
this.on(this.tech_,"ratechange",this.handleTechRateChange_),this.usingNativeControls(this.techGet_("controls")),this.controls()&&!this.usingNativeControls()&&this.addTechControlsListeners_(),this.tech_.el().parentNode===this.el()||"Html5"===i&&this.tag||b(this.tech_.el(),this.el()),this.tag&&(this.tag.player=null,this.tag=null)},n.unloadTech_=function(){var e=this;ei.names.forEach(function(t){var n=ei[t];e[n.privateName]=e[n.getterName]()}),this.textTracksJson_=bn.textTracksToJson(this.tech_),this.isReady_=!1,this.tech_.dispose(),this.tech_=!1,this.isPosterFromTech_&&(this.poster_="",this.trigger("posterchange")),this.isPosterFromTech_=!1},n.tech=function(e){return void 0===e&&at.warn("Using the tech directly can be dangerous. I hope you know what you're doing.\nSee https://github.com/videojs/video.js/issues/2617 for more info.\n"),this.tech_},n.addTechControlsListeners_=function(){this.removeTechControlsListeners_(),this.on(this.tech_,"mouseup",this.handleTechClick_),this.on(this.tech_,"dblclick",this.handleTechDoubleClick_),this.on(this.tech_,"touchstart",this.handleTechTouchStart_),this.on(this.tech_,"touchmove",this.handleTechTouchMove_),this.on(this.tech_,"touchend",this.handleTechTouchEnd_),this.on(this.tech_,"tap",this.handleTechTap_)},n.removeTechControlsListeners_=function(){this.off(this.tech_,"tap",this.handleTechTap_),this.off(this.tech_,"touchstart",this.handleTechTouchStart_),this.off(this.tech_,"touchmove",this.handleTechTouchMove_),this.off(this.tech_,"touchend",this.handleTechTouchEnd_),this.off(this.tech_,"mouseup",this.handleTechClick_),this.off(this.tech_,"dblclick",this.handleTechDoubleClick_)},n.handleTechReady_=function(){this.triggerReady(),this.cache_.volume&&this.techCall_("setVolume",this.cache_.volume),this.handleTechPosterChange_(),this.handleTechDurationChange_()},n.handleTechLoadStart_=function(){this.removeClass("vjs-ended"),this.removeClass("vjs-seeking"),this.error(null),this.handleTechDurationChange_(),this.paused()?(this.hasStarted(!1),this.trigger("loadstart")):(this.trigger("loadstart"),this.trigger("firstplay")),this.manualAutoplay_(this.autoplay())},n.manualAutoplay_=function(e){var t=this;if(this.tech_&&"string"==typeof e){var n,i=function(){var e=t.muted();t.muted(!0);var n=function(){t.muted(e)};t.playTerminatedQueue_.push(n);var i=t.play();if(he(i))return i.catch(n)};if("any"===e&&this.muted()!==!0?(n=this.play(),he(n)&&(n=n.catch(i))):n="muted"===e&&this.muted()!==!0?i():this.play(),he(n))return n.then(function(){t.trigger({type:"autoplay-success",autoplay:e})}).catch(function(n){t.trigger({type:"autoplay-failure",autoplay:e})})}},n.updateSourceCaches_=function(e){void 0===e&&(e="");var t=e,n="";"string"!=typeof t&&(t=e.src,n=e.type),this.cache_.source=this.cache_.source||{},this.cache_.sources=this.cache_.sources||[],t&&!n&&(n=ci(this,t)),this.cache_.source=ee({},e,{src:t,type:n});for(var i=this.cache_.sources.filter(function(e){return e.src&&e.src===t}),a=[],r=this.$$("source"),s=[],o=0;o<r.length;o++){var l=E(r[o]);a.push(l),l.src&&l.src===t&&s.push(l.src)}s.length&&!i.length?this.cache_.sources=a:i.length||(this.cache_.sources=[this.cache_.source]),this.cache_.src=t},n.handleTechSourceset_=function(e){var t=this;if(!this.changingSrc_){var n=function(e){return t.updateSourceCaches_(e)},i=this.currentSource().src,a=e.src;i&&!/^blob:/.test(i)&&/^blob:/.test(a)&&(!this.lastSource_||this.lastSource_.tech!==a&&this.lastSource_.player!==i)&&(n=function(){}),n(a),e.src||this.tech_.any(["sourceset","loadstart"],function(e){if("sourceset"!==e.type){var n=t.techGet("currentSrc");t.lastSource_.tech=n,t.updateSourceCaches_(n)}})}this.lastSource_={player:this.currentSource().src,tech:e.src},this.trigger({src:e.src,type:"sourceset"})},n.hasStarted=function(e){return void 0===e?this.hasStarted_:void(e!==this.hasStarted_&&(this.hasStarted_=e,this.hasStarted_?(this.addClass("vjs-has-started"),this.trigger("firstplay")):this.removeClass("vjs-has-started")))},n.handleTechPlay_=function(){this.removeClass("vjs-ended"),this.removeClass("vjs-paused"),this.addClass("vjs-playing"),this.hasStarted(!0),this.trigger("play")},n.handleTechRateChange_=function(){this.tech_.playbackRate()>0&&0===this.cache_.lastPlaybackRate&&(this.queuedCallbacks_.forEach(function(e){return e.callback(e.event)}),this.queuedCallbacks_=[]),this.cache_.lastPlaybackRate=this.tech_.playbackRate(),this.trigger("ratechange")},n.handleTechWaiting_=function(){var e=this;this.addClass("vjs-waiting"),this.trigger("waiting");var t=this.currentTime(),n=function n(){t!==e.currentTime()&&(e.removeClass("vjs-waiting"),e.off("timeupdate",n))};this.on("timeupdate",n)},n.handleTechCanPlay_=function(){this.removeClass("vjs-waiting"),this.trigger("canplay")},n.handleTechCanPlayThrough_=function(){this.removeClass("vjs-waiting"),this.trigger("canplaythrough")},n.handleTechPlaying_=function(){this.removeClass("vjs-waiting"),this.trigger("playing")},n.handleTechSeeking_=function(){this.addClass("vjs-seeking"),this.trigger("seeking")},n.handleTechSeeked_=function(){this.removeClass("vjs-seeking"),this.removeClass("vjs-ended"),this.trigger("seeked")},n.handleTechFirstPlay_=function(){this.options_.starttime&&(at.warn("Passing the `starttime` option to the player will be deprecated in 6.0"),this.currentTime(this.options_.starttime)),this.addClass("vjs-has-started"),this.trigger("firstplay")},n.handleTechPause_=function(){this.removeClass("vjs-playing"),this.addClass("vjs-paused"),this.trigger("pause")},n.handleTechEnded_=function(){this.addClass("vjs-ended"),this.options_.loop?(this.currentTime(0),this.play()):this.paused()||this.pause(),this.trigger("ended")},n.handleTechDurationChange_=function(){this.duration(this.techGet_("duration"))},n.handleTechClick_=function(e){H(e)&&this.controls_&&(this.paused()?fe(this.play()):this.pause())},n.handleTechDoubleClick_=function(e){if(this.controls_){var t=Array.prototype.some.call(this.$$(".vjs-control-bar, .vjs-modal-dialog"),function(t){return t.contains(e.target)});t||void 0!==this.options_&&void 0!==this.options_.userActions&&void 0!==this.options_.userActions.doubleClick&&this.options_.userActions.doubleClick===!1||(void 0!==this.options_&&void 0!==this.options_.userActions&&"function"==typeof this.options_.userActions.doubleClick?this.options_.userActions.doubleClick.call(this,e):this.isFullscreen()?this.exitFullscreen():this.requestFullscreen())}},n.handleTechTap_=function(){this.userActive(!this.userActive())},n.handleTechTouchStart_=function(){this.userWasActive=this.userActive()},n.handleTechTouchMove_=function(){this.userWasActive&&this.reportUserActivity()},n.handleTechTouchEnd_=function(e){e.preventDefault()},n.handleStageClick_=function(){this.reportUserActivity()},n.toggleFullscreenClass_=function(){this.isFullscreen()?this.addClass("vjs-fullscreen"):this.removeClass("vjs-fullscreen")},n.documentFullscreenChange_=function(e){var t=this.el(),n=ze[this.fsApi_.fullscreenElement]===t;!n&&t.matches?n=t.matches(":"+this.fsApi_.fullscreen):!n&&t.msMatchesSelector&&(n=t.msMatchesSelector(":"+this.fsApi_.fullscreen)),this.isFullscreen(n),this.isFullscreen()===!1&&$(ze,this.fsApi_.fullscreenchange,this.boundDocumentFullscreenChange_),this.fsApi_.prefixed&&this.trigger("fullscreenchange")},n.handleTechFullscreenChange_=function(e,t){t&&this.isFullscreen(t.isFullscreen),this.trigger("fullscreenchange")},n.togglePictureInPictureClass_=function(){this.isInPictureInPicture()?this.addClass("vjs-picture-in-picture"):this.removeClass("vjs-picture-in-picture")},n.handleTechEnterPictureInPicture_=function(e){this.isInPictureInPicture(!0)},n.handleTechLeavePictureInPicture_=function(e){this.isInPictureInPicture(!1)},n.handleTechError_=function(){var e=this.tech_.error();this.error(e)},n.handleTechTextData_=function(){var e=null;arguments.length>1&&(e=arguments[1]),this.trigger("textdata",e)},n.getCache=function(){return this.cache_},n.resetCache_=function(){this.cache_={currentTime:0,inactivityTimeout:this.options_.inactivityTimeout,duration:NaN,lastVolume:1,lastPlaybackRate:this.defaultPlaybackRate(),media:null,src:"",source:{},sources:[],volume:1}},n.techCall_=function(e,t){this.ready(function(){if(e in si)return _e(this.middleware_,this.tech_,e,t);if(e in oi)return be(this.middleware_,this.tech_,e,t);try{this.tech_&&this.tech_[e](t)}catch(e){throw at(e),e}},!0)},n.techGet_=function(e){if(this.tech_&&this.tech_.isReady_){if(e in ri)return ye(this.middleware_,this.tech_,e);if(e in oi)return be(this.middleware_,this.tech_,e);try{return this.tech_[e]()}catch(t){if(void 0===this.tech_[e])throw at("Video.js: "+e+" method not defined for "+this.techName_+" playback technology.",t),t;if("TypeError"===t.name)throw at("Video.js: "+e+" unavailable on "+this.techName_+" playback technology element.",t),this.tech_.isReady_=!1,t;throw at(t),t}}},n.play=function(){var e=this,t=this.options_.Promise||Fe.Promise;return t?new t(function(t){e.play_(t)}):this.play_()},n.play_=function(e){var t=this;void 0===e&&(e=fe),this.playCallbacks_.push(e);var n=Boolean(!this.changingSrc_&&(this.src()||this.currentSrc()));if(this.waitToPlay_&&(this.off(["ready","loadstart"],this.waitToPlay_),this.waitToPlay_=null),!this.isReady_||!n)return this.waitToPlay_=function(e){t.play_()},this.one(["ready","loadstart"],this.waitToPlay_),void(n||!on&&!Yt||this.load());var i=this.techGet_("play");null===i?this.runPlayTerminatedQueue_():this.runPlayCallbacks_(i)},n.runPlayTerminatedQueue_=function(){var e=this.playTerminatedQueue_.slice(0);this.playTerminatedQueue_=[],e.forEach(function(e){e()})},n.runPlayCallbacks_=function(e){var t=this.playCallbacks_.slice(0);this.playCallbacks_=[],this.playTerminatedQueue_=[],t.forEach(function(t){t(e)})},n.pause=function(){this.techCall_("pause")},n.paused=function(){return this.techGet_("paused")!==!1},n.played=function(){return this.techGet_("played")||ue(0,0)},n.scrubbing=function(e){return"undefined"==typeof e?this.scrubbing_:(this.scrubbing_=!!e,void(e?this.addClass("vjs-scrubbing"):this.removeClass("vjs-scrubbing")))},n.currentTime=function(e){return"undefined"!=typeof e?(e<0&&(e=0),void this.techCall_("setCurrentTime",e)):(this.cache_.currentTime=this.techGet_("currentTime")||0,this.cache_.currentTime)},n.duration=function(e){return void 0===e?void 0!==this.cache_.duration?this.cache_.duration:NaN:(e=parseFloat(e),e<0&&(e=1/0),void(e!==this.cache_.duration&&(this.cache_.duration=e,e===1/0?(this.addClass("vjs-live"),this.options_.liveui&&this.player_.liveTracker&&this.addClass("vjs-liveui")):(this.removeClass("vjs-live"),this.removeClass("vjs-liveui")),isNaN(e)||this.trigger("durationchange"))))},n.remainingTime=function(){return this.duration()-this.currentTime()},n.remainingTimeDisplay=function(){return Math.floor(this.duration())-Math.floor(this.currentTime())},n.buffered=function e(){var e=this.techGet_("buffered");return e&&e.length||(e=ue(0,0)),e},n.bufferedPercent=function(){return ce(this.buffered(),this.duration())},n.bufferedEnd=function(){var e=this.buffered(),t=this.duration(),n=e.end(e.length-1);return n>t&&(n=t),n},n.volume=function(e){var t;return void 0!==e?(t=Math.max(0,Math.min(1,parseFloat(e))),this.cache_.volume=t,this.techCall_("setVolume",t),void(t>0&&this.lastVolume_(t))):(t=parseFloat(this.techGet_("volume")),isNaN(t)?1:t)},n.muted=function(e){return void 0!==e?void this.techCall_("setMuted",e):this.techGet_("muted")||!1},n.defaultMuted=function(e){return void 0!==e?this.techCall_("setDefaultMuted",e):this.techGet_("defaultMuted")||!1},n.lastVolume_=function(e){return void 0!==e&&0!==e?void(this.cache_.lastVolume=e):this.cache_.lastVolume},n.supportsFullScreen=function(){return this.techGet_("supportsFullScreen")||!1},n.isFullscreen=function(e){return void 0!==e?(this.isFullscreen_=!!e,void this.toggleFullscreenClass_()):!!this.isFullscreen_},n.requestFullscreen=function(e){var t;this.isFullscreen(!0),this.fsApi_.requestFullscreen?(q(ze,this.fsApi_.fullscreenchange,this.boundDocumentFullscreenChange_),this.fsApi_.prefixed||(t=this.options_.fullscreen&&this.options_.fullscreen.options||{},void 0!==e&&(t=e)),fe(this.el_[this.fsApi_.requestFullscreen](t))):this.tech_.supportsFullScreen()?this.techCall_("enterFullScreen"):(this.enterFullWindow(),this.trigger("fullscreenchange"))},n.exitFullscreen=function(){this.isFullscreen(!1),this.fsApi_.requestFullscreen?fe(ze[this.fsApi_.exitFullscreen]()):this.tech_.supportsFullScreen()?this.techCall_("exitFullScreen"):(this.exitFullWindow(),this.trigger("fullscreenchange"))},n.enterFullWindow=function(){this.isFullWindow=!0,this.docOrigOverflow=ze.documentElement.style.overflow,q(ze,"keydown",this.boundFullWindowOnEscKey_),ze.documentElement.style.overflow="hidden",k(ze.body,"vjs-full-window"),this.trigger("enterFullWindow")},n.fullWindowOnEscKey=function(e){Ge.isEventKey(e,"Esc")&&(this.isFullscreen()===!0?this.exitFullscreen():this.exitFullWindow())},n.exitFullWindow=function(){this.isFullWindow=!1,$(ze,"keydown",this.boundFullWindowOnEscKey_),ze.documentElement.style.overflow=this.docOrigOverflow,S(ze.body,"vjs-full-window"),this.trigger("exitFullWindow")},n.isInPictureInPicture=function(e){return void 0!==e?(this.isInPictureInPicture_=!!e,void this.togglePictureInPictureClass_()):!!this.isInPictureInPicture_},n.requestPictureInPicture=function(){if("pictureInPictureEnabled"in ze)return this.techGet_("requestPictureInPicture")},n.exitPictureInPicture=function(){if("pictureInPictureEnabled"in ze)return ze.exitPictureInPicture()},n.handleKeyDown=function(e){var t=this.options_.userActions;if(t&&t.hotkeys){var n=function(e){var t=e.tagName.toLowerCase();if(e.isContentEditable)return!0;var n=["button","checkbox","hidden","radio","reset","submit"];if("input"===t)return n.indexOf(e.type)===-1;var i=["textarea"];return i.indexOf(t)!==-1};n(this.el_.ownerDocument.activeElement)||("function"==typeof t.hotkeys?t.hotkeys.call(this,e):this.handleHotkeys(e))}},n.handleHotkeys=function(e){var t=this.options_.userActions?this.options_.userActions.hotkeys:{},n=t.fullscreenKey,i=void 0===n?function(e){return Ge.isEventKey(e,"f")}:n,a=t.muteKey,r=void 0===a?function(e){return Ge.isEventKey(e,"m")}:a,s=t.playPauseKey,o=void 0===s?function(e){return Ge.isEventKey(e,"k")||Ge.isEventKey(e,"Space")}:s;if(i.call(this,e)){e.preventDefault(),e.stopPropagation();var l=Ft.getComponent("FullscreenToggle");ze[this.fsApi_.fullscreenEnabled]!==!1&&l.prototype.handleClick.call(this,e)}else if(r.call(this,e)){e.preventDefault(),e.stopPropagation();var u=Ft.getComponent("MuteToggle");u.prototype.handleClick.call(this,e)}else if(o.call(this,e)){e.preventDefault(),e.stopPropagation();var c=Ft.getComponent("PlayToggle");c.prototype.handleClick.call(this,e)}},n.canPlayType=function(e){for(var t,n=0,i=this.options_.techOrder;n<i.length;n++){var a=i[n],r=ti.getTech(a);if(r||(r=Ft.getComponent(a)),r){if(r.isSupported()&&(t=r.canPlayType(e)))return t}else at.error('The "'+a+'" tech is undefined. Skipped browser support check for that tech.')}return""},n.selectSource=function(e){var t,n=this,i=this.options_.techOrder.map(function(e){return[e,ti.getTech(e)]}).filter(function(e){var t=e[0],n=e[1];return n?n.isSupported():(at.error('The "'+t+'" tech is undefined. Skipped browser support check for that tech.'),!1)}),a=function(e,t,n){var i;return e.some(function(e){return t.some(function(t){if(i=n(e,t))return!0})}),i},r=function(e){return function(t,n){return e(n,t)}},s=function(e,t){var i=e[0],a=e[1];if(a.canPlaySource(t,n.options_[i.toLowerCase()]))return{source:t,tech:i}};return t=this.options_.sourceOrder?a(e,i,r(s)):a(i,e,s),t||!1},n.src=function(e){var t=this;if("undefined"==typeof e)return this.cache_.src||"";var n=di(e);return n.length?(this.changingSrc_=!0,this.cache_.sources=n,this.updateSourceCaches_(n[0]),void ge(this,n[0],function(e,i){t.middleware_=i,t.cache_.sources=n,t.updateSourceCaches_(e);var a=t.src_(e);return a?n.length>1?t.src(n.slice(1)):(t.changingSrc_=!1,t.setTimeout(function(){this.error({code:4,message:this.localize(this.options_.notSupportedMessage)})},0),void t.triggerReady()):void ve(i,t.tech_)})):void this.setTimeout(function(){this.error({code:4,message:this.localize(this.options_.notSupportedMessage)})},0)},n.src_=function(e){var t=this,n=this.selectSource([e]);return!n||(Ht(n.tech,this.techName_)?(this.ready(function(){this.tech_.constructor.prototype.hasOwnProperty("setSource")?this.techCall_("setSource",e):this.techCall_("src",e.src),this.changingSrc_=!1},!0),!1):(this.changingSrc_=!0,this.loadTech_(n.tech,n.source),this.tech_.ready(function(){t.changingSrc_=!1}),!1))},n.load=function(){this.techCall_("load")},n.reset=function(){var e=this,t=this.options_.Promise||Fe.Promise;if(this.paused()||!t)this.doReset_();else{var n=this.play();fe(n.then(function(){return e.doReset_()}))}},n.doReset_=function(){this.tech_&&this.tech_.clearTracks("text"),this.resetCache_(),this.poster(""),this.loadTech_(this.options_.techOrder[0],null),this.techCall_("reset"),this.resetControlBarUI_(),It(this)&&this.trigger("playerreset")},n.resetControlBarUI_=function(){this.resetProgressBar_(),this.resetPlaybackRate_(),this.resetVolumeBar_()},n.resetProgressBar_=function(){this.currentTime(0);var e=this.controlBar,t=e.durationDisplay,n=e.remainingTimeDisplay;t&&t.updateContent(),n&&n.updateContent()},n.resetPlaybackRate_=function(){this.playbackRate(this.defaultPlaybackRate()),this.handleTechRateChange_()},n.resetVolumeBar_=function(){this.volume(1),this.trigger("volumechange")},n.currentSources=function(){var e=this.currentSource(),t=[];return 0!==Object.keys(e).length&&t.push(e),this.cache_.sources||t},n.currentSource=function(){return this.cache_.source||{}},n.currentSrc=function(){return this.currentSource()&&this.currentSource().src||""},n.currentType=function(){return this.currentSource()&&this.currentSource().type||""},n.preload=function(e){return void 0!==e?(this.techCall_("setPreload",e),void(this.options_.preload=e)):this.techGet_("preload")},n.autoplay=function(e){if(void 0===e)return this.options_.autoplay||!1;var t;"string"==typeof e&&/(any|play|muted)/.test(e)?(this.options_.autoplay=e,this.manualAutoplay_(e),t=!1):e?this.options_.autoplay=!0:this.options_.autoplay=!1,t="undefined"==typeof t?this.options_.autoplay:t,this.tech_&&this.techCall_("setAutoplay",t)},n.playsinline=function(e){return void 0!==e?(this.techCall_("setPlaysinline",e),this.options_.playsinline=e,this):this.techGet_("playsinline")},n.loop=function(e){return void 0!==e?(this.techCall_("setLoop",e),void(this.options_.loop=e)):this.techGet_("loop")},n.poster=function(e){return void 0===e?this.poster_:(e||(e=""),void(e!==this.poster_&&(this.poster_=e,this.techCall_("setPoster",e),this.isPosterFromTech_=!1,this.trigger("posterchange"))))},n.handleTechPosterChange_=function(){if((!this.poster_||this.options_.techCanOverridePoster)&&this.tech_&&this.tech_.poster){var e=this.tech_.poster()||"";e!==this.poster_&&(this.poster_=e,this.isPosterFromTech_=!0,this.trigger("posterchange"))}},n.controls=function(e){return void 0===e?!!this.controls_:(e=!!e,void(this.controls_!==e&&(this.controls_=e,this.usingNativeControls()&&this.techCall_("setControls",e),this.controls_?(this.removeClass("vjs-controls-disabled"),this.addClass("vjs-controls-enabled"),this.trigger("controlsenabled"),this.usingNativeControls()||this.addTechControlsListeners_()):(this.removeClass("vjs-controls-enabled"),this.addClass("vjs-controls-disabled"),this.trigger("controlsdisabled"),this.usingNativeControls()||this.removeTechControlsListeners_()))))},n.usingNativeControls=function(e){return void 0===e?!!this.usingNativeControls_:(e=!!e,void(this.usingNativeControls_!==e&&(this.usingNativeControls_=e,this.usingNativeControls_?(this.addClass("vjs-using-native-controls"),this.trigger("usingnativecontrols")):(this.removeClass("vjs-using-native-controls"),this.trigger("usingcustomcontrols")))))},n.error=function(e){if(void 0===e)return this.error_||null;if(this.options_.suppressNotSupportedError&&e&&e.message&&e.message===this.localize(this.options_.notSupportedMessage)){var t=function(){this.error(e)};return this.options_.suppressNotSupportedError=!1,this.any(["click","touchstart"],t),void this.one("loadstart",function(){this.off(["click","touchstart"],t)})}return null===e?(this.error_=e,this.removeClass("vjs-error"),void(this.errorDisplay&&this.errorDisplay.close())):(this.error_=new de(e),this.addClass("vjs-error"),at.error("(CODE:"+this.error_.code+" "+de.errorTypes[this.error_.code]+")",this.error_.message,this.error_),void this.trigger("error"))},n.reportUserActivity=function(e){this.userActivity_=!0},n.userActive=function(e){if(void 0===e)return this.userActive_;if(e=!!e,e!==this.userActive_){if(this.userActive_=e,this.userActive_)return this.userActivity_=!0,this.removeClass("vjs-user-inactive"),this.addClass("vjs-user-active"),void this.trigger("useractive");this.tech_&&this.tech_.one("mousemove",function(e){e.stopPropagation(),e.preventDefault()}),this.userActivity_=!1,this.removeClass("vjs-user-active"),this.addClass("vjs-user-inactive"),this.trigger("userinactive")}},n.listenForUserActivity_=function(){var e,t,n,i=St(this,this.reportUserActivity),a=function(e){e.screenX===t&&e.screenY===n||(t=e.screenX,n=e.screenY,i())},r=function(){i(),this.clearInterval(e),e=this.setInterval(i,250)},s=function(t){i(),this.clearInterval(e)};this.on("mousedown",r),this.on("mousemove",a),this.on("mouseup",s);var o=this.getChild("controlBar");!o||Yt||Qt||(o.on("mouseenter",function(e){this.player().cache_.inactivityTimeout=this.player().options_.inactivityTimeout,this.player().options_.inactivityTimeout=0}),o.on("mouseleave",function(e){this.player().options_.inactivityTimeout=this.player().cache_.inactivityTimeout})),this.on("keydown",i),this.on("keyup",i);var l;this.setInterval(function(){if(this.userActivity_){this.userActivity_=!1,this.userActive(!0),this.clearTimeout(l);var e=this.options_.inactivityTimeout;e<=0||(l=this.setTimeout(function(){this.userActivity_||this.userActive(!1)},e))}},250)},n.playbackRate=function(e){return void 0!==e?void this.techCall_("setPlaybackRate",e):this.tech_&&this.tech_.featuresPlaybackRate?this.cache_.lastPlaybackRate||this.techGet_("playbackRate"):1},n.defaultPlaybackRate=function(e){return void 0!==e?this.techCall_("setDefaultPlaybackRate",e):this.tech_&&this.tech_.featuresPlaybackRate?this.techGet_("defaultPlaybackRate"):1},n.isAudio=function(e){return void 0!==e?void(this.isAudio_=!!e):!!this.isAudio_},n.addTextTrack=function(e,t,n){if(this.tech_)return this.tech_.addTextTrack(e,t,n)},n.addRemoteTextTrack=function(e,t){if(this.tech_)return this.tech_.addRemoteTextTrack(e,t)},n.removeRemoteTextTrack=function(e){void 0===e&&(e={});var t=e,n=t.track;if(n||(n=e),this.tech_)return this.tech_.removeRemoteTextTrack(n)},n.getVideoPlaybackQuality=function(){return this.techGet_("getVideoPlaybackQuality")},n.videoWidth=function(){return this.tech_&&this.tech_.videoWidth&&this.tech_.videoWidth()||0},n.videoHeight=function(){return this.tech_&&this.tech_.videoHeight&&this.tech_.videoHeight()||0},n.language=function(e){return void 0===e?this.language_:void(this.language_=String(e).toLowerCase())},n.languages=function(){return ee(t.prototype.options_.languages,this.languages_)},n.toJSON=function(){var e=ee(this.options_),t=e.tracks;e.tracks=[];for(var n=0;n<t.length;n++){var i=t[n];i=ee(i),i.player=void 0,e.tracks[n]=i}return e},n.createModal=function(e,t){var n=this;t=t||{},t.content=e||"";var i=new kn(this,t);return this.addChild(i),i.on("dispose",function(){n.removeChild(i)}),i.open(),i},n.updateCurrentBreakpoint_=function(){if(this.responsive())for(var e=this.currentBreakpoint(),t=this.currentWidth(),n=0;n<Za.length;n++){var i=Za[n],a=this.breakpoints_[i];if(t<=a){if(e===i)return;e&&this.removeClass(er[e]),this.addClass(er[i]),this.breakpoint_=i;break}}},n.removeCurrentBreakpoint_=function(){var e=this.currentBreakpointClass();this.breakpoint_="",e&&this.removeClass(e)},n.breakpoints=function(e){return void 0===e?o(this.breakpoints_):(this.breakpoint_="",this.breakpoints_=o({},tr,e),this.updateCurrentBreakpoint_(),o(this.breakpoints_))},n.responsive=function(e){if(void 0===e)return this.responsive_;e=Boolean(e);var t=this.responsive_;if(e!==t)return this.responsive_=e,e?(this.on("playerresize",this.updateCurrentBreakpoint_),this.updateCurrentBreakpoint_()):(this.off("playerresize",this.updateCurrentBreakpoint_),this.removeCurrentBreakpoint_()),e},n.currentBreakpoint=function(){return this.breakpoint_},n.currentBreakpointClass=function(){return er[this.breakpoint_]||""},n.loadMedia=function(e,t){var n=this;if(e&&"object"==typeof e){this.reset(),this.cache_.media=ee(e);var i=this.cache_.media,a=i.artwork,r=i.poster,s=i.src,o=i.textTracks;!a&&r&&(this.cache_.media.artwork=[{src:r,type:ui(r)}]),s&&this.src(s),r&&this.poster(r),Array.isArray(o)&&o.forEach(function(e){return n.addRemoteTextTrack(e,!1)}),this.ready(t)}},n.getMedia=function(){if(!this.cache_.media){var e=this.poster(),t=this.currentSources(),n=Array.prototype.map.call(this.remoteTextTracks(),function(e){return{kind:e.kind,label:e.label,language:e.language,src:e.src}}),i={src:t,textTracks:n};return e&&(i.poster=e,i.artwork=[{src:i.poster,type:ui(i.poster)}]),i}return ee(this.cache_.media)},t.getTagSettings=function(e){var t={sources:[],tracks:[]},n=E(e),i=n["data-setup"];if(T(e,"vjs-fill")&&(n.fill=!0),T(e,"vjs-fluid")&&(n.fluid=!0),null!==i){var a=Ke(i||"{}"),r=a[0],s=a[1];r&&at.error(r),o(n,s)}if(o(t,n),e.hasChildNodes())for(var l=e.childNodes,u=0,c=l.length;u<c;u++){var d=l[u],h=d.nodeName.toLowerCase();"source"===h?t.sources.push(E(d)):"track"===h&&t.tracks.push(E(d))}return t},n.flexNotSupported_=function(){var e=ze.createElement("i");return!("flexBasis"in e.style||"webkitFlexBasis"in e.style||"mozFlexBasis"in e.style||"msFlexBasis"in e.style||"msFlexOrder"in e.style)},t}(Ft);ei.names.forEach(function(e){var t=ei[e];nr.prototype[t.getterName]=function(){return this.tech_?this.tech_[t.getterName]():(this[t.privateName]=this[t.privateName]||new t.ListClass,this[t.privateName])}}),nr.players={};var ir=Fe.navigator;nr.prototype.options_={techOrder:ti.defaultTechOrder_,html5:{},flash:{},inactivityTimeout:2e3,playbackRates:[],liveui:!1,children:["mediaLoader","posterImage","textTrackDisplay","loadingSpinner","bigPlayButton","liveTracker","controlBar","errorDisplay","textTrackSettings","resizeManager"],language:ir&&(ir.languages&&ir.languages[0]||ir.userLanguage||ir.language)||"en",languages:{},notSupportedMessage:"No compatible source was found for this media.",fullscreen:{options:{navigationUI:"hide"}},breakpoints:{},responsive:!1},["ended","seeking","seekable","networkState","readyState"].forEach(function(e){nr.prototype[e]=function(){return this.techGet_(e)}}),Qa.forEach(function(e){nr.prototype["handleTech"+Ut(e)+"_"]=function(){return this.trigger(e)}}),Ft.registerComponent("Player",nr);var ar="plugin",rr="activePlugins_",sr={},or=function(e){return sr.hasOwnProperty(e)},lr=function(e){return or(e)?sr[e]:void 0},ur=function(e,t){e[rr]=e[rr]||{},e[rr][t]=!0},cr=function(e,t,n){var i=(n?"before":"")+"pluginsetup";e.trigger(i,t),e.trigger(i+":"+t.name,t)},dr=function(e,t){var n=function(){cr(this,{name:e,plugin:t,instance:null},!0);var n=t.apply(this,arguments);return ur(this,e),cr(this,{name:e,plugin:t,instance:n}),n};return Object.keys(t).forEach(function(e){n[e]=t[e]}),n},hr=function(e,t){return t.prototype.name=e,function(){cr(this,{name:e,plugin:t,instance:null},!0);for(var n=arguments.length,i=new Array(n),a=0;a<n;a++)i[a]=arguments[a];var r=ae(t,[this].concat(i));return this[e]=function(){return r},cr(this,r.getEventHash()),r}},fr=function(){function e(t){if(this.constructor===e)throw new Error("Plugin must be sub-classed; not directly instantiated.");this.player=t,J(this),delete this.trigger,Z(this,this.constructor.defaultState),ur(t,this.name),this.dispose=St(this,this.dispose),t.on("dispose",this.dispose)}var t=e.prototype;return t.version=function(){return this.constructor.VERSION},t.getEventHash=function(e){return void 0===e&&(e={}),e.name=this.name,e.plugin=this.constructor,e.instance=this,e},t.trigger=function(e,t){return void 0===t&&(t={}),Y(this.eventBusEl_,e,this.getEventHash(t))},t.handleStateChanged=function(e){},t.dispose=function(){var e=this.name,t=this.player;this.trigger("dispose"),this.off(),t.off("dispose",this.dispose),t[rr][e]=!1,this.player=this.state=null,t[e]=hr(e,sr[e])},e.isBasic=function(t){var n="string"==typeof t?lr(t):t;return"function"==typeof n&&!e.prototype.isPrototypeOf(n.prototype)},e.registerPlugin=function(t,n){if("string"!=typeof t)throw new Error('Illegal plugin name, "'+t+'", must be a string, was '+typeof t+".");if(or(t))at.warn('A plugin named "'+t+'" already exists. You may want to avoid re-registering plugins!');else if(nr.prototype.hasOwnProperty(t))throw new Error('Illegal plugin name, "'+t+'", cannot share a name with an existing player method!');if("function"!=typeof n)throw new Error('Illegal plugin for "'+t+'", must be a function, was '+typeof n+".");return sr[t]=n,t!==ar&&(e.isBasic(n)?nr.prototype[t]=dr(t,n):nr.prototype[t]=hr(t,n)),n},e.deregisterPlugin=function(e){if(e===ar)throw new Error("Cannot de-register base plugin.");or(e)&&(delete sr[e],delete nr.prototype[e])},e.getPlugins=function(e){void 0===e&&(e=Object.keys(sr));var t;return e.forEach(function(e){var n=lr(e);n&&(t=t||{},t[e]=n)}),t},e.getPluginVersion=function(e){var t=lr(e);return t&&t.VERSION||""},e}();fr.getPlugin=lr,fr.BASE_PLUGIN_NAME=ar,fr.registerPlugin(ar,fr),nr.prototype.usingPlugin=function(e){return!!this[rr]&&this[rr][e]===!0},nr.prototype.hasPlugin=function(e){return!!or(e)};var pr=function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(e.super_=t)},mr=function(e,t){void 0===t&&(t={});var n=function(){e.apply(this,arguments)},i={};"object"==typeof t?(t.constructor!==Object.prototype.constructor&&(n=t.constructor),i=t):"function"==typeof t&&(n=t),pr(n,e);for(var a in i)i.hasOwnProperty(a)&&(n.prototype[a]=i[a]);return n},gr=function(e){return 0===e.indexOf("#")?e.slice(1):e};if(Me.hooks_={},Me.hooks=function(e,t){return Me.hooks_[e]=Me.hooks_[e]||[],t&&(Me.hooks_[e]=Me.hooks_[e].concat(t)),Me.hooks_[e]},Me.hook=function(e,t){Me.hooks(e,t)},Me.hookOnce=function(e,t){Me.hooks(e,[].concat(t).map(function(t){var n=function n(){return Me.removeHook(e,n),t.apply(void 0,arguments)};return n}))},Me.removeHook=function(e,t){var n=Me.hooks(e).indexOf(t);return!(n<=-1)&&(Me.hooks_[e]=Me.hooks_[e].slice(),Me.hooks_[e].splice(n,1),!0)},Fe.VIDEOJS_NO_DYNAMIC_STYLE!==!0&&p()){var vr=lt(".vjs-styles-defaults");if(!vr){vr=pt("vjs-styles-defaults");var yr=lt("head");yr&&yr.insertBefore(vr,yr.firstChild),mt(vr,"\n      .video-js {\n        width: 300px;\n        height: 150px;\n      }\n\n      .vjs-fluid {\n        padding-top: 56.25%\n      }\n    ")}}F(1,Me),Me.VERSION=tt,Me.options=nr.prototype.options_,Me.getPlayers=function(){return nr.players},Me.getPlayer=function(e){var t,n=nr.players;if("string"==typeof e){var i=gr(e),a=n[i];if(a)return a;t=lt("#"+i)}else t=e;if(m(t)){var r=t,s=r.player,o=r.playerId;if(s||n[o])return s||n[o]}},Me.getAllPlayers=function(){return Object.keys(nr.players).map(function(e){return nr.players[e]}).filter(Boolean)},Me.players=nr.players,Me.getComponent=Ft.getComponent,Me.registerComponent=function(e,t){ti.isTech(t)&&at.warn("The "+e+" tech was registered as a component. It should instead be registered using videojs.registerTech(name, tech)"),Ft.registerComponent.call(Ft,e,t)},Me.getTech=ti.getTech,Me.registerTech=ti.registerTech,Me.use=me,Object.defineProperty(Me,"middleware",{value:{},writeable:!1,enumerable:!0}),Object.defineProperty(Me.middleware,"TERMINATOR",{value:ai,writeable:!1,enumerable:!0}),Me.browser=cn,Me.TOUCH_ENABLED=un,Me.extend=mr,Me.mergeOptions=ee,Me.bind=St,Me.registerPlugin=fr.registerPlugin,
Me.deregisterPlugin=fr.deregisterPlugin,Me.plugin=function(e,t){return at.warn("videojs.plugin() is deprecated; use videojs.registerPlugin() instead"),fr.registerPlugin(e,t)},Me.getPlugins=fr.getPlugins,Me.getPlugin=fr.getPlugin,Me.getPluginVersion=fr.getPluginVersion,Me.addLanguage=function(e,t){var n;return e=(""+e).toLowerCase(),Me.options.languages=ee(Me.options.languages,(n={},n[e]=t,n)),Me.options.languages[e]},Me.log=at,Me.createLogger=rt,Me.createTimeRange=Me.createTimeRanges=ue,Me.formatTime=Pe,Me.setFormatTime=Le,Me.resetFormatTime=xe,Me.parseUrl=Bn,Me.isCrossOrigin=Hn,Me.EventTarget=Et,Me.on=q,Me.one=X,Me.off=$,Me.trigger=Y,Me.xhr=Ve,Me.TextTrack=Gn,Me.AudioTrack=Vn,Me.VideoTrack=Wn,["isEl","isTextNode","createEl","hasClass","addClass","removeClass","toggleClass","setAttributes","getAttributes","emptyEl","appendContent","insertContent"].forEach(function(e){Me[e]=function(){return at.warn("videojs."+e+"() is deprecated; use videojs.dom."+e+"() instead"),ct[e].apply(null,arguments)}}),Me.computedStyle=c,Me.dom=ct,Me.url=Fn;/**
	 * @videojs/http-streaming
	 * @version 1.10.6
	 * @copyright 2019 Brightcove, Inc
	 * @license Apache-2.0
	 */
var _r=function(e,t){return/^[a-z]+:/i.test(t)?t:(/\/\//i.test(e)||(e=qe.buildAbsoluteURL(Fe.location.href,e)),qe.buildAbsoluteURL(e,t))},br=function(e,t,n){return e&&n.responseURL&&t!==n.responseURL?n.responseURL:t},Tr=function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")},kr=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),Sr=function e(t,n,i){null===t&&(t=Function.prototype);var a=Object.getOwnPropertyDescriptor(t,n);if(void 0===a){var r=Object.getPrototypeOf(t);return null===r?void 0:e(r,n,i)}if("value"in a)return a.value;var s=a.get;if(void 0!==s)return s.call(i)},Cr=function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)},wr=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t},Er=function(){function e(e,t){var n=[],i=!0,a=!1,r=void 0;try{for(var s,o=e[Symbol.iterator]();!(i=(s=o.next()).done)&&(n.push(s.value),!t||n.length!==t);i=!0);}catch(e){a=!0,r=e}finally{try{!i&&o.return&&o.return()}finally{if(a)throw r}}return n}return function(t,n){if(Array.isArray(t))return t;if(Symbol.iterator in Object(t))return e(t,n);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),Ar=Me.mergeOptions,Ir=Me.EventTarget,Lr=Me.log,xr=function(e,t){["AUDIO","SUBTITLES"].forEach(function(n){for(var i in e.mediaGroups[n])for(var a in e.mediaGroups[n][i]){var r=e.mediaGroups[n][i][a];t(r,n,i,a)}})},Pr=function(e,t,n){var i=t.slice();n=n||0;for(var a=Math.min(e.length,t.length+n),r=n;r<a;r++)i[r-n]=Ar(e[r],i[r-n]);return i},Or=function(e,t){e.resolvedUri||(e.resolvedUri=_r(t,e.uri)),e.key&&!e.key.resolvedUri&&(e.key.resolvedUri=_r(t,e.key.uri)),e.map&&!e.map.resolvedUri&&(e.map.resolvedUri=_r(t,e.map.uri))},Dr=function(e,t){var n=Ar(e,{}),i=n.playlists[t.uri];if(!i)return null;if(i.segments&&t.segments&&i.segments.length===t.segments.length&&i.endList===t.endList&&i.mediaSequence===t.mediaSequence)return null;var a=Ar(i,t);i.segments&&(a.segments=Pr(i.segments,t.segments,t.mediaSequence-i.mediaSequence)),a.segments.forEach(function(e){Or(e,a.resolvedUri)});for(var r=0;r<n.playlists.length;r++)n.playlists[r].uri===t.uri&&(n.playlists[r]=a);return n.playlists[t.uri]=a,n},Nr=function(e){for(var t=e.playlists.length;t--;){var n=e.playlists[t];e.playlists[n.uri]=n,n.resolvedUri=_r(e.uri,n.uri),n.id=t,n.attributes||(n.attributes={},Lr.warn("Invalid playlist STREAM-INF detected. Missing BANDWIDTH attribute."))}},Mr=function(e){xr(e,function(t){t.uri&&(t.resolvedUri=_r(e.uri,t.uri))})},Rr=function(e,t){var n=e.segments[e.segments.length-1],i=void 0;return i=t&&n&&n.duration?1e3*n.duration:500*(e.targetDuration||10)},Br=function(e){function t(e,n){var i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};Tr(this,t);var a=wr(this,(t.__proto__||Object.getPrototypeOf(t)).call(this)),r=i.withCredentials,s=void 0!==r&&r,o=i.handleManifestRedirects,l=void 0!==o&&o;a.srcUrl=e,a.hls_=n,a.withCredentials=s,a.handleManifestRedirects=l;var u=n.options_;if(a.customTagParsers=u&&u.customTagParsers||[],a.customTagMappers=u&&u.customTagMappers||[],!a.srcUrl)throw new Error("A non-empty playlist URL is required");return a.state="HAVE_NOTHING",a.on("mediaupdatetimeout",function(){"HAVE_METADATA"===a.state&&(a.state="HAVE_CURRENT_METADATA",a.request=a.hls_.xhr({uri:_r(a.master.uri,a.media().uri),withCredentials:a.withCredentials},function(e,t){if(a.request)return e?a.playlistRequestError(a.request,a.media().uri,"HAVE_METADATA"):void a.haveMetadata(a.request,a.media().uri)}))}),a}return Cr(t,e),kr(t,[{key:"playlistRequestError",value:function(e,t,n){this.request=null,n&&(this.state=n),this.error={playlist:this.master.playlists[t],status:e.status,message:"HLS playlist request error at URL: "+t+".",responseText:e.responseText,code:e.status>=500?4:2},this.trigger("error")}},{key:"haveMetadata",value:function(e,t){var n=this;this.request=null,this.state="HAVE_METADATA";var i=new $e.Parser;this.customTagParsers.forEach(function(e){return i.addParser(e)}),this.customTagMappers.forEach(function(e){return i.addTagMapper(e)}),i.push(e.responseText),i.end(),i.manifest.uri=t,i.manifest.attributes=i.manifest.attributes||{};var a=Dr(this.master,i.manifest);this.targetDuration=i.manifest.targetDuration,a?(this.master=a,this.media_=this.master.playlists[i.manifest.uri]):this.trigger("playlistunchanged"),this.media().endList||(Fe.clearTimeout(this.mediaUpdateTimeout),this.mediaUpdateTimeout=Fe.setTimeout(function(){n.trigger("mediaupdatetimeout")},Rr(this.media(),!!a))),this.trigger("loadedplaylist")}},{key:"dispose",value:function(){this.stopRequest(),Fe.clearTimeout(this.mediaUpdateTimeout),Fe.clearTimeout(this.finalRenditionTimeout)}},{key:"stopRequest",value:function(){if(this.request){var e=this.request;this.request=null,e.onreadystatechange=null,e.abort()}}},{key:"media",value:function(e,t){var n=this;if(!e)return this.media_;if("HAVE_NOTHING"===this.state)throw new Error("Cannot switch media playlist from "+this.state);if("string"==typeof e){if(!this.master.playlists[e])throw new Error("Unknown playlist URI: "+e);e=this.master.playlists[e]}if(Fe.clearTimeout(this.finalRenditionTimeout),t){var i=e.targetDuration/2*1e3||5e3;return void(this.finalRenditionTimeout=Fe.setTimeout(this.media.bind(this,e,!1),i))}var a=this.state,r=!this.media_||e.uri!==this.media_.uri;if(this.master.playlists[e.uri].endList)return this.request&&(this.request.onreadystatechange=null,this.request.abort(),this.request=null),this.state="HAVE_METADATA",this.media_=e,void(r&&(this.trigger("mediachanging"),this.trigger("mediachange")));if(r){if(this.state="SWITCHING_MEDIA",this.request){if(e.resolvedUri===this.request.url)return;this.request.onreadystatechange=null,this.request.abort(),this.request=null}this.media_&&this.trigger("mediachanging"),this.request=this.hls_.xhr({uri:e.resolvedUri,withCredentials:this.withCredentials},function(t,i){if(n.request){if(e.resolvedUri=br(n.handleManifestRedirects,e.resolvedUri,i),t)return n.playlistRequestError(n.request,e.uri,a);n.haveMetadata(i,e.uri),"HAVE_MASTER"===a?n.trigger("loadedmetadata"):n.trigger("mediachange")}})}}},{key:"pause",value:function(){this.stopRequest(),Fe.clearTimeout(this.mediaUpdateTimeout),"HAVE_NOTHING"===this.state&&(this.started=!1),"SWITCHING_MEDIA"===this.state?this.media_?this.state="HAVE_METADATA":this.state="HAVE_MASTER":"HAVE_CURRENT_METADATA"===this.state&&(this.state="HAVE_METADATA")}},{key:"load",value:function(e){var t=this;Fe.clearTimeout(this.mediaUpdateTimeout);var n=this.media();if(e){var i=n?n.targetDuration/2*1e3:5e3;return void(this.mediaUpdateTimeout=Fe.setTimeout(function(){return t.load()},i))}return this.started?void(n&&!n.endList?this.trigger("mediaupdatetimeout"):this.trigger("loadedplaylist")):void this.start()}},{key:"start",value:function(){var e=this;this.started=!0,this.request=this.hls_.xhr({uri:this.srcUrl,withCredentials:this.withCredentials},function(t,n){if(e.request){if(e.request=null,t)return e.error={status:n.status,message:"HLS playlist request error at URL: "+e.srcUrl+".",responseText:n.responseText,code:2},"HAVE_NOTHING"===e.state&&(e.started=!1),e.trigger("error");var i=new $e.Parser;return e.customTagParsers.forEach(function(e){return i.addParser(e)}),e.customTagMappers.forEach(function(e){return i.addTagMapper(e)}),i.push(n.responseText),i.end(),e.state="HAVE_MASTER",e.srcUrl=br(e.handleManifestRedirects,e.srcUrl,n),i.manifest.uri=e.srcUrl,i.manifest.playlists?(e.master=i.manifest,Nr(e.master),Mr(e.master),e.trigger("loadedplaylist"),void(e.request||e.media(i.manifest.playlists[0]))):(e.master={mediaGroups:{AUDIO:{},VIDEO:{},"CLOSED-CAPTIONS":{},SUBTITLES:{}},uri:Fe.location.href,playlists:[{uri:e.srcUrl,id:0,resolvedUri:e.srcUrl,attributes:{}}]},e.master.playlists[e.srcUrl]=e.master.playlists[0],e.haveMetadata(n,e.srcUrl),e.trigger("loadedmetadata"))}})}}]),t}(Ir),jr=Me.createTimeRange,Ur=function(e,t){var n=0,i=t-e.mediaSequence,a=e.segments[i];if(a){if("undefined"!=typeof a.start)return{result:a.start,precise:!0};if("undefined"!=typeof a.end)return{result:a.end-a.duration,precise:!0}}for(;i--;){if(a=e.segments[i],"undefined"!=typeof a.end)return{result:n+a.end,precise:!0};if(n+=a.duration,"undefined"!=typeof a.start)return{result:n+a.start,precise:!0}}return{result:n,precise:!1}},Hr=function(e,t){for(var n=0,i=void 0,a=t-e.mediaSequence;a<e.segments.length;a++){if(i=e.segments[a],"undefined"!=typeof i.start)return{result:i.start-n,precise:!0};if(n+=i.duration,"undefined"!=typeof i.end)return{result:i.end-n,precise:!0}}return{result:-1,precise:!1}},Fr=function(e,t,n){var i=void 0,a=void 0;return"undefined"==typeof t&&(t=e.mediaSequence+e.segments.length),t<e.mediaSequence?0:(i=Ur(e,t),i.precise?i.result:(a=Hr(e,t),a.precise?a.result:i.result+n))},zr=function(e,t,n){if(!e)return 0;if("number"!=typeof n&&(n=0),"undefined"==typeof t){if(e.totalDuration)return e.totalDuration;if(!e.endList)return Fe.Infinity}return Fr(e,t,n)},Kr=function(e,t,n){var i=0;if(t>n){var a=[n,t];t=a[0],n=a[1]}if(t<0){for(var r=t;r<Math.min(0,n);r++)i+=e.targetDuration;t=0}for(var s=t;s<n;s++)i+=e.segments[s].duration;return i},Gr=function(e){if(!e.segments.length)return 0;for(var t=e.segments.length-1,n=e.segments[t].duration||e.targetDuration,i=n+2*e.targetDuration;t--&&(n+=e.segments[t].duration,!(n>=i)););return Math.max(0,t)},Vr=function(e,t,n){if(!e||!e.segments)return null;if(e.endList)return zr(e);if(null===t)return null;t=t||0;var i=n?Gr(e):e.segments.length;return Fr(e,e.mediaSequence+i,t)},Wr=function(e,t){var n=!0,i=t||0,a=Vr(e,t,n);return null===a?jr():jr(i,a)},qr=function(e){return e-Math.floor(e)===0},$r=function(e,t){if(qr(t))return t+.1*e;for(var n=t.toString().split(".")[1].length,i=1;i<=n;i++){var a=Math.pow(10,i),r=t*a;if(qr(r)||i===n)return(r+e)/a}},Yr=$r.bind(null,1),Xr=$r.bind(null,-1),Qr=function(e,t,n,i){var a=void 0,r=void 0,s=e.segments.length,o=t-i;if(o<0){if(n>0)for(a=n-1;a>=0;a--)if(r=e.segments[a],o+=Xr(r.duration),o>0)return{mediaIndex:a,startTime:i-Kr(e,n,a)};return{mediaIndex:0,startTime:t}}if(n<0){for(a=n;a<0;a++)if(o-=e.targetDuration,o<0)return{mediaIndex:0,startTime:t};n=0}for(a=n;a<s;a++)if(r=e.segments[a],o-=Yr(r.duration),o<0)return{mediaIndex:a,startTime:i+Kr(e,n,a)};return{mediaIndex:s-1,startTime:t}},Jr=function(e){return e.excludeUntil&&e.excludeUntil>Date.now()},Zr=function(e){return e.excludeUntil&&e.excludeUntil===1/0},es=function(e){var t=Jr(e);return!e.disabled&&!t},ts=function(e){return e.disabled},ns=function(e){for(var t=0;t<e.segments.length;t++)if(e.segments[t].key)return!0;return!1},is=function(e){for(var t=0;t<e.segments.length;t++)if(e.segments[t].map)return!0;return!1},as=function(e,t){return t.attributes&&t.attributes[e]},rs=function(e,t,n){var i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0;if(!as("BANDWIDTH",n))return NaN;var a=e*n.attributes.BANDWIDTH;return(a-8*i)/t},ss=function(e,t){if(1===e.playlists.length)return!0;var n=t.attributes.BANDWIDTH||Number.MAX_VALUE;return 0===e.playlists.filter(function(e){return!!es(e)&&(e.attributes.BANDWIDTH||0)<n}).length},os={duration:zr,seekable:Wr,safeLiveIndex:Gr,getMediaInfoForTime:Qr,isEnabled:es,isDisabled:ts,isBlacklisted:Jr,isIncompatible:Zr,playlistEnd:Vr,isAes:ns,isFmp4:is,hasAttribute:as,estimateSegmentRequestTime:rs,isLowestEnabledRendition:ss},ls=Me.xhr,us=Me.mergeOptions,cs=function(){var e=function e(t,n){t=us({timeout:45e3},t);var i=e.beforeRequest||Me.Hls.xhr.beforeRequest;if(i&&"function"==typeof i){var a=i(t);a&&(t=a)}var r=ls(t,function(e,t){var i=r.response;!e&&i&&(r.responseTime=Date.now(),r.roundTripTime=r.responseTime-r.requestTime,r.bytesReceived=i.byteLength||i.length,r.bandwidth||(r.bandwidth=Math.floor(r.bytesReceived/r.roundTripTime*8*1e3))),t.headers&&(r.responseHeaders=t.headers),e&&"ETIMEDOUT"===e.code&&(r.timedout=!0),e||r.aborted||200===t.statusCode||206===t.statusCode||0===t.statusCode||(e=new Error("XHR Failed with a response of: "+(r&&(i||r.responseText)))),n(e,r)}),s=r.abort;return r.abort=function(){return r.aborted=!0,s.apply(r,arguments)},r.uri=t.uri,r.requestTime=Date.now(),r};return e},ds=function(e){var t=void 0,n=void 0;return n=e.offset+e.length-1,t=e.offset,"bytes="+t+"-"+n},hs=function(e){var t={};return e.byterange&&(t.Range=ds(e.byterange)),t},fs=function(e,t){return e.start(t)+"-"+e.end(t)},ps=function(e,t){var n=e.toString(16);return"00".substring(0,2-n.length)+n+(t%2?" ":"")},ms=function(e){return e>=32&&e<126?String.fromCharCode(e):"."},gs=function(e){var t={};return Object.keys(e).forEach(function(n){var i=e[n];ArrayBuffer.isView(i)?t[n]={bytes:i.buffer,byteOffset:i.byteOffset,byteLength:i.byteLength}:t[n]=i}),t},vs=function(e){var t=e.byterange||{length:1/0,offset:0};return[t.length,t.offset,e.resolvedUri].join(",")},ys=function(e){return e.resolvedUri},_s=function(e){for(var t=Array.prototype.slice.call(e),n=16,i="",a=void 0,r=void 0,s=0;s<t.length/n;s++)a=t.slice(s*n,s*n+n).map(ps).join(""),r=t.slice(s*n,s*n+n).map(ms).join(""),i+=a+" "+r+"\n";return i},bs=function(e){var t=e.bytes;return _s(t)},Ts=function(e){var t="",n=void 0;for(n=0;n<e.length;n++)t+=fs(e,n)+" ";return t},ks=Object.freeze({createTransferableMessage:gs,initSegmentId:vs,segmentKeyId:ys,hexDump:_s,tagDump:bs,textRanges:Ts}),Ss=.25,Cs=function(e,t){if(!t.dateTimeObject)return null;var n=t.videoTimingInfo.transmuxerPrependedSeconds,i=t.videoTimingInfo.transmuxedPresentationStart,a=i+n,r=e-a;return new Date(t.dateTimeObject.getTime()+1e3*r)},ws=function(e){return e.transmuxedPresentationEnd-e.transmuxedPresentationStart-e.transmuxerPrependedSeconds},Es=function(e,t){var n=void 0;try{n=new Date(e)}catch(e){return null}if(!t||!t.segments||0===t.segments.length)return null;var i=t.segments[0];if(n<i.dateTimeObject)return null;for(var a=0;a<t.segments.length-1;a++){i=t.segments[a];var r=t.segments[a+1].dateTimeObject;if(n<r)break}var s=t.segments[t.segments.length-1],o=s.dateTimeObject,l=s.videoTimingInfo?ws(s.videoTimingInfo):s.duration+s.duration*Ss,u=new Date(o.getTime()+1e3*l);return n>u?null:(n>o&&(i=s),{segment:i,estimatedStart:i.videoTimingInfo?i.videoTimingInfo.transmuxedPresentationStart:os.duration(t,t.mediaSequence+t.segments.indexOf(i)),type:i.videoTimingInfo?"accurate":"estimate"})},As=function(e,t){if(!t||!t.segments||0===t.segments.length)return null;for(var n=0,i=void 0,a=0;a<t.segments.length&&(i=t.segments[a],n=i.videoTimingInfo?i.videoTimingInfo.transmuxedPresentationEnd:n+i.duration,!(e<=n));a++);var r=t.segments[t.segments.length-1];if(r.videoTimingInfo&&r.videoTimingInfo.transmuxedPresentationEnd<e)return null;if(e>n){if(e>n+r.duration*Ss)return null;i=r}return{segment:i,estimatedStart:i.videoTimingInfo?i.videoTimingInfo.transmuxedPresentationStart:n-i.duration,type:i.videoTimingInfo?"accurate":"estimate"}},Is=function(e,t){var n=void 0,i=void 0;try{n=new Date(e),i=new Date(t)}catch(e){}var a=n.getTime(),r=i.getTime();return(r-a)/1e3},Ls=function(e){if(!e.segments||0===e.segments.length)return!1;for(var t=0;t<e.segments.length;t++){var n=e.segments[t];if(!n.dateTimeObject)return!1}return!0},xs=function(e){var t=e.playlist,n=e.time,i=void 0===n?void 0:n,a=e.callback;if(!a)throw new Error("getProgramTime: callback must be provided");if(!t||void 0===i)return a({message:"getProgramTime: playlist and time must be provided"});var r=As(i,t);if(!r)return a({message:"valid programTime was not found"});if("estimate"===r.type)return a({message:"Accurate programTime could not be determined. Please seek to e.seekTime and try again",seekTime:r.estimatedStart});var s={mediaSeconds:i},o=Cs(i,r.segment);return o&&(s.programDateTime=o.toISOString()),a(null,s)},Ps=function e(t){var n=t.programTime,i=t.playlist,a=t.retryCount,r=void 0===a?2:a,s=t.seekTo,o=t.pauseAfterSeek,l=void 0===o||o,u=t.tech,c=t.callback;if(!c)throw new Error("seekToProgramTime: callback must be provided");if("undefined"==typeof n||!i||!s)return c({message:"seekToProgramTime: programTime, seekTo and playlist must be provided"});if(!i.endList&&!u.hasStarted_)return c({message:"player must be playing a live stream to start buffering"});if(!Ls(i))return c({message:"programDateTime tags must be provided in the manifest "+i.resolvedUri});var d=Es(n,i);if(!d)return c({message:n+" was not found in the stream"});var h=d.segment,f=Is(h.dateTimeObject,n);if("estimate"===d.type)return 0===r?c({message:n+" is not buffered yet. Try again"}):(s(d.estimatedStart+f),void u.one("seeked",function(){e({programTime:n,playlist:i,retryCount:r-1,seekTo:s,pauseAfterSeek:l,tech:u,callback:c})}));var p=h.start+f,m=function(){return c(null,u.currentTime())};u.one("seeked",m),l&&u.pause(),s(p)},Os=1/30,Ds=3*Os,Ns=function(e,t){var n=[],i=void 0;if(e&&e.length)for(i=0;i<e.length;i++)t(e.start(i),e.end(i))&&n.push([e.start(i),e.end(i)]);return Me.createTimeRanges(n)},Ms=function(e,t){return Ns(e,function(e,n){return e-Ds<=t&&n+Ds>=t})},Rs=function(e,t){return Ns(e,function(e){return e-Os>=t})},Bs=function(e){if(e.length<2)return Me.createTimeRanges();for(var t=[],n=1;n<e.length;n++){var i=e.end(n-1),a=e.start(n);t.push([i,a])}return Me.createTimeRanges(t)},js=function(e){var t=[];if(!e||!e.length)return"";for(var n=0;n<e.length;n++)t.push(e.start(n)+" => "+e.end(n));return t.join(", ")},Us=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,i=e.length?e.end(e.length-1):0;return(i-t)/n},Hs=function(e){for(var t=[],n=0;n<e.length;n++)t.push({start:e.start(n),end:e.end(n)});return t},Fs=function(e,t,n){var i=t.player_;if(n.captions&&n.captions.length){e.inbandTextTracks_||(e.inbandTextTracks_={});for(var a in n.captionStreams)if(!e.inbandTextTracks_[a]){i.tech_.trigger({type:"usage",name:"hls-608"});var r=i.textTracks().getTrackById(a);r?e.inbandTextTracks_[a]=r:e.inbandTextTracks_[a]=i.addRemoteTextTrack({kind:"captions",id:a,label:a},!1).track}}n.metadata&&n.metadata.length&&!e.metadataTrack_&&(e.metadataTrack_=i.addRemoteTextTrack({kind:"metadata",label:"Timed Metadata"},!1).track,e.metadataTrack_.inBandMetadataTrackDispatchType=n.metadata.dispatchType)},zs=function(e,t,n){var i=void 0,a=void 0;if(n&&n.cues)for(i=n.cues.length;i--;)a=n.cues[i],a.startTime<=t&&a.endTime>=e&&n.removeCue(a)},Ks=function(e){Object.defineProperties(e.frame,{id:{get:function(){return Me.log.warn("cue.frame.id is deprecated. Use cue.value.key instead."),e.value.key}},value:{get:function(){return Me.log.warn("cue.frame.value is deprecated. Use cue.value.data instead."),e.value.data}},privateData:{get:function(){return Me.log.warn("cue.frame.privateData is deprecated. Use cue.value.data instead."),e.value.data}}})},Gs=function(e){var t=void 0;return t=isNaN(e)||Math.abs(e)===1/0?Number.MAX_VALUE:e},Vs=function(e,t,n){var i=Fe.WebKitDataCue||Fe.VTTCue;if(t&&t.forEach(function(e){var t=e.stream;this.inbandTextTracks_[t].addCue(new i(e.startTime+this.timestampOffset,e.endTime+this.timestampOffset,e.text))},e),n){var a=Gs(e.mediaSource_.duration);if(n.forEach(function(e){var t=e.cueTime+this.timestampOffset;!("number"!=typeof t||Fe.isNaN(t)||t<0)&&t<1/0&&e.frames.forEach(function(e){var n=new i(t,t,e.value||e.url||e.data||"");n.frame=e,n.value=e,Ks(n),this.metadataTrack_.addCue(n)},this)},e),e.metadataTrack_&&e.metadataTrack_.cues&&e.metadataTrack_.cues.length){for(var r=e.metadataTrack_.cues,s=[],o=0;o<r.length;o++)r[o]&&s.push(r[o]);var l=s.reduce(function(e,t){var n=e[t.startTime]||[];return n.push(t),e[t.startTime]=n,e},{}),u=Object.keys(l).sort(function(e,t){return Number(e)-Number(t)});u.forEach(function(e,t){var n=l[e],i=Number(u[t+1])||a;n.forEach(function(e){e.endTime=i})})}}},Ws="undefined"!=typeof window?window:{},qs="undefined"==typeof Symbol?"__target":Symbol(),$s="application/javascript",Ys=Ws.BlobBuilder||Ws.WebKitBlobBuilder||Ws.MozBlobBuilder||Ws.MSBlobBuilder,Xs=Ws.URL||Ws.webkitURL||Xs&&Xs.msURL,Qs=Ws.Worker;if(Qs){var Js,Zs=Be("self.onmessage = function () {}"),eo=new Uint8Array(1);try{Js=new Qs(Zs),Js.postMessage(eo,[eo.buffer])}catch(e){Qs=null}finally{Xs.revokeObjectURL(Zs),Js&&Js.terminate()}}var to=new Re("./transmuxer-worker.worker.js",function(e,t){var n=this;(function(){var e=function(){this.init=function(){var e={};this.on=function(t,n){e[t]||(e[t]=[]),e[t]=e[t].concat(n)},this.off=function(t,n){var i;return!!e[t]&&(i=e[t].indexOf(n),e[t]=e[t].slice(),e[t].splice(i,1),i>-1)},this.trigger=function(t){var n,i,a,r;if(n=e[t])if(2===arguments.length)for(a=n.length,i=0;i<a;++i)n[i].call(this,arguments[1]);else{for(r=[],i=arguments.length,i=1;i<arguments.length;++i)r.push(arguments[i]);for(a=n.length,i=0;i<a;++i)n[i].apply(this,r)}},this.dispose=function(){e={}}}};e.prototype.pipe=function(e){return this.on("data",function(t){e.push(t)}),this.on("done",function(t){e.flush(t)}),this.on("partialdone",function(t){e.partialFlush(t)}),this.on("endedtimeline",function(t){e.endTimeline(t)}),this.on("reset",function(t){e.reset(t)}),e},e.prototype.push=function(e){this.trigger("data",e)},e.prototype.flush=function(e){this.trigger("done",e)},e.prototype.partialFlush=function(e){this.trigger("partialdone",e)},e.prototype.endTimeline=function(e){this.trigger("endedtimeline",e)},e.prototype.reset=function(e){this.trigger("reset",e)};var t,i,a,r,s,o,l,u,c,d,h,f,p,m,g,v,y,_,b,T,k,S,C,w,E,A,I,L,x,P,O,D,N,M,R,B,j=e,U=Math.pow(2,32)-1;!function(){var e;if(C={avc1:[],avcC:[],btrt:[],dinf:[],dref:[],esds:[],ftyp:[],hdlr:[],mdat:[],mdhd:[],mdia:[],mfhd:[],minf:[],moof:[],moov:[],mp4a:[],mvex:[],mvhd:[],pasp:[],sdtp:[],smhd:[],stbl:[],stco:[],stsc:[],stsd:[],stsz:[],stts:[],styp:[],tfdt:[],tfhd:[],traf:[],trak:[],trun:[],trex:[],tkhd:[],vmhd:[]},"undefined"!=typeof Uint8Array){for(e in C)C.hasOwnProperty(e)&&(C[e]=[e.charCodeAt(0),e.charCodeAt(1),e.charCodeAt(2),e.charCodeAt(3)]);w=new Uint8Array(["i".charCodeAt(0),"s".charCodeAt(0),"o".charCodeAt(0),"m".charCodeAt(0)]),A=new Uint8Array(["a".charCodeAt(0),"v".charCodeAt(0),"c".charCodeAt(0),"1".charCodeAt(0)]),E=new Uint8Array([0,0,0,1]),I=new Uint8Array([0,0,0,0,0,0,0,0,118,105,100,101,0,0,0,0,0,0,0,0,0,0,0,0,86,105,100,101,111,72,97,110,100,108,101,114,0]),L=new Uint8Array([0,0,0,0,0,0,0,0,115,111,117,110,0,0,0,0,0,0,0,0,0,0,0,0,83,111,117,110,100,72,97,110,100,108,101,114,0]),x={video:I,audio:L},D=new Uint8Array([0,0,0,0,0,0,0,1,0,0,0,12,117,114,108,32,0,0,0,1]),O=new Uint8Array([0,0,0,0,0,0,0,0]),N=new Uint8Array([0,0,0,0,0,0,0,0]),M=N,R=new Uint8Array([0,0,0,0,0,0,0,0,0,0,0,0]),B=N,P=new Uint8Array([0,0,0,1,0,0,0,0,0,0,0,0])}}(),t=function(e){var t,n,i,a=[],r=0;for(t=1;t<arguments.length;t++)a.push(arguments[t]);for(t=a.length;t--;)r+=a[t].byteLength;for(n=new Uint8Array(r+8),i=new DataView(n.buffer,n.byteOffset,n.byteLength),i.setUint32(0,n.byteLength),n.set(e,4),t=0,r=8;t<a.length;t++)n.set(a[t],r),r+=a[t].byteLength;return n},i=function(){return t(C.dinf,t(C.dref,D))},a=function(e){return t(C.esds,new Uint8Array([0,0,0,0,3,25,0,0,0,4,17,64,21,0,6,0,0,0,218,192,0,0,218,192,5,2,e.audioobjecttype<<3|e.samplingfrequencyindex>>>1,e.samplingfrequencyindex<<7|e.channelcount<<3,6,1,2]))},r=function(){return t(C.ftyp,w,E,w,A)},v=function(e){return t(C.hdlr,x[e])},s=function(e){return t(C.mdat,e)},g=function(e){var n=new Uint8Array([0,0,0,0,0,0,0,2,0,0,0,3,0,1,95,144,e.duration>>>24&255,e.duration>>>16&255,e.duration>>>8&255,255&e.duration,85,196,0,0]);return e.samplerate&&(n[12]=e.samplerate>>>24&255,n[13]=e.samplerate>>>16&255,n[14]=e.samplerate>>>8&255,n[15]=255&e.samplerate),t(C.mdhd,n)},m=function(e){return t(C.mdia,g(e),v(e.type),l(e))},o=function(e){return t(C.mfhd,new Uint8Array([0,0,0,0,(4278190080&e)>>24,(16711680&e)>>16,(65280&e)>>8,255&e]))},l=function(e){return t(C.minf,"video"===e.type?t(C.vmhd,P):t(C.smhd,O),i(),_(e))},u=function(e,n){for(var i=[],a=n.length;a--;)i[a]=T(n[a]);return t.apply(null,[C.moof,o(e)].concat(i))},c=function(e){for(var n=e.length,i=[];n--;)i[n]=f(e[n]);return t.apply(null,[C.moov,h(4294967295)].concat(i).concat(d(e)))},d=function(e){for(var n=e.length,i=[];n--;)i[n]=k(e[n]);return t.apply(null,[C.mvex].concat(i))},h=function(e){var n=new Uint8Array([0,0,0,0,0,0,0,1,0,0,0,2,0,1,95,144,(4278190080&e)>>24,(16711680&e)>>16,(65280&e)>>8,255&e,0,1,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,64,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,255,255,255,255]);return t(C.mvhd,n)},y=function(e){var n,i,a=e.samples||[],r=new Uint8Array(4+a.length);for(i=0;i<a.length;i++)n=a[i].flags,r[i+4]=n.dependsOn<<4|n.isDependedOn<<2|n.hasRedundancy;return t(C.sdtp,r)},_=function(e){return t(C.stbl,b(e),t(C.stts,B),t(C.stsc,M),t(C.stsz,R),t(C.stco,N))},function(){var e,n;b=function(i){return t(C.stsd,new Uint8Array([0,0,0,0,0,0,0,1]),"video"===i.type?e(i):n(i))},e=function(e){var n,i,a=e.sps||[],r=e.pps||[],s=[],o=[];for(n=0;n<a.length;n++)s.push((65280&a[n].byteLength)>>>8),s.push(255&a[n].byteLength),s=s.concat(Array.prototype.slice.call(a[n]));for(n=0;n<r.length;n++)o.push((65280&r[n].byteLength)>>>8),o.push(255&r[n].byteLength),o=o.concat(Array.prototype.slice.call(r[n]));if(i=[C.avc1,new Uint8Array([0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,(65280&e.width)>>8,255&e.width,(65280&e.height)>>8,255&e.height,0,72,0,0,0,72,0,0,0,0,0,0,0,1,19,118,105,100,101,111,106,115,45,99,111,110,116,114,105,98,45,104,108,115,0,0,0,0,0,0,0,0,0,0,0,0,0,24,17,17]),t(C.avcC,new Uint8Array([1,e.profileIdc,e.profileCompatibility,e.levelIdc,255].concat([a.length],s,[r.length],o))),t(C.btrt,new Uint8Array([0,28,156,128,0,45,198,192,0,45,198,192]))],e.sarRatio){var l=e.sarRatio[0],u=e.sarRatio[1];i.push(t(C.pasp,new Uint8Array([(4278190080&l)>>24,(16711680&l)>>16,(65280&l)>>8,255&l,(4278190080&u)>>24,(16711680&u)>>16,(65280&u)>>8,255&u])))}return t.apply(null,i)},n=function(e){return t(C.mp4a,new Uint8Array([0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,(65280&e.channelcount)>>8,255&e.channelcount,(65280&e.samplesize)>>8,255&e.samplesize,0,0,0,0,(65280&e.samplerate)>>8,255&e.samplerate,0,0]),a(e))}}(),p=function(e){var n=new Uint8Array([0,0,0,7,0,0,0,0,0,0,0,0,(4278190080&e.id)>>24,(16711680&e.id)>>16,(65280&e.id)>>8,255&e.id,0,0,0,0,(4278190080&e.duration)>>24,(16711680&e.duration)>>16,(65280&e.duration)>>8,255&e.duration,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,64,0,0,0,(65280&e.width)>>8,255&e.width,0,0,(65280&e.height)>>8,255&e.height,0,0]);return t(C.tkhd,n)},T=function(e){var n,i,a,r,s,o,l;return n=t(C.tfhd,new Uint8Array([0,0,0,58,(4278190080&e.id)>>24,(16711680&e.id)>>16,(65280&e.id)>>8,255&e.id,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0])),o=Math.floor(e.baseMediaDecodeTime/(U+1)),l=Math.floor(e.baseMediaDecodeTime%(U+1)),i=t(C.tfdt,new Uint8Array([1,0,0,0,o>>>24&255,o>>>16&255,o>>>8&255,255&o,l>>>24&255,l>>>16&255,l>>>8&255,255&l])),s=92,"audio"===e.type?(a=S(e,s),t(C.traf,n,i,a)):(r=y(e),a=S(e,r.length+s),t(C.traf,n,i,a,r))},f=function(e){return e.duration=e.duration||4294967295,t(C.trak,p(e),m(e))},k=function(e){var n=new Uint8Array([0,0,0,0,(4278190080&e.id)>>24,(16711680&e.id)>>16,(65280&e.id)>>8,255&e.id,0,0,0,1,0,0,0,0,0,0,0,0,0,1,0,1]);return"video"!==e.type&&(n[n.length-1]=0),t(C.trex,n)},function(){var e,n,i;i=function(e,t){var n=0,i=0,a=0,r=0;return e.length&&(void 0!==e[0].duration&&(n=1),void 0!==e[0].size&&(i=2),void 0!==e[0].flags&&(a=4),void 0!==e[0].compositionTimeOffset&&(r=8)),[0,0,n|i|a|r,1,(4278190080&e.length)>>>24,(16711680&e.length)>>>16,(65280&e.length)>>>8,255&e.length,(4278190080&t)>>>24,(16711680&t)>>>16,(65280&t)>>>8,255&t]},n=function(e,n){var a,r,s,o;for(r=e.samples||[],n+=20+16*r.length,a=i(r,n),o=0;o<r.length;o++)s=r[o],a=a.concat([(4278190080&s.duration)>>>24,(16711680&s.duration)>>>16,(65280&s.duration)>>>8,255&s.duration,(4278190080&s.size)>>>24,(16711680&s.size)>>>16,(65280&s.size)>>>8,255&s.size,s.flags.isLeading<<2|s.flags.dependsOn,s.flags.isDependedOn<<6|s.flags.hasRedundancy<<4|s.flags.paddingValue<<1|s.flags.isNonSyncSample,61440&s.flags.degradationPriority,15&s.flags.degradationPriority,(4278190080&s.compositionTimeOffset)>>>24,(16711680&s.compositionTimeOffset)>>>16,(65280&s.compositionTimeOffset)>>>8,255&s.compositionTimeOffset]);return t(C.trun,new Uint8Array(a))},e=function(e,n){var a,r,s,o;for(r=e.samples||[],n+=20+8*r.length,a=i(r,n),o=0;o<r.length;o++)s=r[o],a=a.concat([(4278190080&s.duration)>>>24,(16711680&s.duration)>>>16,(65280&s.duration)>>>8,255&s.duration,(4278190080&s.size)>>>24,(16711680&s.size)>>>16,(65280&s.size)>>>8,255&s.size]);return t(C.trun,new Uint8Array(a))},S=function(t,i){return"audio"===t.type?e(t,i):n(t,i)}}();var H,F,z,K,G,V,W,q={ftyp:r,mdat:s,moof:u,moov:c,initSegment:function(e){var t,n=r(),i=c(e);return t=new Uint8Array(n.byteLength+i.byteLength),t.set(n),t.set(i,n.byteLength),t}},$=function(e){var t,n,i=[],a=[];for(a.byteLength=0,a.nalCount=0,a.duration=0,i.byteLength=0,t=0;t<e.length;t++)n=e[t],"access_unit_delimiter_rbsp"===n.nalUnitType?(i.length&&(i.duration=n.dts-i.dts,a.byteLength+=i.byteLength,a.nalCount+=i.length,a.duration+=i.duration,a.push(i)),i=[n],i.byteLength=n.data.byteLength,i.pts=n.pts,i.dts=n.dts):("slice_layer_without_partitioning_rbsp_idr"===n.nalUnitType&&(i.keyFrame=!0),i.duration=n.dts-i.dts,i.byteLength+=n.data.byteLength,i.push(n));return a.length&&(!i.duration||i.duration<=0)&&(i.duration=a[a.length-1].duration),a.byteLength+=i.byteLength,a.nalCount+=i.length,a.duration+=i.duration,a.push(i),a},Y=function(e){var t,n,i=[],a=[];for(i.byteLength=0,i.nalCount=0,i.duration=0,i.pts=e[0].pts,i.dts=e[0].dts,a.byteLength=0,a.nalCount=0,a.duration=0,a.pts=e[0].pts,a.dts=e[0].dts,t=0;t<e.length;t++)n=e[t],n.keyFrame?(i.length&&(a.push(i),a.byteLength+=i.byteLength,a.nalCount+=i.nalCount,a.duration+=i.duration),i=[n],i.nalCount=n.length,i.byteLength=n.byteLength,i.pts=n.pts,i.dts=n.dts,i.duration=n.duration):(i.duration+=n.duration,i.nalCount+=n.length,i.byteLength+=n.byteLength,i.push(n));return a.length&&i.duration<=0&&(i.duration=a[a.length-1].duration),a.byteLength+=i.byteLength,a.nalCount+=i.nalCount,a.duration+=i.duration,a.push(i),a},X=function(e){var t;return!e[0][0].keyFrame&&e.length>1&&(t=e.shift(),e.byteLength-=t.byteLength,e.nalCount-=t.nalCount,e[0][0].dts=t.dts,e[0][0].pts=t.pts,e[0][0].duration+=t.duration),e},Q=function(){return{size:0,flags:{isLeading:0,dependsOn:1,isDependedOn:0,hasRedundancy:0,degradationPriority:0,isNonSyncSample:1}}},J=function(e,t){var n=Q();return n.dataOffset=t,n.compositionTimeOffset=e.pts-e.dts,n.duration=e.duration,n.size=4*e.length,n.size+=e.byteLength,e.keyFrame&&(n.flags.dependsOn=2,n.flags.isNonSyncSample=0),n},Z=function(e,t){var n,i,a,r,s,o=t||0,l=[];for(n=0;n<e.length;n++)for(r=e[n],i=0;i<r.length;i++)s=r[i],a=J(s,o),o+=a.size,l.push(a);return l},ee=function(e){var t,n,i,a,r,s,o=0,l=e.byteLength,u=e.nalCount,c=l+4*u,d=new Uint8Array(c),h=new DataView(d.buffer);for(t=0;t<e.length;t++)for(a=e[t],n=0;n<a.length;n++)for(r=a[n],i=0;i<r.length;i++)s=r[i],h.setUint32(o,s.data.byteLength),o+=4,d.set(s.data,o),o+=s.data.byteLength;return d},te=function(e,t){var n,i=t||0,a=[];return n=J(e,i),a.push(n),a},ne=function(e){var t,n,i=0,a=e.byteLength,r=e.length,s=a+4*r,o=new Uint8Array(s),l=new DataView(o.buffer);for(t=0;t<e.length;t++)n=e[t],l.setUint32(i,n.data.byteLength),i+=4,o.set(n.data,i),i+=n.data.byteLength;return o},ie={groupNalsIntoFrames:$,groupFramesIntoGops:Y,extendFirstKeyFrame:X,generateSampleTable:Z,concatenateNalData:ee,generateSampleTableForFrame:te,concatenateNalDataForFrame:ne},ae=[33,16,5,32,164,27],re=[33,65,108,84,1,2,4,8,168,2,4,8,17,191,252],se=function(e){for(var t=[];e--;)t.push(0);return t},oe=function(e){
return Object.keys(e).reduce(function(t,n){return t[n]=new Uint8Array(e[n].reduce(function(e,t){return e.concat(t)},[])),t},{})},le={96e3:[ae,[227,64],se(154),[56]],88200:[ae,[231],se(170),[56]],64e3:[ae,[248,192],se(240),[56]],48e3:[ae,[255,192],se(268),[55,148,128],se(54),[112]],44100:[ae,[255,192],se(268),[55,163,128],se(84),[112]],32e3:[ae,[255,192],se(268),[55,234],se(226),[112]],24e3:[ae,[255,192],se(268),[55,255,128],se(268),[111,112],se(126),[224]],16e3:[ae,[255,192],se(268),[55,255,128],se(268),[111,255],se(269),[223,108],se(195),[1,192]],12e3:[re,se(268),[3,127,248],se(268),[6,255,240],se(268),[13,255,224],se(268),[27,253,128],se(259),[56]],11025:[re,se(268),[3,127,248],se(268),[6,255,240],se(268),[13,255,224],se(268),[27,255,192],se(268),[55,175,128],se(108),[112]],8e3:[re,se(268),[3,121,16],se(47),[7]]},ue=oe(le),ce=9e4;H=function(e){return e*ce},F=function(e,t){return e*t},z=function(e){return e/ce},K=function(e,t){return e/t},G=function(e,t){return H(K(e,t))},V=function(e,t){return F(z(e),t)},W=function(e,t,n){return z(n?e:e-t)};var de={ONE_SECOND_IN_TS:ce,secondsToVideoTs:H,secondsToAudioTs:F,videoTsToSeconds:z,audioTsToSeconds:K,audioTsToVideoTs:G,videoTsToAudioTs:V,metadataTsToSeconds:W},he=function(e){var t,n,i=0;for(t=0;t<e.length;t++)n=e[t],i+=n.data.byteLength;return i},fe=function(e,t,n,i){var a,r,s,o,l=0,u=0,c=0,d=0;if(t.length&&(a=de.audioTsToVideoTs(e.baseMediaDecodeTime,e.samplerate),l=Math.ceil(de.ONE_SECOND_IN_TS/(e.samplerate/1024)),n&&i&&(u=a-Math.max(n,i),c=Math.floor(u/l),d=c*l),!(c<1||d>de.ONE_SECOND_IN_TS/2))){for(r=ue[e.samplerate],r||(r=t[0].data),s=0;s<c;s++)o=t[0],t.splice(0,0,{data:r,dts:o.dts-l,pts:o.pts-l});e.baseMediaDecodeTime-=Math.floor(de.videoTsToAudioTs(d,e.samplerate))}},pe=function(e,t,n){return t.minSegmentDts>=n?e:(t.minSegmentDts=1/0,e.filter(function(e){return e.dts>=n&&(t.minSegmentDts=Math.min(t.minSegmentDts,e.dts),t.minSegmentPts=t.minSegmentDts,!0)}))},me=function(e){var t,n,i=[];for(t=0;t<e.length;t++)n=e[t],i.push({size:n.data.byteLength,duration:1024});return i},ge=function(e){var t,n,i=0,a=new Uint8Array(he(e));for(t=0;t<e.length;t++)n=e[t],a.set(n.data,i),i+=n.data.byteLength;return a},ve={prefixWithSilence:fe,trimAdtsFramesByEarliestDts:pe,generateSampleTable:me,concatenateFrameData:ge},ye=de.ONE_SECOND_IN_TS,_e=function(e,t){"number"==typeof t.pts&&(void 0===e.timelineStartInfo.pts&&(e.timelineStartInfo.pts=t.pts),void 0===e.minSegmentPts?e.minSegmentPts=t.pts:e.minSegmentPts=Math.min(e.minSegmentPts,t.pts),void 0===e.maxSegmentPts?e.maxSegmentPts=t.pts:e.maxSegmentPts=Math.max(e.maxSegmentPts,t.pts)),"number"==typeof t.dts&&(void 0===e.timelineStartInfo.dts&&(e.timelineStartInfo.dts=t.dts),void 0===e.minSegmentDts?e.minSegmentDts=t.dts:e.minSegmentDts=Math.min(e.minSegmentDts,t.dts),void 0===e.maxSegmentDts?e.maxSegmentDts=t.dts:e.maxSegmentDts=Math.max(e.maxSegmentDts,t.dts))},be=function(e){delete e.minSegmentDts,delete e.maxSegmentDts,delete e.minSegmentPts,delete e.maxSegmentPts},Te=function(e,t){var n,i,a=e.minSegmentDts;return t||(a-=e.timelineStartInfo.dts),n=e.timelineStartInfo.baseMediaDecodeTime,n+=a,n=Math.max(0,n),"audio"===e.type&&(i=e.samplerate/ye,n*=i,n=Math.floor(n)),n},ke={clearDtsInfo:be,calculateTrackBaseMediaDecodeTime:Te,collectDtsInfo:_e},Se=4,Ce=128,we=function(e){for(var t=0,n={payloadType:-1,payloadSize:0},i=0,a=0;t<e.byteLength&&e[t]!==Ce;){for(;255===e[t];)i+=255,t++;for(i+=e[t++];255===e[t];)a+=255,t++;if(a+=e[t++],!n.payload&&i===Se){n.payloadType=i,n.payloadSize=a,n.payload=e.subarray(t,t+a);break}t+=a,i=0,a=0}return n},Ee=function(e){return 181!==e.payload[0]?null:49!==(e.payload[1]<<8|e.payload[2])?null:"GA94"!==String.fromCharCode(e.payload[3],e.payload[4],e.payload[5],e.payload[6])?null:3!==e.payload[7]?null:e.payload.subarray(8,e.payload.length-1)},Ae=function(e,t){var n,i,a,r,s=[];if(!(64&t[0]))return s;for(i=31&t[0],n=0;n<i;n++)a=3*n,r={type:3&t[a+2],pts:e},4&t[a+2]&&(r.ccData=t[a+3]<<8|t[a+4],s.push(r));return s},Ie=function(e){for(var t,n,i=e.byteLength,a=[],r=1;r<i-2;)0===e[r]&&0===e[r+1]&&3===e[r+2]?(a.push(r+2),r+=2):r++;if(0===a.length)return e;t=i-a.length,n=new Uint8Array(t);var s=0;for(r=0;r<t;s++,r++)s===a[0]&&(s++,a.shift()),n[r]=e[s];return n},Le={parseSei:we,parseUserData:Ee,parseCaptionPackets:Ae,discardEmulationPreventionBytes:Ie,USER_DATA_REGISTERED_ITU_T_T35:Se},xe=function e(){e.prototype.init.call(this),this.captionPackets_=[],this.ccStreams_=[new Re(0,0),new Re(0,1),new Re(1,0),new Re(1,1)],this.reset(),this.ccStreams_.forEach(function(e){e.on("data",this.trigger.bind(this,"data")),e.on("partialdone",this.trigger.bind(this,"partialdone")),e.on("done",this.trigger.bind(this,"done"))},this)};xe.prototype=new j,xe.prototype.push=function(e){var t,n,i;if("sei_rbsp"===e.nalUnitType&&(t=Le.parseSei(e.escapedRBSP),t.payloadType===Le.USER_DATA_REGISTERED_ITU_T_T35&&(n=Le.parseUserData(t)))){if(e.dts<this.latestDts_)return void(this.ignoreNextEqualDts_=!0);if(e.dts===this.latestDts_&&this.ignoreNextEqualDts_)return this.numSameDts_--,void(this.numSameDts_||(this.ignoreNextEqualDts_=!1));i=Le.parseCaptionPackets(e.pts,n),this.captionPackets_=this.captionPackets_.concat(i),this.latestDts_!==e.dts&&(this.numSameDts_=0),this.numSameDts_++,this.latestDts_=e.dts}},xe.prototype.flushCCStreams=function(e){this.ccStreams_.forEach(function(t){return"flush"===e?t.flush():t.partialFlush()},this)},xe.prototype.flushStream=function(e){return this.captionPackets_.length?(this.captionPackets_.forEach(function(e,t){e.presortIndex=t}),this.captionPackets_.sort(function(e,t){return e.pts===t.pts?e.presortIndex-t.presortIndex:e.pts-t.pts}),this.captionPackets_.forEach(function(e){e.type<2&&this.dispatchCea608Packet(e)},this),this.captionPackets_.length=0,void this.flushCCStreams(e)):void this.flushCCStreams(e)},xe.prototype.flush=function(){return this.flushStream("flush")},xe.prototype.partialFlush=function(){return this.flushStream("partialFlush")},xe.prototype.reset=function(){this.latestDts_=null,this.ignoreNextEqualDts_=!1,this.numSameDts_=0,this.activeCea608Channel_=[null,null],this.ccStreams_.forEach(function(e){e.reset()})},xe.prototype.dispatchCea608Packet=function(e){this.setsTextOrXDSActive(e)?this.activeCea608Channel_[e.type]=null:this.setsChannel1Active(e)?this.activeCea608Channel_[e.type]=0:this.setsChannel2Active(e)&&(this.activeCea608Channel_[e.type]=1),null!==this.activeCea608Channel_[e.type]&&this.ccStreams_[(e.type<<1)+this.activeCea608Channel_[e.type]].push(e)},xe.prototype.setsChannel1Active=function(e){return 4096===(30720&e.ccData)},xe.prototype.setsChannel2Active=function(e){return 6144===(30720&e.ccData)},xe.prototype.setsTextOrXDSActive=function(e){return 256===(28928&e.ccData)||4138===(30974&e.ccData)||6186===(30974&e.ccData)};var Pe={42:225,92:233,94:237,95:243,96:250,123:231,124:247,125:209,126:241,127:9608,304:174,305:176,306:189,307:191,308:8482,309:162,310:163,311:9834,312:224,313:160,314:232,315:226,316:234,317:238,318:244,319:251,544:193,545:201,546:211,547:218,548:220,549:252,550:8216,551:161,552:42,553:39,554:8212,555:169,556:8480,557:8226,558:8220,559:8221,560:192,561:194,562:199,563:200,564:202,565:203,566:235,567:206,568:207,569:239,570:212,571:217,572:249,573:219,574:171,575:187,800:195,801:227,802:205,803:204,804:236,805:210,806:242,807:213,808:245,809:123,810:125,811:92,812:94,813:95,814:124,815:126,816:196,817:228,818:214,819:246,820:223,821:165,822:164,823:9474,824:197,825:229,826:216,827:248,828:9484,829:9488,830:9492,831:9496},Oe=function(e){return null===e?"":(e=Pe[e]||e,String.fromCharCode(e))},De=14,Ne=[4352,4384,4608,4640,5376,5408,5632,5664,5888,5920,4096,4864,4896,5120,5152],Me=function(){for(var e=[],t=De+1;t--;)e.push("");return e},Re=function e(t,n){e.prototype.init.call(this),this.field_=t||0,this.dataChannel_=n||0,this.name_="CC"+((this.field_<<1|this.dataChannel_)+1),this.setConstants(),this.reset(),this.push=function(e){var t,n,i,a,r;if(t=32639&e.ccData,t===this.lastControlCode_)return void(this.lastControlCode_=null);if(4096===(61440&t)?this.lastControlCode_=t:t!==this.PADDING_&&(this.lastControlCode_=null),i=t>>>8,a=255&t,t!==this.PADDING_)if(t===this.RESUME_CAPTION_LOADING_)this.mode_="popOn";else if(t===this.END_OF_CAPTION_)this.mode_="popOn",this.clearFormatting(e.pts),this.flushDisplayed(e.pts),n=this.displayed_,this.displayed_=this.nonDisplayed_,this.nonDisplayed_=n,this.startPts_=e.pts;else if(t===this.ROLL_UP_2_ROWS_)this.rollUpRows_=2,this.setRollUp(e.pts);else if(t===this.ROLL_UP_3_ROWS_)this.rollUpRows_=3,this.setRollUp(e.pts);else if(t===this.ROLL_UP_4_ROWS_)this.rollUpRows_=4,this.setRollUp(e.pts);else if(t===this.CARRIAGE_RETURN_)this.clearFormatting(e.pts),this.flushDisplayed(e.pts),this.shiftRowsUp_(),this.startPts_=e.pts;else if(t===this.BACKSPACE_)"popOn"===this.mode_?this.nonDisplayed_[this.row_]=this.nonDisplayed_[this.row_].slice(0,-1):this.displayed_[this.row_]=this.displayed_[this.row_].slice(0,-1);else if(t===this.ERASE_DISPLAYED_MEMORY_)this.flushDisplayed(e.pts),this.displayed_=Me();else if(t===this.ERASE_NON_DISPLAYED_MEMORY_)this.nonDisplayed_=Me();else if(t===this.RESUME_DIRECT_CAPTIONING_)"paintOn"!==this.mode_&&(this.flushDisplayed(e.pts),this.displayed_=Me()),this.mode_="paintOn",this.startPts_=e.pts;else if(this.isSpecialCharacter(i,a))i=(3&i)<<8,r=Oe(i|a),this[this.mode_](e.pts,r),this.column_++;else if(this.isExtCharacter(i,a))"popOn"===this.mode_?this.nonDisplayed_[this.row_]=this.nonDisplayed_[this.row_].slice(0,-1):this.displayed_[this.row_]=this.displayed_[this.row_].slice(0,-1),i=(3&i)<<8,r=Oe(i|a),this[this.mode_](e.pts,r),this.column_++;else if(this.isMidRowCode(i,a))this.clearFormatting(e.pts),this[this.mode_](e.pts," "),this.column_++,14===(14&a)&&this.addFormatting(e.pts,["i"]),1===(1&a)&&this.addFormatting(e.pts,["u"]);else if(this.isOffsetControlCode(i,a))this.column_+=3&a;else if(this.isPAC(i,a)){var s=Ne.indexOf(7968&t);"rollUp"===this.mode_&&(s-this.rollUpRows_+1<0&&(s=this.rollUpRows_-1),this.setRollUp(e.pts,s)),s!==this.row_&&(this.clearFormatting(e.pts),this.row_=s),1&a&&this.formatting_.indexOf("u")===-1&&this.addFormatting(e.pts,["u"]),16===(16&t)&&(this.column_=4*((14&t)>>1)),this.isColorPAC(a)&&14===(14&a)&&this.addFormatting(e.pts,["i"])}else this.isNormalChar(i)&&(0===a&&(a=null),r=Oe(i),r+=Oe(a),this[this.mode_](e.pts,r),this.column_+=r.length)}};Re.prototype=new j,Re.prototype.flushDisplayed=function(e){var t=this.displayed_.map(function(e){try{return e.trim()}catch(e){return console.error("Skipping malformed caption."),""}}).join("\n").replace(/^\n+|\n+$/g,"");t.length&&this.trigger("data",{startPts:this.startPts_,endPts:e,text:t,stream:this.name_})},Re.prototype.reset=function(){this.mode_="popOn",this.topRow_=0,this.startPts_=0,this.displayed_=Me(),this.nonDisplayed_=Me(),this.lastControlCode_=null,this.column_=0,this.row_=De,this.rollUpRows_=2,this.formatting_=[]},Re.prototype.setConstants=function(){0===this.dataChannel_?(this.BASE_=16,this.EXT_=17,this.CONTROL_=(20|this.field_)<<8,this.OFFSET_=23):1===this.dataChannel_&&(this.BASE_=24,this.EXT_=25,this.CONTROL_=(28|this.field_)<<8,this.OFFSET_=31),this.PADDING_=0,this.RESUME_CAPTION_LOADING_=32|this.CONTROL_,this.END_OF_CAPTION_=47|this.CONTROL_,this.ROLL_UP_2_ROWS_=37|this.CONTROL_,this.ROLL_UP_3_ROWS_=38|this.CONTROL_,this.ROLL_UP_4_ROWS_=39|this.CONTROL_,this.CARRIAGE_RETURN_=45|this.CONTROL_,this.RESUME_DIRECT_CAPTIONING_=41|this.CONTROL_,this.BACKSPACE_=33|this.CONTROL_,this.ERASE_DISPLAYED_MEMORY_=44|this.CONTROL_,this.ERASE_NON_DISPLAYED_MEMORY_=46|this.CONTROL_},Re.prototype.isSpecialCharacter=function(e,t){return e===this.EXT_&&t>=48&&t<=63},Re.prototype.isExtCharacter=function(e,t){return(e===this.EXT_+1||e===this.EXT_+2)&&t>=32&&t<=63},Re.prototype.isMidRowCode=function(e,t){return e===this.EXT_&&t>=32&&t<=47},Re.prototype.isOffsetControlCode=function(e,t){return e===this.OFFSET_&&t>=33&&t<=35},Re.prototype.isPAC=function(e,t){return e>=this.BASE_&&e<this.BASE_+8&&t>=64&&t<=127},Re.prototype.isColorPAC=function(e){return e>=64&&e<=79||e>=96&&e<=127},Re.prototype.isNormalChar=function(e){return e>=32&&e<=127},Re.prototype.setRollUp=function(e,t){if("rollUp"!==this.mode_&&(this.row_=De,this.mode_="rollUp",this.flushDisplayed(e),this.nonDisplayed_=Me(),this.displayed_=Me()),void 0!==t&&t!==this.row_)for(var n=0;n<this.rollUpRows_;n++)this.displayed_[t-n]=this.displayed_[this.row_-n],this.displayed_[this.row_-n]="";void 0===t&&(t=this.row_),this.topRow_=t-this.rollUpRows_+1},Re.prototype.addFormatting=function(e,t){this.formatting_=this.formatting_.concat(t);var n=t.reduce(function(e,t){return e+"<"+t+">"},"");this[this.mode_](e,n)},Re.prototype.clearFormatting=function(e){if(this.formatting_.length){var t=this.formatting_.reverse().reduce(function(e,t){return e+"</"+t+">"},"");this.formatting_=[],this[this.mode_](e,t)}},Re.prototype.popOn=function(e,t){var n=this.nonDisplayed_[this.row_];n+=t,this.nonDisplayed_[this.row_]=n},Re.prototype.rollUp=function(e,t){var n=this.displayed_[this.row_];n+=t,this.displayed_[this.row_]=n},Re.prototype.shiftRowsUp_=function(){var e;for(e=0;e<this.topRow_;e++)this.displayed_[e]="";for(e=this.row_+1;e<De+1;e++)this.displayed_[e]="";for(e=this.topRow_;e<this.row_;e++)this.displayed_[e]=this.displayed_[e+1];this.displayed_[this.row_]=""},Re.prototype.paintOn=function(e,t){var n=this.displayed_[this.row_];n+=t,this.displayed_[this.row_]=n};var Be={CaptionStream:xe,Cea608Stream:Re},je={H264_STREAM_TYPE:27,ADTS_STREAM_TYPE:15,METADATA_STREAM_TYPE:21},Ue=8589934592,He=4294967296,Fe="shared",ze=function(e,t){var n=1;for(e>t&&(n=-1);Math.abs(t-e)>He;)e+=n*Ue;return e},Ke=function e(t){var n,i;e.prototype.init.call(this),this.type_=t||Fe,this.push=function(e){this.type_!==Fe&&e.type!==this.type_||(void 0===i&&(i=e.dts),e.dts=ze(e.dts,i),e.pts=ze(e.pts,i),n=e.dts,this.trigger("data",e))},this.flush=function(){i=n,this.trigger("done")},this.endTimeline=function(){this.flush(),this.trigger("endedtimeline")},this.discontinuity=function(){i=void 0,n=void 0},this.reset=function(){this.discontinuity(),this.trigger("reset")}};Ke.prototype=new j;var Ge,Ve={TimestampRolloverStream:Ke,handleRollover:ze},We=function(e,t,n){var i,a="";for(i=t;i<n;i++)a+="%"+("00"+e[i].toString(16)).slice(-2);return a},qe=function(e,t,n){return decodeURIComponent(We(e,t,n))},$e=function(e,t,n){return unescape(We(e,t,n))},Ye=function(e){return e[0]<<21|e[1]<<14|e[2]<<7|e[3]},Xe={TXXX:function(e){var t;if(3===e.data[0]){for(t=1;t<e.data.length;t++)if(0===e.data[t]){e.description=qe(e.data,1,t),e.value=qe(e.data,t+1,e.data.length).replace(/\0*$/,"");break}e.data=e.value}},WXXX:function(e){var t;if(3===e.data[0])for(t=1;t<e.data.length;t++)if(0===e.data[t]){e.description=qe(e.data,1,t),e.url=qe(e.data,t+1,e.data.length);break}},PRIV:function(e){var t;for(t=0;t<e.data.length;t++)if(0===e.data[t]){e.owner=$e(e.data,0,t);break}e.privateData=e.data.subarray(t+1),e.data=e.privateData}};Ge=function(e){var t,n={debug:!(!e||!e.debug),descriptor:e&&e.descriptor},i=0,a=[],r=0;if(Ge.prototype.init.call(this),this.dispatchType=je.METADATA_STREAM_TYPE.toString(16),n.descriptor)for(t=0;t<n.descriptor.length;t++)this.dispatchType+=("00"+n.descriptor[t].toString(16)).slice(-2);this.push=function(e){var t,s,o,l,u,c;if("timed-metadata"===e.type){if(e.dataAlignmentIndicator&&(r=0,a.length=0),0===a.length&&(e.data.length<10||e.data[0]!=="I".charCodeAt(0)||e.data[1]!=="D".charCodeAt(0)||e.data[2]!=="3".charCodeAt(0)))return void(n.debug&&console.log("Skipping unrecognized metadata packet"));if(a.push(e),r+=e.data.byteLength,1===a.length&&(i=Ye(e.data.subarray(6,10)),i+=10),!(r<i)){for(t={data:new Uint8Array(i),frames:[],pts:a[0].pts,dts:a[0].dts},u=0;u<i;)t.data.set(a[0].data.subarray(0,i-u),u),u+=a[0].data.byteLength,r-=a[0].data.byteLength,a.shift();s=10,64&t.data[5]&&(s+=4,s+=Ye(t.data.subarray(10,14)),i-=Ye(t.data.subarray(16,20)));do{if(o=Ye(t.data.subarray(s+4,s+8)),o<1)return console.log("Malformed ID3 frame encountered. Skipping metadata parsing.");if(c=String.fromCharCode(t.data[s],t.data[s+1],t.data[s+2],t.data[s+3]),l={id:c,data:t.data.subarray(s+10,s+o+10)},l.key=l.id,Xe[l.id]&&(Xe[l.id](l),"com.apple.streaming.transportStreamTimestamp"===l.owner)){var d=l.data,h=(1&d[3])<<30|d[4]<<22|d[5]<<14|d[6]<<6|d[7]>>>2;h*=4,h+=3&d[7],l.timeStamp=h,void 0===t.pts&&void 0===t.dts&&(t.pts=l.timeStamp,t.dts=l.timeStamp),this.trigger("timestamp",l)}t.frames.push(l),s+=10,s+=o}while(s<i);this.trigger("data",t)}}}},Ge.prototype=new j;var Qe,Je,Ze,et=Ge,tt=Ve.TimestampRolloverStream,nt=188,it=71;Qe=function(){var e=new Uint8Array(nt),t=0;Qe.prototype.init.call(this),this.push=function(n){var i,a=0,r=nt;for(t?(i=new Uint8Array(n.byteLength+t),i.set(e.subarray(0,t)),i.set(n,t),t=0):i=n;r<i.byteLength;)i[a]!==it||i[r]!==it?(a++,r++):(this.trigger("data",i.subarray(a,r)),a+=nt,r+=nt);a<i.byteLength&&(e.set(i.subarray(a),0),t=i.byteLength-a)},this.flush=function(){t===nt&&e[0]===it&&(this.trigger("data",e),t=0),this.trigger("done")},this.endTimeline=function(){this.flush(),this.trigger("endedtimeline")},this.reset=function(){t=0,this.trigger("reset")}},Qe.prototype=new j,Je=function(){var e,t,n,i;Je.prototype.init.call(this),i=this,this.packetsWaitingForPmt=[],this.programMapTable=void 0,e=function(e,i){var a=0;i.payloadUnitStartIndicator&&(a+=e[a]+1),"pat"===i.type?t(e.subarray(a),i):n(e.subarray(a),i)},t=function(e,t){t.section_number=e[7],t.last_section_number=e[8],i.pmtPid=(31&e[10])<<8|e[11],t.pmtPid=i.pmtPid},n=function(e,t){var n,a,r,s;if(1&e[5]){for(i.programMapTable={video:null,audio:null,"timed-metadata":{}},n=(15&e[1])<<8|e[2],a=3+n-4,r=(15&e[10])<<8|e[11],s=12+r;s<a;){var o=e[s],l=(31&e[s+1])<<8|e[s+2];o===je.H264_STREAM_TYPE&&null===i.programMapTable.video?i.programMapTable.video=l:o===je.ADTS_STREAM_TYPE&&null===i.programMapTable.audio?i.programMapTable.audio=l:o===je.METADATA_STREAM_TYPE&&(i.programMapTable["timed-metadata"][l]=o),s+=((15&e[s+3])<<8|e[s+4])+5}t.programMapTable=i.programMapTable}},this.push=function(t){var n={},i=4;if(n.payloadUnitStartIndicator=!!(64&t[1]),n.pid=31&t[1],n.pid<<=8,n.pid|=t[2],(48&t[3])>>>4>1&&(i+=t[i]+1),0===n.pid)n.type="pat",e(t.subarray(i),n),this.trigger("data",n);else if(n.pid===this.pmtPid)for(n.type="pmt",e(t.subarray(i),n),this.trigger("data",n);this.packetsWaitingForPmt.length;)this.processPes_.apply(this,this.packetsWaitingForPmt.shift());else void 0===this.programMapTable?this.packetsWaitingForPmt.push([t,i,n]):this.processPes_(t,i,n)},this.processPes_=function(e,t,n){n.pid===this.programMapTable.video?n.streamType=je.H264_STREAM_TYPE:n.pid===this.programMapTable.audio?n.streamType=je.ADTS_STREAM_TYPE:n.streamType=this.programMapTable["timed-metadata"][n.pid],n.type="pes",n.data=e.subarray(t),this.trigger("data",n)}},Je.prototype=new j,Je.STREAM_TYPES={h264:27,adts:15},Ze=function(){var e,t=this,n={data:[],size:0},i={data:[],size:0},a={data:[],size:0},r=function(e,t){var n;t.packetLength=6+(e[4]<<8|e[5]),t.dataAlignmentIndicator=0!==(4&e[6]),n=e[7],192&n&&(t.pts=(14&e[9])<<27|(255&e[10])<<20|(254&e[11])<<12|(255&e[12])<<5|(254&e[13])>>>3,t.pts*=4,t.pts+=(6&e[13])>>>1,t.dts=t.pts,64&n&&(t.dts=(14&e[14])<<27|(255&e[15])<<20|(254&e[16])<<12|(255&e[17])<<5|(254&e[18])>>>3,t.dts*=4,t.dts+=(6&e[18])>>>1)),t.data=e.subarray(9+e[8])},s=function(e,n,i){var a,s=new Uint8Array(e.size),o={type:n},l=0,u=0,c=!1;if(e.data.length&&!(e.size<9)){for(o.trackId=e.data[0].pid,l=0;l<e.data.length;l++)a=e.data[l],s.set(a.data,u),u+=a.data.byteLength;r(s,o),c="video"===n||o.packetLength<=e.size,(i||c)&&(e.size=0,e.data.length=0),c&&t.trigger("data",o)}};Ze.prototype.init.call(this),this.push=function(r){({pat:function(){},pes:function(){var e,t;switch(r.streamType){case je.H264_STREAM_TYPE:case je.H264_STREAM_TYPE:e=n,t="video";break;case je.ADTS_STREAM_TYPE:e=i,t="audio";break;case je.METADATA_STREAM_TYPE:e=a,t="timed-metadata";break;default:return}r.payloadUnitStartIndicator&&s(e,t,!0),e.data.push(r),e.size+=r.data.byteLength},pmt:function(){var n={type:"metadata",tracks:[]};e=r.programMapTable,null!==e.video&&n.tracks.push({timelineStartInfo:{baseMediaDecodeTime:0},id:+e.video,codec:"avc",type:"video"}),null!==e.audio&&n.tracks.push({timelineStartInfo:{baseMediaDecodeTime:0},id:+e.audio,codec:"adts",type:"audio"}),t.trigger("data",n)}})[r.type]()},this.reset=function(){n.size=0,n.data.length=0,i.size=0,i.data.length=0,this.trigger("reset")},this.flushStreams_=function(){s(n,"video"),s(i,"audio"),s(a,"timed-metadata")},this.flush=function(){this.flushStreams_(),this.trigger("done")}},Ze.prototype=new j;var at={PAT_PID:0,MP2T_PACKET_LENGTH:nt,TransportPacketStream:Qe,TransportParseStream:Je,ElementaryStream:Ze,TimestampRolloverStream:tt,CaptionStream:Be.CaptionStream,Cea608Stream:Be.Cea608Stream,MetadataStream:et};for(var rt in je)je.hasOwnProperty(rt)&&(at[rt]=je[rt]);var st,ot=at,lt=de.ONE_SECOND_IN_TS,ut=[96e3,88200,64e3,48e3,44100,32e3,24e3,22050,16e3,12e3,11025,8e3,7350];st=function(e){var t,n=0;st.prototype.init.call(this),this.push=function(i){var a,r,s,o,l,u,c=0;if(e||(n=0),"audio"===i.type)for(t?(o=t,t=new Uint8Array(o.byteLength+i.data.byteLength),t.set(o),t.set(i.data,o.byteLength)):t=i.data;c+5<t.length;)if(255===t[c]&&240===(246&t[c+1])){if(r=2*(1&~t[c+1]),a=(3&t[c+3])<<11|t[c+4]<<3|(224&t[c+5])>>5,l=1024*((3&t[c+6])+1),u=l*lt/ut[(60&t[c+2])>>>2],s=c+a,t.byteLength<s)return;if(this.trigger("data",{pts:i.pts+n*u,dts:i.dts+n*u,sampleCount:l,audioobjecttype:(t[c+2]>>>6&3)+1,channelcount:(1&t[c+2])<<2|(192&t[c+3])>>>6,samplerate:ut[(60&t[c+2])>>>2],samplingfrequencyindex:(60&t[c+2])>>>2,samplesize:16,data:t.subarray(c+7+r,s)}),n++,t.byteLength===s)return void(t=void 0);t=t.subarray(s)}else c++},this.flush=function(){n=0,this.trigger("done")},this.reset=function(){t=void 0,this.trigger("reset")},this.endTimeline=function(){t=void 0,this.trigger("endedtimeline")}},st.prototype=new j;var ct,dt=st;ct=function(e){var t=e.byteLength,n=0,i=0;this.length=function(){return 8*t},this.bitsAvailable=function(){return 8*t+i},this.loadWord=function(){var a=e.byteLength-t,r=new Uint8Array(4),s=Math.min(4,t);if(0===s)throw new Error("no bytes available");r.set(e.subarray(a,a+s)),n=new DataView(r.buffer).getUint32(0),i=8*s,t-=s},this.skipBits=function(e){var a;i>e?(n<<=e,i-=e):(e-=i,a=Math.floor(e/8),e-=8*a,t-=a,this.loadWord(),n<<=e,i-=e)},this.readBits=function(e){var a=Math.min(i,e),r=n>>>32-a;return i-=a,i>0?n<<=a:t>0&&this.loadWord(),a=e-a,a>0?r<<a|this.readBits(a):r},this.skipLeadingZeros=function(){var e;for(e=0;e<i;++e)if(0!==(n&2147483648>>>e))return n<<=e,i-=e,e;return this.loadWord(),e+this.skipLeadingZeros()},this.skipUnsignedExpGolomb=function(){this.skipBits(1+this.skipLeadingZeros())},this.skipExpGolomb=function(){this.skipBits(1+this.skipLeadingZeros())},this.readUnsignedExpGolomb=function(){var e=this.skipLeadingZeros();return this.readBits(e+1)-1},this.readExpGolomb=function(){var e=this.readUnsignedExpGolomb();return 1&e?1+e>>>1:-1*(e>>>1)},this.readBoolean=function(){return 1===this.readBits(1)},this.readUnsignedByte=function(){return this.readBits(8)},this.loadWord()};var ht,ft,pt,mt=ct;ft=function(){var e,t,n=0;ft.prototype.init.call(this),this.push=function(i){var a;t?(a=new Uint8Array(t.byteLength+i.data.byteLength),a.set(t),a.set(i.data,t.byteLength),t=a):t=i.data;for(var r=t.byteLength;n<r-3;n++)if(1===t[n+2]){e=n+5;break}for(;e<r;)switch(t[e]){case 0:if(0!==t[e-1]){e+=2;break}if(0!==t[e-2]){e++;break}n+3!==e-2&&this.trigger("data",t.subarray(n+3,e-2));do e++;while(1!==t[e]&&e<r);n=e-2,e+=3;break;case 1:if(0!==t[e-1]||0!==t[e-2]){e+=3;break}this.trigger("data",t.subarray(n+3,e-2)),n=e-2,e+=3;break;default:e+=3}t=t.subarray(n),e-=n,n=0},this.reset=function(){t=null,n=0,this.trigger("reset")},this.flush=function(){t&&t.byteLength>3&&this.trigger("data",t.subarray(n+3)),t=null,n=0,this.trigger("done")},this.endTimeline=function(){this.flush(),this.trigger("endedtimeline")}},ft.prototype=new j,pt={100:!0,110:!0,122:!0,244:!0,44:!0,83:!0,86:!0,118:!0,128:!0,138:!0,139:!0,134:!0},ht=function(){var e,t,n,i,a,r,s,o=new ft;ht.prototype.init.call(this),e=this,this.push=function(e){"video"===e.type&&(t=e.trackId,n=e.pts,i=e.dts,o.push(e))},o.on("data",function(s){var o={trackId:t,pts:n,dts:i,data:s};switch(31&s[0]){case 5:o.nalUnitType="slice_layer_without_partitioning_rbsp_idr";break;case 6:o.nalUnitType="sei_rbsp",o.escapedRBSP=a(s.subarray(1));break;case 7:o.nalUnitType="seq_parameter_set_rbsp",o.escapedRBSP=a(s.subarray(1)),o.config=r(o.escapedRBSP);break;case 8:o.nalUnitType="pic_parameter_set_rbsp";break;case 9:o.nalUnitType="access_unit_delimiter_rbsp"}e.trigger("data",o)}),o.on("done",function(){e.trigger("done")}),o.on("partialdone",function(){e.trigger("partialdone")}),o.on("reset",function(){e.trigger("reset")}),o.on("endedtimeline",function(){e.trigger("endedtimeline")}),this.flush=function(){o.flush()},this.partialFlush=function(){o.partialFlush()},this.reset=function(){o.reset()},this.endTimeline=function(){o.endTimeline()},s=function(e,t){var n,i,a=8,r=8;for(n=0;n<e;n++)0!==r&&(i=t.readExpGolomb(),r=(a+i+256)%256),a=0===r?a:r},a=function(e){for(var t,n,i=e.byteLength,a=[],r=1;r<i-2;)0===e[r]&&0===e[r+1]&&3===e[r+2]?(a.push(r+2),r+=2):r++;if(0===a.length)return e;t=i-a.length,n=new Uint8Array(t);var s=0;for(r=0;r<t;s++,r++)s===a[0]&&(s++,a.shift()),n[r]=e[s];return n},r=function(e){var t,n,i,a,r,o,l,u,c,d,h,f,p,m,g=0,v=0,y=0,_=0,b=1;if(t=new mt(e),n=t.readUnsignedByte(),a=t.readUnsignedByte(),i=t.readUnsignedByte(),t.skipUnsignedExpGolomb(),pt[n]&&(r=t.readUnsignedExpGolomb(),3===r&&t.skipBits(1),t.skipUnsignedExpGolomb(),t.skipUnsignedExpGolomb(),t.skipBits(1),t.readBoolean()))for(h=3!==r?8:12,m=0;m<h;m++)t.readBoolean()&&(m<6?s(16,t):s(64,t));if(t.skipUnsignedExpGolomb(),o=t.readUnsignedExpGolomb(),0===o)t.readUnsignedExpGolomb();else if(1===o)for(t.skipBits(1),t.skipExpGolomb(),t.skipExpGolomb(),l=t.readUnsignedExpGolomb(),m=0;m<l;m++)t.skipExpGolomb();if(t.skipUnsignedExpGolomb(),t.skipBits(1),u=t.readUnsignedExpGolomb(),c=t.readUnsignedExpGolomb(),d=t.readBits(1),0===d&&t.skipBits(1),t.skipBits(1),t.readBoolean()&&(g=t.readUnsignedExpGolomb(),v=t.readUnsignedExpGolomb(),y=t.readUnsignedExpGolomb(),_=t.readUnsignedExpGolomb()),t.readBoolean()&&t.readBoolean()){switch(p=t.readUnsignedByte()){case 1:f=[1,1];break;case 2:f=[12,11];break;case 3:f=[10,11];break;case 4:f=[16,11];break;case 5:f=[40,33];break;case 6:f=[24,11];break;case 7:f=[20,11];break;case 8:f=[32,11];break;case 9:f=[80,33];break;case 10:f=[18,11];break;case 11:f=[15,11];break;case 12:f=[64,33];break;case 13:f=[160,99];break;case 14:f=[4,3];break;case 15:f=[3,2];break;case 16:f=[2,1];break;case 255:f=[t.readUnsignedByte()<<8|t.readUnsignedByte(),t.readUnsignedByte()<<8|t.readUnsignedByte()]}f&&(b=f[0]/f[1])}return{profileIdc:n,levelIdc:i,profileCompatibility:a,width:Math.ceil((16*(u+1)-2*g-2*v)*b),height:(2-d)*(c+1)*16-2*y-2*_,sarRatio:f}}},ht.prototype=new j;var gt,vt={H264Stream:ht,NalByteStream:ft},yt=[96e3,88200,64e3,48e3,44100,32e3,24e3,22050,16e3,12e3,11025,8e3,7350],_t=function(e){return e[0]==="I".charCodeAt(0)&&e[1]==="D".charCodeAt(0)&&e[2]==="3".charCodeAt(0)},bt=function(e){return e[0]<<21|e[1]<<14|e[2]<<7|e[3]},Tt=function(e,t,n){var i,a="";for(i=t;i<n;i++)a+="%"+("00"+e[i].toString(16)).slice(-2);return a},kt=function(e,t,n){return unescape(Tt(e,t,n))},St=function(e,t){var n=e[t+6]<<21|e[t+7]<<14|e[t+8]<<7|e[t+9],i=e[t+5],a=(16&i)>>4;return a?n+20:n+10},Ct=function(e,t){var n=(224&e[t+5])>>5,i=e[t+4]<<3,a=6144&e[t+3];return a|i|n},wt=function(e,t){return e[t]==="I".charCodeAt(0)&&e[t+1]==="D".charCodeAt(0)&&e[t+2]==="3".charCodeAt(0)?"timed-metadata":e[t]&!0&&240===(240&e[t+1])?"audio":null},Et=function(e){for(var t=0;t+5<e.length;){if(255===e[t]&&240===(246&e[t+1]))return yt[(60&e[t+2])>>>2];t++}return null},At=function(e){var t,n,i,a;t=10,64&e[5]&&(t+=4,t+=bt(e.subarray(10,14)));do{if(n=bt(e.subarray(t+4,t+8)),n<1)return null;if(a=String.fromCharCode(e[t],e[t+1],e[t+2],e[t+3]),"PRIV"===a){i=e.subarray(t+10,t+n+10);for(var r=0;r<i.byteLength;r++)if(0===i[r]){var s=kt(i,0,r);if("com.apple.streaming.transportStreamTimestamp"===s){var o=i.subarray(r+1),l=(1&o[3])<<30|o[4]<<22|o[5]<<14|o[6]<<6|o[7]>>>2;return l*=4,l+=3&o[7]}break}}t+=10,t+=n}while(t<e.byteLength);return null},It={isLikelyAacData:_t,parseId3TagSize:St,parseAdtsSize:Ct,parseType:wt,parseSampleRate:Et,parseAacTimestamp:At};gt=function(){var e=new Uint8Array,t=0;gt.prototype.init.call(this),this.setTimestamp=function(e){t=e},this.push=function(n){var i,a,r,s,o=0,l=0;for(e.length?(s=e.length,e=new Uint8Array(n.byteLength+s),e.set(e.subarray(0,s)),e.set(n,s)):e=n;e.length-l>=3;)if(e[l]!=="I".charCodeAt(0)||e[l+1]!=="D".charCodeAt(0)||e[l+2]!=="3".charCodeAt(0))if(255!==(255&e[l])||240!==(240&e[l+1]))l++;else{if(e.length-l<7)break;if(o=It.parseAdtsSize(e,l),l+o>e.length)break;r={type:"audio",data:e.subarray(l,l+o),pts:t,dts:t},this.trigger("data",r),l+=o}else{if(e.length-l<10)break;if(o=It.parseId3TagSize(e,l),l+o>e.length)break;a={type:"timed-metadata",data:e.subarray(l,l+o)},this.trigger("data",a),l+=o}i=e.length-l,e=i>0?e.subarray(l):new Uint8Array},this.reset=function(){e=new Uint8Array,this.trigger("reset")},this.endTimeline=function(){e=new Uint8Array,this.trigger("endedtimeline")}},gt.prototype=new j;var Lt,xt,Pt,Ot,Dt=gt,Nt=vt.H264Stream,Mt=It.isLikelyAacData,Rt=de.ONE_SECOND_IN_TS,Bt=["audioobjecttype","channelcount","samplerate","samplingfrequencyindex","samplesize"],jt=["width","height","profileIdc","levelIdc","profileCompatibility","sarRatio"],Ut=function(e,t){var n;if(e.length!==t.length)return!1;for(n=0;n<e.length;n++)if(e[n]!==t[n])return!1;return!0},Ht=function(e,t,n,i,a,r){var s=n-t,o=i-t,l=a-n;return{start:{dts:e,pts:e+s},end:{dts:e+o,pts:e+l},prependedContentDuration:r,baseMediaDecodeTime:e}};xt=function(e,t){var n=[],i=0,a=0,r=0,s=1/0;t=t||{},xt.prototype.init.call(this),this.push=function(t){ke.collectDtsInfo(e,t),e&&Bt.forEach(function(n){e[n]=t[n]}),n.push(t)},this.setEarliestDts=function(t){a=t-e.timelineStartInfo.baseMediaDecodeTime},this.setVideoBaseMediaDecodeTime=function(e){s=e},this.setAudioAppendStart=function(e){r=e},this.flush=function(){var o,l,u,c,d;return 0===n.length?void this.trigger("done","AudioSegmentStream"):(o=ve.trimAdtsFramesByEarliestDts(n,e,a),e.baseMediaDecodeTime=ke.calculateTrackBaseMediaDecodeTime(e,t.keepOriginalTimestamps),ve.prefixWithSilence(e,o,r,s),e.samples=ve.generateSampleTable(o),u=q.mdat(ve.concatenateFrameData(o)),n=[],l=q.moof(i,[e]),c=new Uint8Array(l.byteLength+u.byteLength),i++,c.set(l),c.set(u,l.byteLength),ke.clearDtsInfo(e),d=Math.ceil(1024*Rt/e.samplerate),o.length&&this.trigger("timingInfo",{start:o[0].dts,end:o[0].dts+o.length*d}),this.trigger("data",{track:e,boxes:c}),void this.trigger("done","AudioSegmentStream"))},this.reset=function(){ke.clearDtsInfo(e),n=[],this.trigger("reset")}},xt.prototype=new j,Lt=function(e,t){var n,i,a=0,r=[],s=[];t=t||{},Lt.prototype.init.call(this),delete e.minPTS,this.gopCache_=[],this.push=function(t){ke.collectDtsInfo(e,t),"seq_parameter_set_rbsp"!==t.nalUnitType||n||(n=t.config,e.sps=[t.data],jt.forEach(function(t){e[t]=n[t]},this)),"pic_parameter_set_rbsp"!==t.nalUnitType||i||(i=t.data,e.pps=[t.data]),r.push(t)},this.flush=function(){for(var n,i,o,l,u,c,d,h,f=0;r.length&&"access_unit_delimiter_rbsp"!==r[0].nalUnitType;)r.shift();if(0===r.length)return this.resetStream_(),void this.trigger("done","VideoSegmentStream");if(n=ie.groupNalsIntoFrames(r),o=ie.groupFramesIntoGops(n),o[0][0].keyFrame||(i=this.getGopForFusion_(r[0],e),i?(f=i.duration,o.unshift(i),o.byteLength+=i.byteLength,o.nalCount+=i.nalCount,o.pts=i.pts,o.dts=i.dts,o.duration+=i.duration):o=ie.extendFirstKeyFrame(o)),s.length){var p;if(p=t.alignGopsAtEnd?this.alignGopsAtEnd_(o):this.alignGopsAtStart_(o),!p)return this.gopCache_.unshift({gop:o.pop(),pps:e.pps,sps:e.sps}),this.gopCache_.length=Math.min(6,this.gopCache_.length),r=[],this.resetStream_(),void this.trigger("done","VideoSegmentStream");
ke.clearDtsInfo(e),o=p}ke.collectDtsInfo(e,o),e.samples=ie.generateSampleTable(o),u=q.mdat(ie.concatenateNalData(o)),e.baseMediaDecodeTime=ke.calculateTrackBaseMediaDecodeTime(e,t.keepOriginalTimestamps),this.trigger("processedGopsInfo",o.map(function(e){return{pts:e.pts,dts:e.dts,byteLength:e.byteLength}})),d=o[0],h=o[o.length-1],this.trigger("segmentTimingInfo",Ht(e.baseMediaDecodeTime,d.dts,d.pts,h.dts+h.duration,h.pts+h.duration,f)),this.trigger("timingInfo",{start:o[0].dts,end:o[o.length-1].dts+o[o.length-1].duration}),this.gopCache_.unshift({gop:o.pop(),pps:e.pps,sps:e.sps}),this.gopCache_.length=Math.min(6,this.gopCache_.length),r=[],this.trigger("baseMediaDecodeTime",e.baseMediaDecodeTime),this.trigger("timelineStartInfo",e.timelineStartInfo),l=q.moof(a,[e]),c=new Uint8Array(l.byteLength+u.byteLength),a++,c.set(l),c.set(u,l.byteLength),this.trigger("data",{track:e,boxes:c}),this.resetStream_(),this.trigger("done","VideoSegmentStream")},this.reset=function(){this.resetStream_(),r=[],this.gopCache_.length=0,s.length=0,this.trigger("reset")},this.resetStream_=function(){ke.clearDtsInfo(e),n=void 0,i=void 0},this.getGopForFusion_=function(t){var n,i,a,r,s,o=45e3,l=1e4,u=1/0;for(s=0;s<this.gopCache_.length;s++)r=this.gopCache_[s],a=r.gop,e.pps&&Ut(e.pps[0],r.pps[0])&&e.sps&&Ut(e.sps[0],r.sps[0])&&(a.dts<e.timelineStartInfo.dts||(n=t.dts-a.dts-a.duration,n>=-l&&n<=o&&(!i||u>n)&&(i=r,u=n)));return i?i.gop:null},this.alignGopsAtStart_=function(e){var t,n,i,a,r,o,l,u;for(r=e.byteLength,o=e.nalCount,l=e.duration,t=n=0;t<s.length&&n<e.length&&(i=s[t],a=e[n],i.pts!==a.pts);)a.pts>i.pts?t++:(n++,r-=a.byteLength,o-=a.nalCount,l-=a.duration);return 0===n?e:n===e.length?null:(u=e.slice(n),u.byteLength=r,u.duration=l,u.nalCount=o,u.pts=u[0].pts,u.dts=u[0].dts,u)},this.alignGopsAtEnd_=function(e){var t,n,i,a,r,o;for(t=s.length-1,n=e.length-1,r=null,o=!1;t>=0&&n>=0;){if(i=s[t],a=e[n],i.pts===a.pts){o=!0;break}i.pts>a.pts?t--:(t===s.length-1&&(r=n),n--)}if(!o&&null===r)return null;var l;if(l=o?n:r,0===l)return e;var u=e.slice(l),c=u.reduce(function(e,t){return e.byteLength+=t.byteLength,e.duration+=t.duration,e.nalCount+=t.nalCount,e},{byteLength:0,duration:0,nalCount:0});return u.byteLength=c.byteLength,u.duration=c.duration,u.nalCount=c.nalCount,u.pts=u[0].pts,u.dts=u[0].dts,u},this.alignGopsWith=function(e){s=e}},Lt.prototype=new j,Ot=function(e,t){this.numberOfTracks=0,this.metadataStream=t,e=e||{},"undefined"!=typeof e.remux?this.remuxTracks=!!e.remux:this.remuxTracks=!0,"boolean"==typeof e.keepOriginalTimestamps?this.keepOriginalTimestamps=e.keepOriginalTimestamps:this.keepOriginalTimestamps=!1,this.pendingTracks=[],this.videoTrack=null,this.pendingBoxes=[],this.pendingCaptions=[],this.pendingMetadata=[],this.pendingBytes=0,this.emittedTracks=0,Ot.prototype.init.call(this),this.push=function(e){return e.text?this.pendingCaptions.push(e):e.frames?this.pendingMetadata.push(e):(this.pendingTracks.push(e.track),this.pendingBytes+=e.boxes.byteLength,"video"===e.track.type&&(this.videoTrack=e.track,this.pendingBoxes.push(e.boxes)),void("audio"===e.track.type&&(this.audioTrack=e.track,this.pendingBoxes.unshift(e.boxes))))}},Ot.prototype=new j,Ot.prototype.flush=function(e){var t,n,i,a,r=0,s={captions:[],captionStreams:{},metadata:[],info:{}},o=0;if(this.pendingTracks.length<this.numberOfTracks){if("VideoSegmentStream"!==e&&"AudioSegmentStream"!==e)return;if(this.remuxTracks)return;if(0===this.pendingTracks.length)return this.emittedTracks++,void(this.emittedTracks>=this.numberOfTracks&&(this.trigger("done"),this.emittedTracks=0))}if(this.videoTrack?(o=this.videoTrack.timelineStartInfo.pts,jt.forEach(function(e){s.info[e]=this.videoTrack[e]},this)):this.audioTrack&&(o=this.audioTrack.timelineStartInfo.pts,Bt.forEach(function(e){s.info[e]=this.audioTrack[e]},this)),this.videoTrack||this.audioTrack){for(1===this.pendingTracks.length?s.type=this.pendingTracks[0].type:s.type="combined",this.emittedTracks+=this.pendingTracks.length,i=q.initSegment(this.pendingTracks),s.initSegment=new Uint8Array(i.byteLength),s.initSegment.set(i),s.data=new Uint8Array(this.pendingBytes),a=0;a<this.pendingBoxes.length;a++)s.data.set(this.pendingBoxes[a],r),r+=this.pendingBoxes[a].byteLength;for(a=0;a<this.pendingCaptions.length;a++)t=this.pendingCaptions[a],t.startTime=de.metadataTsToSeconds(t.startPts,o,this.keepOriginalTimestamps),t.endTime=de.metadataTsToSeconds(t.endPts,o,this.keepOriginalTimestamps),s.captionStreams[t.stream]=!0,s.captions.push(t);for(a=0;a<this.pendingMetadata.length;a++)n=this.pendingMetadata[a],n.cueTime=de.metadataTsToSeconds(n.pts,o,this.keepOriginalTimestamps),s.metadata.push(n);for(s.metadata.dispatchType=this.metadataStream.dispatchType,this.pendingTracks.length=0,this.videoTrack=null,this.pendingBoxes.length=0,this.pendingCaptions.length=0,this.pendingBytes=0,this.pendingMetadata.length=0,this.trigger("data",s),a=0;a<s.captions.length;a++)t=s.captions[a],this.trigger("caption",t);for(a=0;a<s.metadata.length;a++)n=s.metadata[a],this.trigger("id3Frame",n)}this.emittedTracks>=this.numberOfTracks&&(this.trigger("done"),this.emittedTracks=0)},Ot.prototype.setRemux=function(e){this.remuxTracks=e},Pt=function(e){var t,n,i=this,a=!0;Pt.prototype.init.call(this),e=e||{},this.baseMediaDecodeTime=e.baseMediaDecodeTime||0,this.transmuxPipeline_={},this.setupAacPipeline=function(){var a={};this.transmuxPipeline_=a,a.type="aac",a.metadataStream=new ot.MetadataStream,a.aacStream=new Dt,a.audioTimestampRolloverStream=new ot.TimestampRolloverStream("audio"),a.timedMetadataTimestampRolloverStream=new ot.TimestampRolloverStream("timed-metadata"),a.adtsStream=new dt,a.coalesceStream=new Ot(e,a.metadataStream),a.headOfPipeline=a.aacStream,a.aacStream.pipe(a.audioTimestampRolloverStream).pipe(a.adtsStream),a.aacStream.pipe(a.timedMetadataTimestampRolloverStream).pipe(a.metadataStream).pipe(a.coalesceStream),a.metadataStream.on("timestamp",function(e){a.aacStream.setTimestamp(e.timeStamp)}),a.aacStream.on("data",function(r){"timed-metadata"!==r.type||a.audioSegmentStream||(n=n||{timelineStartInfo:{baseMediaDecodeTime:i.baseMediaDecodeTime},codec:"adts",type:"audio"},a.coalesceStream.numberOfTracks++,a.audioSegmentStream=new xt(n,e),a.audioSegmentStream.on("timingInfo",i.trigger.bind(i,"audioTimingInfo")),a.adtsStream.pipe(a.audioSegmentStream).pipe(a.coalesceStream)),i.trigger("trackinfo",{hasAudio:!!n,hasVideo:!!t})}),a.coalesceStream.on("data",this.trigger.bind(this,"data")),a.coalesceStream.on("done",this.trigger.bind(this,"done"))},this.setupTsPipeline=function(){var a={};this.transmuxPipeline_=a,a.type="ts",a.metadataStream=new ot.MetadataStream,a.packetStream=new ot.TransportPacketStream,a.parseStream=new ot.TransportParseStream,a.elementaryStream=new ot.ElementaryStream,a.timestampRolloverStream=new ot.TimestampRolloverStream,a.adtsStream=new dt,a.h264Stream=new Nt,a.captionStream=new ot.CaptionStream,a.coalesceStream=new Ot(e,a.metadataStream),a.headOfPipeline=a.packetStream,a.packetStream.pipe(a.parseStream).pipe(a.elementaryStream).pipe(a.timestampRolloverStream),a.timestampRolloverStream.pipe(a.h264Stream),a.timestampRolloverStream.pipe(a.adtsStream),a.timestampRolloverStream.pipe(a.metadataStream).pipe(a.coalesceStream),a.h264Stream.pipe(a.captionStream).pipe(a.coalesceStream),a.elementaryStream.on("data",function(r){var s;if("metadata"===r.type){for(s=r.tracks.length;s--;)t||"video"!==r.tracks[s].type?n||"audio"!==r.tracks[s].type||(n=r.tracks[s],n.timelineStartInfo.baseMediaDecodeTime=i.baseMediaDecodeTime):(t=r.tracks[s],t.timelineStartInfo.baseMediaDecodeTime=i.baseMediaDecodeTime);t&&!a.videoSegmentStream&&(a.coalesceStream.numberOfTracks++,a.videoSegmentStream=new Lt(t,e),a.videoSegmentStream.on("timelineStartInfo",function(e){n&&(n.timelineStartInfo=e,a.audioSegmentStream.setEarliestDts(e.dts))}),a.videoSegmentStream.on("processedGopsInfo",i.trigger.bind(i,"gopInfo")),a.videoSegmentStream.on("segmentTimingInfo",i.trigger.bind(i,"videoSegmentTimingInfo")),a.videoSegmentStream.on("baseMediaDecodeTime",function(e){n&&a.audioSegmentStream.setVideoBaseMediaDecodeTime(e)}),a.videoSegmentStream.on("timingInfo",i.trigger.bind(i,"videoTimingInfo")),a.h264Stream.pipe(a.videoSegmentStream).pipe(a.coalesceStream)),n&&!a.audioSegmentStream&&(a.coalesceStream.numberOfTracks++,a.audioSegmentStream=new xt(n,e),a.audioSegmentStream.on("timingInfo",i.trigger.bind(i,"audioTimingInfo")),a.adtsStream.pipe(a.audioSegmentStream).pipe(a.coalesceStream)),i.trigger("trackinfo",{hasAudio:!!n,hasVideo:!!t})}}),a.coalesceStream.on("data",this.trigger.bind(this,"data")),a.coalesceStream.on("id3Frame",function(e){e.dispatchType=a.metadataStream.dispatchType,i.trigger("id3Frame",e)}),a.coalesceStream.on("caption",this.trigger.bind(this,"caption")),a.coalesceStream.on("done",this.trigger.bind(this,"done"))},this.setBaseMediaDecodeTime=function(i){var a=this.transmuxPipeline_;e.keepOriginalTimestamps||(this.baseMediaDecodeTime=i),n&&(n.timelineStartInfo.dts=void 0,n.timelineStartInfo.pts=void 0,ke.clearDtsInfo(n),e.keepOriginalTimestamps||(n.timelineStartInfo.baseMediaDecodeTime=i),a.audioTimestampRolloverStream&&a.audioTimestampRolloverStream.discontinuity()),t&&(a.videoSegmentStream&&(a.videoSegmentStream.gopCache_=[]),t.timelineStartInfo.dts=void 0,t.timelineStartInfo.pts=void 0,ke.clearDtsInfo(t),a.captionStream.reset(),e.keepOriginalTimestamps||(t.timelineStartInfo.baseMediaDecodeTime=i)),a.timestampRolloverStream&&a.timestampRolloverStream.discontinuity()},this.setAudioAppendStart=function(e){n&&this.transmuxPipeline_.audioSegmentStream.setAudioAppendStart(e)},this.setRemux=function(t){var n=this.transmuxPipeline_;e.remux=t,n&&n.coalesceStream&&n.coalesceStream.setRemux(t)},this.alignGopsWith=function(e){t&&this.transmuxPipeline_.videoSegmentStream&&this.transmuxPipeline_.videoSegmentStream.alignGopsWith(e)},this.push=function(e){if(a){var t=Mt(e);t&&"aac"!==this.transmuxPipeline_.type?this.setupAacPipeline():t||"ts"===this.transmuxPipeline_.type||this.setupTsPipeline(),a=!1}this.transmuxPipeline_.headOfPipeline.push(e)},this.flush=function(){a=!0,this.transmuxPipeline_.headOfPipeline.flush()},this.endTimeline=function(){this.transmuxPipeline_.headOfPipeline.endTimeline()},this.reset=function(){this.transmuxPipeline_.headOfPipeline&&this.transmuxPipeline_.headOfPipeline.reset()},this.resetCaptions=function(){this.transmuxPipeline_.captionStream&&this.transmuxPipeline_.captionStream.reset()}},Pt.prototype=new j;var Ft={Transmuxer:Pt,VideoSegmentStream:Lt,AudioSegmentStream:xt,AUDIO_PROPERTIES:Bt,VIDEO_PROPERTIES:jt,generateVideoSegmentTimingInfo:Ht},zt=function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")},Kt=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),Gt=function(e,t){t.on("data",function(t){var n=t.initSegment;t.initSegment={data:n.buffer,byteOffset:n.byteOffset,byteLength:n.byteLength};var i=t.data;t.data=i.buffer,e.postMessage({action:"data",segment:t,byteOffset:i.byteOffset,byteLength:i.byteLength},[t.data])}),t.captionStream&&t.captionStream.on("data",function(t){e.postMessage({action:"caption",data:t})}),t.on("done",function(t){e.postMessage({action:"done"})}),t.on("gopInfo",function(t){e.postMessage({action:"gopInfo",gopInfo:t})}),t.on("videoSegmentTimingInfo",function(t){e.postMessage({action:"videoSegmentTimingInfo",videoSegmentTimingInfo:t})})},Vt=function(){function e(t,n){zt(this,e),this.options=n||{},this.self=t,this.init()}return Kt(e,[{key:"init",value:function(){this.transmuxer&&this.transmuxer.dispose(),this.transmuxer=new Ft.Transmuxer(this.options),Gt(this.self,this.transmuxer)}},{key:"push",value:function(e){var t=new Uint8Array(e.data,e.byteOffset,e.byteLength);this.transmuxer.push(t)}},{key:"reset",value:function(){this.init()}},{key:"setTimestampOffset",value:function(e){var t=e.timestampOffset||0;this.transmuxer.setBaseMediaDecodeTime(Math.round(9e4*t))}},{key:"setAudioAppendStart",value:function(e){this.transmuxer.setAudioAppendStart(Math.ceil(9e4*e.appendStart))}},{key:"flush",value:function(e){this.transmuxer.flush()}},{key:"resetCaptions",value:function(){this.transmuxer.resetCaptions()}},{key:"alignGopsWith",value:function(e){this.transmuxer.alignGopsWith(e.gopsToAlignWith.slice())}}]),e}(),Wt=function(e){e.onmessage=function(t){return"init"===t.data.action&&t.data.options?void(this.messageHandlers=new Vt(e,t.data.options)):(this.messageHandlers||(this.messageHandlers=new Vt(e)),void(t.data&&t.data.action&&"init"!==t.data.action&&this.messageHandlers[t.data.action]&&this.messageHandlers[t.data.action](t.data)))}},qt=new Wt(n);return qt})()}),no={videoCodec:"avc1",videoObjectTypeIndicator:".4d400d",audioProfile:"2"},io=function(e){return e.map(function(e){return e.replace(/avc1\.(\d+)\.(\d+)/i,function(e,t,n){var i=("00"+Number(t).toString(16)).slice(-2),a=("00"+Number(n).toString(16)).slice(-2);return"avc1."+i+"00"+a})})},ao=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t={codecCount:0},n=void 0;return t.codecCount=e.split(",").length,t.codecCount=t.codecCount||2,n=/(^|\s|,)+(avc[13])([^ ,]*)/i.exec(e),n&&(t.videoCodec=n[2],t.videoObjectTypeIndicator=n[3]),t.audioProfile=/(^|\s|,)+mp4a.[0-9A-Fa-f]+\.([0-9A-Fa-f]+)/i.exec(e),t.audioProfile=t.audioProfile&&t.audioProfile[2],t},ro=function(e){return e.replace(/avc1\.(\d+)\.(\d+)/i,function(e){return io([e])[0]})},so=function(e,t,n){return e+"/"+t+'; codecs="'+n.filter(function(e){return!!e}).join(", ")+'"'},oo=function(e){return e.segments&&e.segments.length&&e.segments[0].map?"mp4":"mp2t"},lo=function(e){var t=e.attributes||{};return t.CODECS?ao(t.CODECS):no},uo=function(e,t){if(!e.mediaGroups.AUDIO||!t)return null;var n=e.mediaGroups.AUDIO[t];if(!n)return null;for(var i in n){var a=n[i];if(a.default&&a.playlists)return ao(a.playlists[0].attributes.CODECS).audioProfile}return null},co=function(e,t){var n=oo(t),i=lo(t),a=t.attributes||{},r=!0,s=!1;if(!t)return[];if(e.mediaGroups.AUDIO&&a.AUDIO){var o=e.mediaGroups.AUDIO[a.AUDIO];if(o){s=!0,r=!1;for(var l in o)if(!o[l].uri&&!o[l].playlists){r=!0;break}}}s&&!i.audioProfile&&(r||(i.audioProfile=uo(e,a.AUDIO)),i.audioProfile||(Me.log.warn("Multiple audio tracks present but no audio codec string is specified. Attempting to use the default audio codec (mp4a.40.2)"),i.audioProfile=no.audioProfile));var u={};i.videoCodec&&(u.video=""+i.videoCodec+i.videoObjectTypeIndicator),i.audioProfile&&(u.audio="mp4a.40."+i.audioProfile);var c=so("audio",n,[u.audio]),d=so("video",n,[u.video]),h=so("video",n,[u.video,u.audio]);return s?!r&&u.video?[d,c]:r||u.video?[h,c]:[c,c]:u.video?[h]:[c]},ho=function(e){var t={type:"",parameters:{}},n=e.trim().split(";");return t.type=n.shift().trim(),n.forEach(function(e){var n=e.trim().split("=");if(n.length>1){var i=n[0].replace(/"/g,"").trim(),a=n[1].replace(/"/g,"").trim();t.parameters[i]=a}}),t},fo=function(e){return/mp4a\.\d+.\d+/i.test(e)},po=function(e){return/avc1\.[\da-f]+/i.test(e)},mo=function(e,t,n){if("undefined"==typeof t||null===t||!e.length)return[];var i=Math.ceil(9e4*(t-n+3)),a=void 0;for(a=0;a<e.length&&!(e[a].pts>i);a++);return e.slice(a)},go=function(e,t,n){if(!t.length)return e;if(n)return t.slice();var i=t[0].pts,a=0;for(a;a<e.length&&!(e[a].pts>=i);a++);return e.slice(0,a).concat(t)},vo=function(e,t,n,i){for(var a=Math.ceil(9e4*(t-i)),r=Math.ceil(9e4*(n-i)),s=e.slice(),o=e.length;o--&&!(e[o].pts<=r););if(o===-1)return s;for(var l=o+1;l--&&!(e[l].pts<=a););return l=Math.max(l,0),s.splice(l,o-l+1),s},yo=function(e,t,n){var i=null,a=null,r=0,s=[],o=[];if(!e&&!t)return Me.createTimeRange();if(!e)return t.buffered;if(!t)return e.buffered;if(n)return e.buffered;if(0===e.buffered.length&&0===t.buffered.length)return Me.createTimeRange();for(var l=e.buffered,u=t.buffered,c=l.length;c--;)s.push({time:l.start(c),type:"start"}),s.push({time:l.end(c),type:"end"});for(c=u.length;c--;)s.push({time:u.start(c),type:"start"}),s.push({time:u.end(c),type:"end"});for(s.sort(function(e,t){return e.time-t.time}),c=0;c<s.length;c++)"start"===s[c].type?(r++,2===r&&(i=s[c].time)):"end"===s[c].type&&(r--,1===r&&(a=s[c].time)),null!==i&&null!==a&&(o.push([i,a]),i=null,a=null);return Me.createTimeRanges(o)},_o=9e4,bo=function(e,t){var n=e.addSourceBuffer(t),i=Object.create(null);i.updating=!1,i.realBuffer_=n;var a=function(e){"function"==typeof n[e]?i[e]=function(){return n[e].apply(n,arguments)}:"undefined"==typeof i[e]&&Object.defineProperty(i,e,{get:function(){return n[e]},set:function(t){return n[e]=t}})};for(var r in n)a(r);return i},To=function(e){function t(e,n){Tr(this,t);var i=wr(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,Me.EventTarget));i.timestampOffset_=0,i.pendingBuffers_=[],i.bufferUpdating_=!1,i.mediaSource_=e,i.codecs_=n,i.audioCodec_=null,i.videoCodec_=null,i.audioDisabled_=!1,i.appendAudioInitSegment_=!0,i.gopBuffer_=[],i.timeMapping_=0,i.safeAppend_=Me.browser.IE_VERSION>=11;var a={remux:!1,alignGopsAtEnd:i.safeAppend_};return i.codecs_.forEach(function(e){fo(e)?i.audioCodec_=e:po(e)&&(i.videoCodec_=e)}),i.transmuxer_=new to,i.transmuxer_.postMessage({action:"init",options:a}),i.transmuxer_.onmessage=function(e){return"data"===e.data.action?i.data_(e):"done"===e.data.action?i.done_(e):"gopInfo"===e.data.action?i.appendGopInfo_(e):"videoSegmentTimingInfo"===e.data.action?i.videoSegmentTimingInfo_(e.data.videoSegmentTimingInfo):void 0},Object.defineProperty(i,"timestampOffset",{get:function(){return this.timestampOffset_},set:function(e){"number"==typeof e&&e>=0&&(this.timestampOffset_=e,this.appendAudioInitSegment_=!0,this.gopBuffer_.length=0,this.timeMapping_=0,this.transmuxer_.postMessage({action:"setTimestampOffset",timestampOffset:e}))}}),Object.defineProperty(i,"appendWindowStart",{get:function(){return(this.videoBuffer_||this.audioBuffer_).appendWindowStart},set:function(e){this.videoBuffer_&&(this.videoBuffer_.appendWindowStart=e),this.audioBuffer_&&(this.audioBuffer_.appendWindowStart=e)}}),Object.defineProperty(i,"updating",{get:function(){return!!(this.bufferUpdating_||!this.audioDisabled_&&this.audioBuffer_&&this.audioBuffer_.updating||this.videoBuffer_&&this.videoBuffer_.updating)}}),Object.defineProperty(i,"buffered",{get:function(){return yo(this.videoBuffer_,this.audioBuffer_,this.audioDisabled_)}}),i}return Cr(t,e),kr(t,[{key:"data_",value:function(e){var t=e.data.segment;t.data=new Uint8Array(t.data,e.data.byteOffset,e.data.byteLength),t.initSegment=new Uint8Array(t.initSegment.data,t.initSegment.byteOffset,t.initSegment.byteLength),Fs(this,this.mediaSource_,t),this.pendingBuffers_.push(t)}},{key:"done_",value:function(e){return"closed"===this.mediaSource_.readyState?void(this.pendingBuffers_.length=0):void this.processPendingSegments_()}},{key:"videoSegmentTimingInfo_",value:function(e){var t={start:{decode:e.start.dts/_o,presentation:e.start.pts/_o},end:{decode:e.end.dts/_o,presentation:e.end.pts/_o},baseMediaDecodeTime:e.baseMediaDecodeTime/_o};e.prependedContentDuration&&(t.prependedContentDuration=e.prependedContentDuration/_o),this.trigger({type:"videoSegmentTimingInfo",videoSegmentTimingInfo:t})}},{key:"createRealSourceBuffers_",value:function(){var e=this,t=["audio","video"];t.forEach(function(n){if(e[n+"Codec_"]&&!e[n+"Buffer_"]){var i=null;if(e.mediaSource_[n+"Buffer_"])i=e.mediaSource_[n+"Buffer_"],i.updating=!1;else{var a=n+"Codec_",r=n+'/mp4;codecs="'+e[a]+'"';i=bo(e.mediaSource_.nativeMediaSource_,r),e.mediaSource_[n+"Buffer_"]=i}e[n+"Buffer_"]=i,["update","updatestart","updateend"].forEach(function(a){i.addEventListener(a,function(){if("audio"!==n||!e.audioDisabled_){"updateend"===a&&(e[n+"Buffer_"].updating=!1);var i=t.every(function(t){return!("audio"!==t||!e.audioDisabled_)||(n===t||!e[t+"Buffer_"]||!e[t+"Buffer_"].updating)});return i?e.trigger(a):void 0}})})}})}},{key:"appendBuffer",value:function(e){if(this.bufferUpdating_=!0,this.audioBuffer_&&this.audioBuffer_.buffered.length){var t=this.audioBuffer_.buffered;this.transmuxer_.postMessage({action:"setAudioAppendStart",appendStart:t.end(t.length-1)})}this.videoBuffer_&&this.transmuxer_.postMessage({action:"alignGopsWith",gopsToAlignWith:mo(this.gopBuffer_,this.mediaSource_.player_?this.mediaSource_.player_.currentTime():null,this.timeMapping_)}),this.transmuxer_.postMessage({action:"push",data:e.buffer,byteOffset:e.byteOffset,byteLength:e.byteLength},[e.buffer]),this.transmuxer_.postMessage({action:"flush"})}},{key:"appendGopInfo_",value:function(e){this.gopBuffer_=go(this.gopBuffer_,e.data.gopInfo,this.safeAppend_)}},{key:"remove",value:function(e,t){if(this.videoBuffer_&&(this.videoBuffer_.updating=!0,this.videoBuffer_.remove(e,t),this.gopBuffer_=vo(this.gopBuffer_,e,t,this.timeMapping_)),!this.audioDisabled_&&this.audioBuffer_&&(this.audioBuffer_.updating=!0,this.audioBuffer_.remove(e,t)),zs(e,t,this.metadataTrack_),this.inbandTextTracks_)for(var n in this.inbandTextTracks_)zs(e,t,this.inbandTextTracks_[n])}},{key:"processPendingSegments_",value:function(){var e={video:{segments:[],bytes:0},audio:{segments:[],bytes:0},captions:[],metadata:[]};if(!this.pendingBuffers_.length)return this.trigger("updateend"),void(this.bufferUpdating_=!1);e=this.pendingBuffers_.reduce(function(e,t){var n=t.type,i=t.data,a=t.initSegment;return e[n].segments.push(i),e[n].bytes+=i.byteLength,e[n].initSegment=a,t.captions&&(e.captions=e.captions.concat(t.captions)),t.info&&(e[n].info=t.info),t.metadata&&(e.metadata=e.metadata.concat(t.metadata)),e},e),this.videoBuffer_||this.audioBuffer_||(0===e.video.bytes&&(this.videoCodec_=null),0===e.audio.bytes&&(this.audioCodec_=null),this.createRealSourceBuffers_()),e.audio.info&&this.mediaSource_.trigger({type:"audioinfo",info:e.audio.info}),e.video.info&&this.mediaSource_.trigger({type:"videoinfo",info:e.video.info}),this.appendAudioInitSegment_&&(!this.audioDisabled_&&this.audioBuffer_&&(e.audio.segments.unshift(e.audio.initSegment),e.audio.bytes+=e.audio.initSegment.byteLength),this.appendAudioInitSegment_=!1);var t=!1;this.videoBuffer_&&e.video.bytes?(e.video.segments.unshift(e.video.initSegment),e.video.bytes+=e.video.initSegment.byteLength,this.concatAndAppendSegments_(e.video,this.videoBuffer_)):!this.videoBuffer_||!this.audioDisabled_&&this.audioBuffer_||(t=!0),Vs(this,e.captions,e.metadata),!this.audioDisabled_&&this.audioBuffer_&&this.concatAndAppendSegments_(e.audio,this.audioBuffer_),this.pendingBuffers_.length=0,t&&this.trigger("updateend"),this.bufferUpdating_=!1}},{key:"concatAndAppendSegments_",value:function(e,t){var n=0,i=void 0;if(e.bytes){i=new Uint8Array(e.bytes),e.segments.forEach(function(e){i.set(e,n),n+=e.byteLength});try{t.updating=!0,t.appendBuffer(i)}catch(e){this.mediaSource_.player_&&this.mediaSource_.player_.error({code:-3,type:"APPEND_BUFFER_ERR",message:e.message,originalError:e})}}}},{key:"abort",value:function(){this.videoBuffer_&&this.videoBuffer_.abort(),!this.audioDisabled_&&this.audioBuffer_&&this.audioBuffer_.abort(),this.transmuxer_&&this.transmuxer_.postMessage({action:"reset"}),this.pendingBuffers_.length=0,this.bufferUpdating_=!1}}]),t}(Me.EventTarget),ko=function(e){function t(){Tr(this,t);var e=wr(this,(t.__proto__||Object.getPrototypeOf(t)).call(this)),n=void 0;e.nativeMediaSource_=new Fe.MediaSource;for(n in e.nativeMediaSource_)n in t.prototype||"function"!=typeof e.nativeMediaSource_[n]||(e[n]=e.nativeMediaSource_[n].bind(e.nativeMediaSource_));return e.duration_=NaN,Object.defineProperty(e,"duration",{get:function(){return this.duration_===1/0?this.duration_:this.nativeMediaSource_.duration},set:function(e){if(this.duration_=e,e!==1/0)return void(this.nativeMediaSource_.duration=e)}}),Object.defineProperty(e,"seekable",{get:function(){return this.duration_===1/0?Me.createTimeRanges([[0,this.nativeMediaSource_.duration]]):this.nativeMediaSource_.seekable}}),Object.defineProperty(e,"readyState",{get:function(){return this.nativeMediaSource_.readyState}}),Object.defineProperty(e,"activeSourceBuffers",{get:function(){return this.activeSourceBuffers_}}),e.sourceBuffers=[],e.activeSourceBuffers_=[],e.updateActiveSourceBuffers_=function(){if(e.activeSourceBuffers_.length=0,1===e.sourceBuffers.length){var t=e.sourceBuffers[0];return t.appendAudioInitSegment_=!0,t.audioDisabled_=!t.audioCodec_,void e.activeSourceBuffers_.push(t)}for(var n=!1,i=!0,a=0;a<e.player_.audioTracks().length;a++){var r=e.player_.audioTracks()[a];if(r.enabled&&"main"!==r.kind){n=!0,i=!1;break}}e.sourceBuffers.forEach(function(t,a){if(t.appendAudioInitSegment_=!0,t.videoCodec_&&t.audioCodec_)t.audioDisabled_=n;else if(t.videoCodec_&&!t.audioCodec_)t.audioDisabled_=!0,i=!1;else if(!t.videoCodec_&&t.audioCodec_&&(t.audioDisabled_=a?i:!i,t.audioDisabled_))return;e.activeSourceBuffers_.push(t)})},e.onPlayerMediachange_=function(){e.sourceBuffers.forEach(function(e){e.appendAudioInitSegment_=!0})},e.onHlsReset_=function(){e.sourceBuffers.forEach(function(e){e.transmuxer_&&e.transmuxer_.postMessage({action:"resetCaptions"})})},e.onHlsSegmentTimeMapping_=function(t){e.sourceBuffers.forEach(function(e){return e.timeMapping_=t.mapping})},["sourceopen","sourceclose","sourceended"].forEach(function(e){this.nativeMediaSource_.addEventListener(e,this.trigger.bind(this))},e),e.on("sourceopen",function(t){var n=ze.querySelector('[src="'+e.url_+'"]');n&&(e.player_=Me(n.parentNode),e.player_&&(e.player_.tech_.on("hls-reset",e.onHlsReset_),e.player_.tech_.on("hls-segment-time-mapping",e.onHlsSegmentTimeMapping_),e.player_.audioTracks&&e.player_.audioTracks()&&(e.player_.audioTracks().on("change",e.updateActiveSourceBuffers_),e.player_.audioTracks().on("addtrack",e.updateActiveSourceBuffers_),e.player_.audioTracks().on("removetrack",e.updateActiveSourceBuffers_)),e.player_.on("mediachange",e.onPlayerMediachange_)))}),e.on("sourceended",function(t){for(var n=Gs(e.duration),i=0;i<e.sourceBuffers.length;i++){var a=e.sourceBuffers[i],r=a.metadataTrack_&&a.metadataTrack_.cues;r&&r.length&&(r[r.length-1].endTime=n)}}),e.on("sourceclose",function(e){this.sourceBuffers.forEach(function(e){e.transmuxer_&&e.transmuxer_.terminate()}),this.sourceBuffers.length=0,this.player_&&(this.player_.audioTracks&&this.player_.audioTracks()&&(this.player_.audioTracks().off("change",this.updateActiveSourceBuffers_),this.player_.audioTracks().off("addtrack",this.updateActiveSourceBuffers_),this.player_.audioTracks().off("removetrack",this.updateActiveSourceBuffers_)),this.player_.el_&&this.player_.off("mediachange",this.onPlayerMediachange_),this.player_.tech_&&this.player_.tech_.el_&&(this.player_.tech_.off("hls-reset",this.onHlsReset_),this.player_.tech_.off("hls-segment-time-mapping",this.onHlsSegmentTimeMapping_)))}),e}return Cr(t,e),kr(t,[{key:"addSeekableRange_",value:function(e,t){var n=void 0;if(this.duration!==1/0)throw n=new Error("MediaSource.addSeekableRange() can only be invoked when the duration is Infinity"),n.name="InvalidStateError",n.code=11,n;(t>this.nativeMediaSource_.duration||isNaN(this.nativeMediaSource_.duration))&&(this.nativeMediaSource_.duration=t)}},{key:"addSourceBuffer",value:function(e){var t=void 0,n=ho(e);if(/^(video|audio)\/mp2t$/i.test(n.type)){var i=[];n.parameters&&n.parameters.codecs&&(i=n.parameters.codecs.split(","),i=io(i),i=i.filter(function(e){return fo(e)||po(e)})),0===i.length&&(i=["avc1.4d400d","mp4a.40.2"]),t=new To(this,i),0!==this.sourceBuffers.length&&(this.sourceBuffers[0].createRealSourceBuffers_(),t.createRealSourceBuffers_(),this.sourceBuffers[0].audioDisabled_=!0)}else t=this.nativeMediaSource_.addSourceBuffer(e);return this.sourceBuffers.push(t),t}}]),t}(Me.EventTarget),So=0;Me.mediaSources={};var Co=function(e,t){var n=Me.mediaSources[e];if(!n)throw new Error("Media Source not found (Video.js)");n.trigger({type:"sourceopen",swfId:t})},wo=function(){return!!Fe.MediaSource&&!!Fe.MediaSource.isTypeSupported&&Fe.MediaSource.isTypeSupported('video/mp4;codecs="avc1.4d400d,mp4a.40.2"')},Eo=function(){if(this.MediaSource={open:Co,supportsNativeMediaSources:wo},wo())return new ko;throw new Error("Cannot use create a virtual MediaSource for this video")};Eo.open=Co,Eo.supportsNativeMediaSources=wo;var Ao={createObjectURL:function(e){var t="blob:vjs-media-source/",n=void 0;return e instanceof ko?(n=Fe.URL.createObjectURL(e.nativeMediaSource_),e.url_=n,n):e instanceof ko?(n=t+So,So++,Me.mediaSources[n]=e,n):(n=Fe.URL.createObjectURL(e),e.url_=n,n)}};Me.MediaSource=Eo,Me.URL=Ao;var Io=Me.EventTarget,Lo=Me.mergeOptions,xo=function(e,t){for(var n=void 0,i=Lo(e,{duration:t.duration,minimumUpdatePeriod:t.minimumUpdatePeriod}),a=0;a<t.playlists.length;a++){var r=Dr(i,t.playlists[a]);r?i=r:n=!0}return xr(t,function(e,t,a,r){if(e.playlists&&e.playlists.length){var s=e.playlists[0].uri,o=Dr(i,e.playlists[0]);o&&(i=o,i.mediaGroups[t][a][r].playlists[0]=i.playlists[s],n=!1)}}),n?null:i},Po=function(e){var t=e.byterange.offset+e.byterange.length-1;return e.uri+"-"+e.byterange.offset+"-"+t},Oo=function(e,t){var n=Boolean(!e.map&&!t.map),i=n||Boolean(e.map&&t.map&&e.map.byterange.offset===t.map.byterange.offset&&e.map.byterange.length===t.map.byterange.length);return i&&e.uri===t.uri&&e.byterange.offset===t.byterange.offset&&e.byterange.length===t.byterange.length},Do=function(e,t){var n={};for(var i in e){var a=e[i],r=a.sidx;if(r){var s=Po(r);if(!t[s])break;var o=t[s].sidxInfo;Oo(o,r)&&(n[s]=t[s])}}return n},No=function(e,t,n,i){var a=Ye.parse(e,{manifestUri:t,clientOffset:n}),r=Do(a.playlists,i),s=r;return xr(a,function(e,t,n,a){if(e.playlists&&e.playlists.length){var r=e.playlists;s=Lo(s,Do(r,i))}}),s},Mo=function(e,t,n,i,a){var r={uri:br(i.handleManifestRedirects,e.resolvedUri),byterange:e.byterange,playlist:t},s=Me.mergeOptions(r,{responseType:"arraybuffer",headers:hs(r)});return n(s,a)},Ro=function(e){function t(e,n){var i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},a=arguments[3];Tr(this,t);var r=wr(this,(t.__proto__||Object.getPrototypeOf(t)).call(this)),s=i.withCredentials,o=void 0!==s&&s,l=i.handleManifestRedirects,u=void 0!==l&&l;if(r.hls_=n,r.withCredentials=o,r.handleManifestRedirects=u,!e)throw new Error("A non-empty playlist URL or playlist is required");return r.on("minimumUpdatePeriod",function(){r.refreshXml_()}),r.on("mediaupdatetimeout",function(){r.refreshMedia_(r.media().uri)}),r.state="HAVE_NOTHING",r.loadedPlaylists_={},"string"==typeof e?(r.srcUrl=e,r.sidxMapping_={},wr(r)):(r.setupChildLoader(a,e),r)}return Cr(t,e),kr(t,[{key:"setupChildLoader",value:function(e,t){this.masterPlaylistLoader_=e,this.childPlaylist_=t}},{key:"dispose",value:function(){this.stopRequest(),this.loadedPlaylists_={},Fe.clearTimeout(this.minimumUpdatePeriodTimeout_),Fe.clearTimeout(this.mediaRequest_),Fe.clearTimeout(this.mediaUpdateTimeout)}},{key:"hasPendingRequest",value:function(){return this.request||this.mediaRequest_}},{key:"stopRequest",value:function(){if(this.request){var e=this.request;this.request=null,e.onreadystatechange=null,e.abort()}}},{key:"sidxRequestFinished_",value:function(e,t,n,i){var a=this;return function(r,s){if(a.request){if(a.request=null,r)return a.error={status:s.status,message:"DASH playlist request error at URL: "+e.uri,response:s.response,code:2},n&&(a.state=n),a.trigger("error"),i(t,null);var o=new Uint8Array(s.response),l=Xe.parseSidx(o.subarray(8));return i(t,l)}}}},{key:"media",value:function(e){var t=this;if(!e)return this.media_;if("HAVE_NOTHING"===this.state)throw new Error("Cannot switch media playlist from "+this.state);var n=this.state;if("string"==typeof e){if(!this.master.playlists[e])throw new Error("Unknown playlist URI: "+e);e=this.master.playlists[e]}var i=!this.media_||e.uri!==this.media_.uri;if(i&&this.loadedPlaylists_[e.uri]&&this.loadedPlaylists_[e.uri].endList)return this.state="HAVE_METADATA",this.media_=e,void(i&&(this.trigger("mediachanging"),this.trigger("mediachange")));if(i){if(this.media_&&this.trigger("mediachanging"),
!e.sidx)return void(this.mediaRequest_=Fe.setTimeout(this.haveMetadata.bind(this,{startingState:n,playlist:e}),0));var a=void 0,r=void 0;this.masterPlaylistLoader_?(a=this.masterPlaylistLoader_.master,r=this.masterPlaylistLoader_.sidxMapping_):(a=this.master,r=this.sidxMapping_);var s=Po(e.sidx);r[s]={sidxInfo:e.sidx},this.request=Mo(e.sidx,e,this.hls_.xhr,{handleManifestRedirects:this.handleManifestRedirects},this.sidxRequestFinished_(e,a,n,function(i,a){if(!i||!a)throw new Error("failed to request sidx");r[s].sidx=a,t.haveMetadata({startingState:n,playlist:i.playlists[e.uri]})}))}}},{key:"haveMetadata",value:function(e){var t=e.startingState,n=e.playlist;this.state="HAVE_METADATA",this.loadedPlaylists_[n.uri]=n,this.mediaRequest_=null,this.refreshMedia_(n.uri),"HAVE_MASTER"===t?this.trigger("loadedmetadata"):this.trigger("mediachange")}},{key:"pause",value:function(){this.stopRequest(),Fe.clearTimeout(this.mediaUpdateTimeout),Fe.clearTimeout(this.minimumUpdatePeriodTimeout_),"HAVE_NOTHING"===this.state&&(this.started=!1)}},{key:"load",value:function(e){var t=this;Fe.clearTimeout(this.mediaUpdateTimeout),Fe.clearTimeout(this.minimumUpdatePeriodTimeout_);var n=this.media();if(e){var i=n?n.targetDuration/2*1e3:5e3;return void(this.mediaUpdateTimeout=Fe.setTimeout(function(){return t.load()},i))}return this.started?void this.trigger("loadedplaylist"):void this.start()}},{key:"parseMasterXml",value:function(){var e=Ye.parse(this.masterXml_,{manifestUri:this.srcUrl,clientOffset:this.clientOffset_,sidxMapping:this.sidxMapping_});e.uri=this.srcUrl;for(var t=0;t<e.playlists.length;t++){var n="placeholder-uri-"+t;e.playlists[t].uri=n,e.playlists[n]=e.playlists[t]}return xr(e,function(t,n,i,a){if(t.playlists&&t.playlists.length){var r="placeholder-uri-"+n+"-"+i+"-"+a;t.playlists[0].uri=r,e.playlists[r]=t.playlists[0]}}),Nr(e),Mr(e),e}},{key:"start",value:function(){var e=this;return this.started=!0,this.masterPlaylistLoader_?void(this.mediaRequest_=Fe.setTimeout(this.haveMaster_.bind(this),0)):void(this.request=this.hls_.xhr({uri:this.srcUrl,withCredentials:this.withCredentials},function(t,n){if(e.request){if(e.request=null,t)return e.error={status:n.status,message:"DASH playlist request error at URL: "+e.srcUrl,responseText:n.responseText,code:2},"HAVE_NOTHING"===e.state&&(e.started=!1),e.trigger("error");e.masterXml_=n.responseText,n.responseHeaders&&n.responseHeaders.date?e.masterLoaded_=Date.parse(n.responseHeaders.date):e.masterLoaded_=Date.now(),e.srcUrl=br(e.handleManifestRedirects,e.srcUrl,n),e.syncClientServerClock_(e.onClientServerClockSync_.bind(e))}}))}},{key:"syncClientServerClock_",value:function(e){var t=this,n=Ye.parseUTCTiming(this.masterXml_);return null===n?(this.clientOffset_=this.masterLoaded_-Date.now(),e()):"DIRECT"===n.method?(this.clientOffset_=n.value-Date.now(),e()):void(this.request=this.hls_.xhr({uri:_r(this.srcUrl,n.value),method:n.method,withCredentials:this.withCredentials},function(i,a){if(t.request){if(i)return t.clientOffset_=t.masterLoaded_-Date.now(),e();var r=void 0;r="HEAD"===n.method?a.responseHeaders&&a.responseHeaders.date?Date.parse(a.responseHeaders.date):t.masterLoaded_:Date.parse(a.responseText),t.clientOffset_=r-Date.now(),e()}}))}},{key:"haveMaster_",value:function(){this.state="HAVE_MASTER",this.mediaRequest_=null,this.masterPlaylistLoader_?this.media_||this.media(this.childPlaylist_):(this.master=this.parseMasterXml(),this.trigger("loadedplaylist"))}},{key:"onClientServerClockSync_",value:function(){var e=this;this.haveMaster_(),this.hasPendingRequest()||this.media_||this.media(this.master.playlists[0]),this.master&&this.master.minimumUpdatePeriod&&(this.minimumUpdatePeriodTimeout_=Fe.setTimeout(function(){e.trigger("minimumUpdatePeriod")},this.master.minimumUpdatePeriod))}},{key:"refreshXml_",value:function(){var e=this;this.request=this.hls_.xhr({uri:this.srcUrl,withCredentials:this.withCredentials},function(t,n){if(e.request){if(e.request=null,t)return e.error={status:n.status,message:"DASH playlist request error at URL: "+e.srcUrl,responseText:n.responseText,code:2},"HAVE_NOTHING"===e.state&&(e.started=!1),e.trigger("error");e.masterXml_=n.responseText,e.sidxMapping_=No(e.masterXml_,e.srcUrl,e.clientOffset_,e.sidxMapping_);var i=e.parseMasterXml(),a=xo(e.master,i),r=e.media().sidx;if(a)if(r){var s=Po(r);if(!e.sidxMapping_[s]){var o=e.media();e.request=Mo(o.sidx,o,e.hls_.xhr,{handleManifestRedirects:e.handleManifestRedirects},e.sidxRequestFinished_(o,i,e.state,function(t,n){if(!t||!n)throw new Error("failed to request sidx on minimumUpdatePeriod");e.sidxMapping_[s].sidx=n,e.minimumUpdatePeriodTimeout_=Fe.setTimeout(function(){e.trigger("minimumUpdatePeriod")},e.master.minimumUpdatePeriod),e.refreshMedia_(e.media().uri)}))}}else e.master=a;e.minimumUpdatePeriodTimeout_=Fe.setTimeout(function(){e.trigger("minimumUpdatePeriod")},e.master.minimumUpdatePeriod)}})}},{key:"refreshMedia_",value:function(e){var t=this;if(!e)throw new Error("refreshMedia_ must take a media uri");var n=void 0,i=void 0;this.masterPlaylistLoader_?(n=this.masterPlaylistLoader_.master,i=this.masterPlaylistLoader_.parseMasterXml()):(n=this.master,i=this.parseMasterXml());var a=xo(n,i);a?(this.masterPlaylistLoader_?this.masterPlaylistLoader_.master=a:this.master=a,this.media_=a.playlists[e]):(this.media_=i.playlists[e],this.trigger("playlistunchanged")),this.media().endList||(this.mediaUpdateTimeout=Fe.setTimeout(function(){t.trigger("mediaupdatetimeout")},Rr(this.media(),!!a))),this.trigger("loadedplaylist")}}]),t}(Io),Bo=function(e){return Me.log.debug?Me.log.debug.bind(Me,"VHS:",e+" >"):function(){}},jo=function(){function e(t,n,i,a){Tr(this,e),this.callbacks_=[],this.pendingCallback_=null,this.timestampOffset_=0,this.mediaSource=t,this.processedAppend_=!1,this.type_=i,this.mimeType_=n,this.logger_=Bo("SourceUpdater["+i+"]["+n+"]"),"closed"===t.readyState?t.addEventListener("sourceopen",this.createSourceBuffer_.bind(this,n,a)):this.createSourceBuffer_(n,a)}return kr(e,[{key:"createSourceBuffer_",value:function(e,t){var n=this;return this.sourceBuffer_=this.mediaSource.addSourceBuffer(e),this.logger_("created SourceBuffer"),t&&(t.trigger("sourcebufferadded"),this.mediaSource.sourceBuffers.length<2)?void t.on("sourcebufferadded",function(){n.start_()}):void this.start_()}},{key:"start_",value:function(){var e=this;this.started_=!0,this.onUpdateendCallback_=function(){var t=e.pendingCallback_;e.pendingCallback_=null,e.sourceBuffer_.removing=!1,e.logger_("buffered ["+js(e.buffered())+"]"),t&&t(),e.runCallback_()},this.sourceBuffer_.addEventListener("updateend",this.onUpdateendCallback_),this.runCallback_()}},{key:"abort",value:function(e){var t=this;this.processedAppend_&&this.queueCallback_(function(){t.sourceBuffer_.abort()},e)}},{key:"appendBuffer",value:function(e,t){var n=this;this.processedAppend_=!0,this.queueCallback_(function(){e.videoSegmentTimingInfoCallback&&n.sourceBuffer_.addEventListener("videoSegmentTimingInfo",e.videoSegmentTimingInfoCallback),n.sourceBuffer_.appendBuffer(e.bytes)},function(){e.videoSegmentTimingInfoCallback&&n.sourceBuffer_.removeEventListener("videoSegmentTimingInfo",e.videoSegmentTimingInfoCallback),t()})}},{key:"buffered",value:function(){return this.sourceBuffer_?this.sourceBuffer_.buffered:Me.createTimeRanges()}},{key:"remove",value:function(e,t){var n=this,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:Ue;this.processedAppend_&&this.queueCallback_(function(){n.logger_("remove ["+e+" => "+t+"]"),n.sourceBuffer_.removing=!0,n.sourceBuffer_.remove(e,t)},i)}},{key:"updating",value:function(){return!this.sourceBuffer_||this.sourceBuffer_.updating||!!this.pendingCallback_&&this.pendingCallback_!==Ue}},{key:"timestampOffset",value:function(e){var t=this;return"undefined"!=typeof e&&(this.queueCallback_(function(){t.sourceBuffer_.timestampOffset=e,t.runCallback_()}),this.timestampOffset_=e),this.timestampOffset_}},{key:"queueCallback_",value:function(e,t){this.callbacks_.push([e.bind(this),t]),this.runCallback_()}},{key:"runCallback_",value:function(){var e=void 0;!this.updating()&&this.callbacks_.length&&this.started_&&(e=this.callbacks_.shift(),this.pendingCallback_=e[1],e[0]())}},{key:"dispose",value:function(){var e=this,t=function t(){e.sourceBuffer_&&"open"===e.mediaSource.readyState&&e.sourceBuffer_.abort(),e.sourceBuffer_.removeEventListener("updateend",t)};this.sourceBuffer_.removeEventListener("updateend",this.onUpdateendCallback_),this.sourceBuffer_.removing?this.sourceBuffer_.addEventListener("updateend",t):t()}}]),e}(),Uo={GOAL_BUFFER_LENGTH:30,MAX_GOAL_BUFFER_LENGTH:60,GOAL_BUFFER_LENGTH_RATE:1,INITIAL_BANDWIDTH:4194304,BANDWIDTH_VARIANCE:1.2,BUFFER_LOW_WATER_LINE:0,MAX_BUFFER_LOW_WATER_LINE:30,BUFFER_LOW_WATER_LINE_RATE:1},Ho={FAILURE:2,TIMEOUT:-101,ABORTED:-102},Fo=function(e){e.forEach(function(e){e.abort()})},zo=function(e){return{bandwidth:e.bandwidth,bytesReceived:e.bytesReceived||0,roundTripTime:e.roundTripTime||0}},Ko=function(e){var t=e.target,n=Date.now()-t.requestTime,i={bandwidth:1/0,bytesReceived:0,roundTripTime:n||0};return i.bytesReceived=e.loaded,i.bandwidth=Math.floor(i.bytesReceived/i.roundTripTime*8*1e3),i},Go=function(e,t){return t.timedout?{status:t.status,message:"HLS request timed-out at URL: "+t.uri,code:Ho.TIMEOUT,xhr:t}:t.aborted?{status:t.status,message:"HLS request aborted at URL: "+t.uri,code:Ho.ABORTED,xhr:t}:e?{status:t.status,message:"HLS request errored at URL: "+t.uri,code:Ho.FAILURE,xhr:t}:null},Vo=function(e,t){return function(n,i){var a=i.response,r=Go(n,i);if(r)return t(r,e);if(16!==a.byteLength)return t({status:i.status,message:"Invalid HLS key at URL: "+i.uri,code:Ho.FAILURE,xhr:i},e);var s=new DataView(a);return e.key.bytes=new Uint32Array([s.getUint32(0),s.getUint32(4),s.getUint32(8),s.getUint32(12)]),t(null,e)}},Wo=function(e,t,n){return function(i,a){var r=a.response,s=Go(i,a);return s?n(s,e):0===r.byteLength?n({status:a.status,message:"Empty HLS segment content at URL: "+a.uri,code:Ho.FAILURE,xhr:a},e):(e.map.bytes=new Uint8Array(a.response),t&&!t.isInitialized()&&t.init(),e.map.timescales=Qe.timescale(e.map.bytes),e.map.videoTrackIds=Qe.videoTrackIds(e.map.bytes),n(null,e))}},qo=function(e,t,n){return function(i,a){var r=a.response,s=Go(i,a),o=void 0;return s?n(s,e):0===r.byteLength?n({status:a.status,message:"Empty HLS segment content at URL: "+a.uri,code:Ho.FAILURE,xhr:a},e):(e.stats=zo(a),e.key?e.encryptedBytes=new Uint8Array(a.response):e.bytes=new Uint8Array(a.response),t&&e.map&&e.map.bytes&&(t.isInitialized()||t.init(),o=t.parse(e.bytes,e.map.videoTrackIds,e.map.timescales),o&&o.captions&&(e.captionStreams=o.captionStreams,e.fmp4Captions=o.captions)),n(null,e))}},$o=function(e,t,n){var i=function i(a){if(a.data.source===t.requestId){e.removeEventListener("message",i);var r=a.data.decrypted;return t.bytes=new Uint8Array(r.bytes,r.byteOffset,r.byteLength),n(null,t)}};e.addEventListener("message",i);var a=void 0;a=t.key.bytes.slice?t.key.bytes.slice():new Uint32Array(Array.prototype.slice.call(t.key.bytes)),e.postMessage(gs({source:t.requestId,encrypted:t.encryptedBytes,key:a,iv:t.key.iv}),[t.encryptedBytes.buffer,a.buffer])},Yo=function(e,t,n){var i=0,a=!1;return function(r,s){if(!a)return r?(a=!0,Fo(e),n(r,s)):(i+=1,i===e.length?(s.endOfAllRequests=Date.now(),s.encryptedBytes?$o(t,s,n):n(null,s)):void 0)}},Xo=function(e,t){return function(n){return e.stats=Me.mergeOptions(e.stats,Ko(n)),!e.stats.firstBytesReceivedAt&&e.stats.bytesReceived&&(e.stats.firstBytesReceivedAt=Date.now()),t(n,e)}},Qo=function(e,t,n,i,a,r,s){var o=[],l=Yo(o,n,s);if(a.key&&!a.key.bytes){var u=Me.mergeOptions(t,{uri:a.key.resolvedUri,responseType:"arraybuffer"}),c=Vo(a,l),d=e(u,c);o.push(d)}if(a.map&&!a.map.bytes){var h=Me.mergeOptions(t,{uri:a.map.resolvedUri,responseType:"arraybuffer",headers:hs(a.map)}),f=Wo(a,i,l),p=e(h,f);o.push(p)}var m=Me.mergeOptions(t,{uri:a.resolvedUri,responseType:"arraybuffer",headers:hs(a)}),g=qo(a,i,l),v=e(m,g);return v.addEventListener("progress",Xo(a,r)),o.push(v),function(){return Fo(o)}},Jo=function(e,t){var n=void 0;return e?(n=Fe.getComputedStyle(e),n?n[t]:""):""},Zo=function(e,t){var n=e.slice();e.sort(function(e,i){var a=t(e,i);return 0===a?n.indexOf(e)-n.indexOf(i):a})},el=function(e,t){var n=void 0,i=void 0;return e.attributes.BANDWIDTH&&(n=e.attributes.BANDWIDTH),n=n||Fe.Number.MAX_VALUE,t.attributes.BANDWIDTH&&(i=t.attributes.BANDWIDTH),i=i||Fe.Number.MAX_VALUE,n-i},tl=function(e,t){var n=void 0,i=void 0;return e.attributes.RESOLUTION&&e.attributes.RESOLUTION.width&&(n=e.attributes.RESOLUTION.width),n=n||Fe.Number.MAX_VALUE,t.attributes.RESOLUTION&&t.attributes.RESOLUTION.width&&(i=t.attributes.RESOLUTION.width),i=i||Fe.Number.MAX_VALUE,n===i&&e.attributes.BANDWIDTH&&t.attributes.BANDWIDTH?e.attributes.BANDWIDTH-t.attributes.BANDWIDTH:n-i},nl=function(e,t,n,i,a){var r=e.playlists.map(function(e){var t=void 0,n=void 0,i=void 0;return t=e.attributes.RESOLUTION&&e.attributes.RESOLUTION.width,n=e.attributes.RESOLUTION&&e.attributes.RESOLUTION.height,i=e.attributes.BANDWIDTH,i=i||Fe.Number.MAX_VALUE,{bandwidth:i,width:t,height:n,playlist:e}});Zo(r,function(e,t){return e.bandwidth-t.bandwidth}),r=r.filter(function(e){return!os.isIncompatible(e.playlist)});var s=r.filter(function(e){return os.isEnabled(e.playlist)});s.length||(s=r.filter(function(e){return!os.isDisabled(e.playlist)}));var o=s.filter(function(e){return e.bandwidth*Uo.BANDWIDTH_VARIANCE<t}),l=o[o.length-1],u=o.filter(function(e){return e.bandwidth===l.bandwidth})[0];if(a===!1){var c=u||s[0]||r[0];return c?c.playlist:null}var d=o.filter(function(e){return e.width&&e.height});Zo(d,function(e,t){return e.width-t.width});var h=d.filter(function(e){return e.width===n&&e.height===i});l=h[h.length-1];var f=h.filter(function(e){return e.bandwidth===l.bandwidth})[0],p=void 0,m=void 0,g=void 0;f||(p=d.filter(function(e){return e.width>n||e.height>i}),m=p.filter(function(e){return e.width===p[0].width&&e.height===p[0].height}),l=m[m.length-1],g=m.filter(function(e){return e.bandwidth===l.bandwidth})[0]);var v=g||f||u||s[0]||r[0];return v?v.playlist:null},il=function(){return nl(this.playlists.master,this.systemBandwidth,parseInt(Jo(this.tech_.el(),"width"),10),parseInt(Jo(this.tech_.el(),"height"),10),this.limitRenditionByPlayerDimensions)},al=function(e){var t=e.master,n=e.currentTime,i=e.bandwidth,a=e.duration,r=e.segmentDuration,s=e.timeUntilRebuffer,o=e.currentTimeline,l=e.syncController,u=t.playlists.filter(function(e){return!os.isIncompatible(e)}),c=u.filter(os.isEnabled);c.length||(c=u.filter(function(e){return!os.isDisabled(e)}));var d=c.filter(os.hasAttribute.bind(null,"BANDWIDTH")),h=d.map(function(e){var t=l.getSyncPoint(e,a,o,n),u=t?1:2,c=os.estimateSegmentRequestTime(r,i,e),d=c*u-s;return{playlist:e,rebufferingImpact:d}}),f=h.filter(function(e){return e.rebufferingImpact<=0});return Zo(f,function(e,t){return el(t.playlist,e.playlist)}),f.length?f[0]:(Zo(h,function(e,t){return e.rebufferingImpact-t.rebufferingImpact}),h[0]||null)},rl=function(){var e=this.playlists.master.playlists.filter(os.isEnabled);Zo(e,function(e,t){return el(e,t)});var t=e.filter(function(e){return ao(e.attributes.CODECS).videoCodec});return t[0]||null},sl=function(e,t,n){for(var i in n)if(!e[i]){t.trigger({type:"usage",name:"hls-608"});var a=t.textTracks().getTrackById(i);a?e[i]=a:e[i]=t.addRemoteTextTrack({kind:"captions",id:i,label:i},!1).track}},ol=function(e){var t=e.inbandTextTracks,n=e.captionArray,i=e.timestampOffset;if(n){var a=window.WebKitDataCue||window.VTTCue;n.forEach(function(e){var n=e.stream,r=e.startTime,s=e.endTime;t[n]&&(r+=i,s+=i,t[n].addCue(new a(r,s,e.text)))})}},ll=500,ul=function(e,t,n){if(!e||!t)return!1;var i=e.segments,a=n===i.length;return e.endList&&"open"===t.readyState&&a},cl=function(e){return"number"==typeof e&&isFinite(e)},dl=function(e,t,n){return"main"===e&&t&&n?n.containsAudio||n.containsVideo?t.containsVideo&&!n.containsVideo?"Only audio found in segment when we expected video. We can't switch to audio only from a stream that had video. To get rid of this message, please add codec information to the manifest.":!t.containsVideo&&n.containsVideo?"Video found in segment when we expected only audio. We can't switch to a stream with video from an audio only stream. To get rid of this message, please add codec information to the manifest.":null:"Neither audio nor video found in segment.":null},hl=function(e,t,n){var i=void 0;return i=e.length&&e.start(0)>0&&e.start(0)<t?e.start(0):t-30,Math.min(i,t-n)},fl=function(e){var t=e.segment,n=t.start,i=t.end,a=e.playlist,r=a.mediaSequence,s=a.id,o=a.segments,l=void 0===o?[]:o,u=e.mediaIndex,c=e.timeline;return["appending ["+u+"] of ["+r+", "+(r+l.length)+"] from playlist ["+s+"]","["+n+" => "+i+"] in timeline ["+c+"]"].join(" ")},pl=function(e){function t(e){Tr(this,t);var n=wr(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));if(!e)throw new TypeError("Initialization settings are required");if("function"!=typeof e.currentTime)throw new TypeError("No currentTime getter specified");if(!e.mediaSource)throw new TypeError("No MediaSource specified");return n.bandwidth=e.bandwidth,n.throughput={rate:0,count:0},n.roundTrip=NaN,n.resetStats_(),n.mediaIndex=null,n.hasPlayed_=e.hasPlayed,n.currentTime_=e.currentTime,n.seekable_=e.seekable,n.seeking_=e.seeking,n.duration_=e.duration,n.mediaSource_=e.mediaSource,n.hls_=e.hls,n.loaderType_=e.loaderType,n.startingMedia_=void 0,n.segmentMetadataTrack_=e.segmentMetadataTrack,n.goalBufferLength_=e.goalBufferLength,n.sourceType_=e.sourceType,n.inbandTextTracks_=e.inbandTextTracks,n.state_="INIT",n.checkBufferTimeout_=null,n.error_=void 0,n.currentTimeline_=-1,n.pendingSegment_=null,n.mimeType_=null,n.sourceUpdater_=null,n.xhrOptions_=null,n.activeInitSegmentId_=null,n.initSegments_={},n.cacheEncryptionKeys_=e.cacheEncryptionKeys,n.keyCache_={},"main"===n.loaderType_?n.captionParser_=new Je:n.captionParser_=null,n.decrypter_=e.decrypter,n.syncController_=e.syncController,n.syncPoint_={segmentIndex:0,time:0},n.syncController_.on("syncinfoupdate",function(){return n.trigger("syncinfoupdate")}),n.mediaSource_.addEventListener("sourceopen",function(){return n.ended_=!1}),n.fetchAtBuffer_=!1,n.logger_=Bo("SegmentLoader["+n.loaderType_+"]"),Object.defineProperty(n,"state",{get:function(){return this.state_},set:function(e){e!==this.state_&&(this.logger_(this.state_+" -> "+e),this.state_=e)}}),n}return Cr(t,e),kr(t,[{key:"resetStats_",value:function(){this.mediaBytesTransferred=0,this.mediaRequests=0,this.mediaRequestsAborted=0,this.mediaRequestsTimedout=0,this.mediaRequestsErrored=0,this.mediaTransferDuration=0,this.mediaSecondsLoaded=0}},{key:"dispose",value:function(){this.state="DISPOSED",this.pause(),this.abort_(),this.sourceUpdater_&&this.sourceUpdater_.dispose(),this.resetStats_(),this.captionParser_&&this.captionParser_.reset()}},{key:"abort",value:function(){return"WAITING"!==this.state?void(this.pendingSegment_&&(this.pendingSegment_=null)):(this.abort_(),this.state="READY",void(this.paused()||this.monitorBuffer_()))}},{key:"abort_",value:function(){this.pendingSegment_&&this.pendingSegment_.abortRequests(),this.pendingSegment_=null}},{key:"error",value:function(e){return"undefined"!=typeof e&&(this.error_=e),this.pendingSegment_=null,this.error_}},{key:"endOfStream",value:function(){this.ended_=!0,this.pause(),this.trigger("ended")}},{key:"buffered_",value:function(){return this.sourceUpdater_?this.sourceUpdater_.buffered():Me.createTimeRanges()}},{key:"initSegment",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(!e)return null;var n=vs(e),i=this.initSegments_[n];return t&&!i&&e.bytes&&(this.initSegments_[n]=i={resolvedUri:e.resolvedUri,byterange:e.byterange,bytes:e.bytes,timescales:e.timescales,videoTrackIds:e.videoTrackIds}),i||e}},{key:"segmentKey",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(!e)return null;var n=ys(e),i=this.keyCache_[n];this.cacheEncryptionKeys_&&t&&!i&&e.bytes&&(this.keyCache_[n]=i={resolvedUri:e.resolvedUri,bytes:e.bytes});var a={resolvedUri:(i||e).resolvedUri};return i&&(a.bytes=i.bytes),a}},{key:"couldBeginLoading_",value:function(){return this.playlist_&&(this.sourceUpdater_||this.mimeType_&&"INIT"===this.state)&&!this.paused()}},{key:"load",value:function(){if(this.monitorBuffer_(),this.playlist_)return this.syncController_.setDateTimeMapping(this.playlist_),"INIT"===this.state&&this.couldBeginLoading_()?this.init_():void(!this.couldBeginLoading_()||"READY"!==this.state&&"INIT"!==this.state||(this.state="READY"))}},{key:"init_",value:function(){return this.state="READY",this.sourceUpdater_=new jo(this.mediaSource_,this.mimeType_,this.loaderType_,this.sourceBufferEmitter_),this.resetEverything(),this.monitorBuffer_()}},{key:"playlist",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(e){var n=this.playlist_,i=this.pendingSegment_;this.playlist_=e,this.xhrOptions_=t,this.hasPlayed_()||(e.syncInfo={mediaSequence:e.mediaSequence,time:0});var a=null;if(n&&(n.id?a=n.id:n.uri&&(a=n.uri)),this.logger_("playlist update ["+a+" => "+(e.id||e.uri)+"]"),this.trigger("syncinfoupdate"),"INIT"===this.state&&this.couldBeginLoading_())return this.init_();if(!n||n.uri!==e.uri)return void(null!==this.mediaIndex&&this.resyncLoader());var r=e.mediaSequence-n.mediaSequence;this.logger_("live window shift ["+r+"]"),null!==this.mediaIndex&&(this.mediaIndex-=r),i&&(i.mediaIndex-=r,i.mediaIndex>=0&&(i.segment=e.segments[i.mediaIndex])),this.syncController_.saveExpiredSegmentInfo(n,e)}}},{key:"pause",value:function(){this.checkBufferTimeout_&&(Fe.clearTimeout(this.checkBufferTimeout_),this.checkBufferTimeout_=null)}},{key:"paused",value:function(){return null===this.checkBufferTimeout_}},{key:"mimeType",value:function(e,t){this.mimeType_||(this.mimeType_=e,this.sourceBufferEmitter_=t,"INIT"===this.state&&this.couldBeginLoading_()&&this.init_())}},{key:"resetEverything",value:function(e){this.ended_=!1,this.resetLoader(),this.remove(0,this.duration_(),e),this.captionParser_&&this.captionParser_.clearAllCaptions(),this.trigger("reseteverything")}},{key:"resetLoader",value:function(){this.fetchAtBuffer_=!1,this.resyncLoader()}},{key:"resyncLoader",value:function(){this.mediaIndex=null,this.syncPoint_=null,this.abort()}},{key:"remove",value:function(e,t,n){if(this.sourceUpdater_&&this.sourceUpdater_.remove(e,t,n),zs(e,t,this.segmentMetadataTrack_),this.inbandTextTracks_)for(var i in this.inbandTextTracks_)zs(e,t,this.inbandTextTracks_[i])}},{key:"monitorBuffer_",value:function(){this.checkBufferTimeout_&&Fe.clearTimeout(this.checkBufferTimeout_),this.checkBufferTimeout_=Fe.setTimeout(this.monitorBufferTick_.bind(this),1)}},{key:"monitorBufferTick_",value:function(){"READY"===this.state&&this.fillBuffer_(),this.checkBufferTimeout_&&Fe.clearTimeout(this.checkBufferTimeout_),this.checkBufferTimeout_=Fe.setTimeout(this.monitorBufferTick_.bind(this),ll)}},{key:"fillBuffer_",value:function(){if(!this.sourceUpdater_.updating()){this.syncPoint_||(this.syncPoint_=this.syncController_.getSyncPoint(this.playlist_,this.duration_(),this.currentTimeline_,this.currentTime_()));var e=this.checkBuffer_(this.buffered_(),this.playlist_,this.mediaIndex,this.hasPlayed_(),this.currentTime_(),this.syncPoint_);if(e)return this.isEndOfStream_(e.mediaIndex)?void this.endOfStream():void((e.mediaIndex!==this.playlist_.segments.length-1||"ended"!==this.mediaSource_.readyState||this.seeking_())&&(e.timeline!==this.currentTimeline_&&(this.syncController_.reset(),e.timestampOffset=e.startOfSegment,this.captionParser_&&this.captionParser_.clearAllCaptions()),this.loadSegment_(e)))}}},{key:"isEndOfStream_",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.playlist_;return ul(t,this.mediaSource_,e)&&!this.sourceUpdater_.updating()}},{key:"checkBuffer_",value:function(e,t,n,i,a,r){var s=0,o=void 0;e.length&&(s=e.end(e.length-1));var l=Math.max(0,s-a);if(!t.segments.length)return null;if(l>=this.goalBufferLength_())return null;if(!i&&l>=1)return null;if(null===r)return n=this.getSyncSegmentCandidate_(t),this.generateSegmentInfo_(t,n,null,!0);if(null!==n){t.segments[n];return o=s,this.generateSegmentInfo_(t,n+1,o,!1)}if(this.fetchAtBuffer_){var u=os.getMediaInfoForTime(t,s,r.segmentIndex,r.time);n=u.mediaIndex,o=u.startTime}else{var c=os.getMediaInfoForTime(t,a,r.segmentIndex,r.time);n=c.mediaIndex,o=c.startTime}return this.generateSegmentInfo_(t,n,o,!1)}},{key:"getSyncSegmentCandidate_",value:function(e){var t=this;if(this.currentTimeline_===-1)return 0;var n=e.segments.map(function(e,t){return{timeline:e.timeline,segmentIndex:t}}).filter(function(e){return e.timeline===t.currentTimeline_});return n.length?n[Math.min(n.length-1,1)].segmentIndex:Math.max(e.segments.length-1,0)}},{key:"generateSegmentInfo_",value:function(e,t,n,i){if(t<0||t>=e.segments.length)return null;var a=e.segments[t];return{requestId:"segment-loader-"+Math.random(),uri:a.resolvedUri,mediaIndex:t,isSyncRequest:i,startOfSegment:n,playlist:e,bytes:null,encryptedBytes:null,timestampOffset:null,timeline:a.timeline,duration:a.duration,segment:a}}},{key:"abortRequestEarly_",value:function(e){if(this.hls_.tech_.paused()||!this.xhrOptions_.timeout||!this.playlist_.attributes.BANDWIDTH)return!1;if(Date.now()-(e.firstBytesReceivedAt||Date.now())<1e3)return!1;var t=this.currentTime_(),n=e.bandwidth,i=this.pendingSegment_.duration,a=os.estimateSegmentRequestTime(i,n,this.playlist_,e.bytesReceived),r=Us(this.buffered_(),t,this.hls_.tech_.playbackRate())-1;if(a<=r)return!1;var s=al({master:this.hls_.playlists.master,currentTime:t,bandwidth:n,duration:this.duration_(),segmentDuration:i,timeUntilRebuffer:r,currentTimeline:this.currentTimeline_,syncController:this.syncController_});if(s){var o=a-r,l=o-s.rebufferingImpact,u=.5;return r<=Os&&(u=1),!(!s.playlist||s.playlist.uri===this.playlist_.uri||l<u)&&(this.bandwidth=s.playlist.attributes.BANDWIDTH*Uo.BANDWIDTH_VARIANCE+1,this.abort(),this.trigger("earlyabort"),!0)}}},{key:"handleProgress_",value:function(e,t){this.pendingSegment_&&t.requestId===this.pendingSegment_.requestId&&!this.abortRequestEarly_(t.stats)&&this.trigger("progress")}},{key:"loadSegment_",value:function(e){this.state="WAITING",this.pendingSegment_=e,this.trimBackBuffer_(e),e.abortRequests=Qo(this.hls_.xhr,this.xhrOptions_,this.decrypter_,this.captionParser_,this.createSimplifiedSegmentObj_(e),this.handleProgress_.bind(this),this.segmentRequestFinished_.bind(this))}},{key:"trimBackBuffer_",value:function(e){var t=hl(this.seekable_(),this.currentTime_(),this.playlist_.targetDuration||10);t>0&&this.remove(0,t)}},{key:"createSimplifiedSegmentObj_",value:function(e){var t=e.segment,n={resolvedUri:t.resolvedUri,byterange:t.byterange,requestId:e.requestId};if(t.key){var i=t.key.iv||new Uint32Array([0,0,0,e.mediaIndex+e.playlist.mediaSequence]);n.key=this.segmentKey(t.key),n.key.iv=i}return t.map&&(n.map=this.initSegment(t.map)),n}},{key:"segmentRequestFinished_",value:function(e,t){if(this.mediaRequests+=1,t.stats&&(this.mediaBytesTransferred+=t.stats.bytesReceived,this.mediaTransferDuration+=t.stats.roundTripTime),!this.pendingSegment_)return void(this.mediaRequestsAborted+=1);if(t.requestId===this.pendingSegment_.requestId){if(e)return this.pendingSegment_=null,this.state="READY",e.code===Ho.ABORTED?void(this.mediaRequestsAborted+=1):(this.pause(),e.code===Ho.TIMEOUT?(this.mediaRequestsTimedout+=1,this.bandwidth=1,this.roundTrip=NaN,void this.trigger("bandwidthupdate")):(this.mediaRequestsErrored+=1,this.error(e),void this.trigger("error")));this.bandwidth=t.stats.bandwidth,this.roundTrip=t.stats.roundTripTime,t.map&&(t.map=this.initSegment(t.map,!0)),t.key&&this.segmentKey(t.key,!0),this.processSegmentResponse_(t)}}},{key:"processSegmentResponse_",value:function(e){var t=this.pendingSegment_;t.bytes=e.bytes,e.map&&(t.segment.map.bytes=e.map.bytes),t.endOfAllRequests=e.endOfAllRequests,e.fmp4Captions&&(sl(this.inbandTextTracks_,this.hls_.tech_,e.captionStreams),ol({inbandTextTracks:this.inbandTextTracks_,captionArray:e.fmp4Captions,timestampOffset:0}),this.captionParser_&&this.captionParser_.clearParsedCaptions()),this.handleSegment_()}},{key:"handleSegment_",value:function(){var e=this;if(!this.pendingSegment_)return void(this.state="READY");var t=this.pendingSegment_,n=t.segment,i=this.syncController_.probeSegmentInfo(t);"undefined"==typeof this.startingMedia_&&i&&(i.containsAudio||i.containsVideo)&&(this.startingMedia_={containsAudio:i.containsAudio,containsVideo:i.containsVideo});var a=dl(this.loaderType_,this.startingMedia_,i);if(a)return this.error({message:a,blacklistDuration:1/0}),void this.trigger("error");if(t.isSyncRequest)return this.trigger("syncinfoupdate"),this.pendingSegment_=null,void(this.state="READY");if(null!==t.timestampOffset&&t.timestampOffset!==this.sourceUpdater_.timestampOffset()){if(i&&i.segmentTimestampInfo){var r=i.segmentTimestampInfo[0].ptsTime,s=i.segmentTimestampInfo[0].dtsTime;t.timestampOffset-=r-s}this.sourceUpdater_.timestampOffset(t.timestampOffset),this.trigger("timestampoffset")}var o=this.syncController_.mappingForTimeline(t.timeline);if(null!==o&&this.trigger({type:"segmenttimemapping",mapping:o}),this.state="APPENDING",n.map){var l=vs(n.map);if(!this.activeInitSegmentId_||this.activeInitSegmentId_!==l){var u=this.initSegment(n.map);this.sourceUpdater_.appendBuffer({bytes:u.bytes},function(){e.activeInitSegmentId_=l})}}t.byteLength=t.bytes.byteLength,"number"==typeof n.start&&"number"==typeof n.end?this.mediaSecondsLoaded+=n.end-n.start:this.mediaSecondsLoaded+=n.duration,this.logger_(fl(t)),this.sourceUpdater_.appendBuffer({bytes:t.bytes,videoSegmentTimingInfoCallback:this.handleVideoSegmentTimingInfo_.bind(this,t.requestId)},this.handleUpdateEnd_.bind(this))}},{key:"handleVideoSegmentTimingInfo_",value:function(e,t){if(this.pendingSegment_&&e===this.pendingSegment_.requestId){var n=this.pendingSegment_.segment;n.videoTimingInfo||(n.videoTimingInfo={}),n.videoTimingInfo.transmuxerPrependedSeconds=t.videoSegmentTimingInfo.prependedContentDuration||0,n.videoTimingInfo.transmuxedPresentationStart=t.videoSegmentTimingInfo.start.presentation,n.videoTimingInfo.transmuxedPresentationEnd=t.videoSegmentTimingInfo.end.presentation,n.videoTimingInfo.baseMediaDecodeTime=t.videoSegmentTimingInfo.baseMediaDecodeTime}}},{key:"handleUpdateEnd_",value:function(){if(!this.pendingSegment_)return this.state="READY",void(this.paused()||this.monitorBuffer_());var e=this.pendingSegment_,t=e.segment,n=null!==this.mediaIndex;return this.pendingSegment_=null,this.recordThroughput_(e),this.addSegmentMetadataCue_(e),this.state="READY",this.mediaIndex=e.mediaIndex,this.fetchAtBuffer_=!0,this.currentTimeline_=e.timeline,this.trigger("syncinfoupdate"),t.end&&this.currentTime_()-t.end>3*e.playlist.targetDuration?void this.resetEverything():(n&&this.trigger("bandwidthupdate"),this.trigger("progress"),this.isEndOfStream_(e.mediaIndex+1,e.playlist)&&this.endOfStream(),void(this.paused()||this.monitorBuffer_()))}},{key:"recordThroughput_",value:function(e){var t=this.throughput.rate,n=Date.now()-e.endOfAllRequests+1,i=Math.floor(e.byteLength/n*8*1e3);this.throughput.rate+=(i-t)/++this.throughput.count}},{key:"addSegmentMetadataCue_",value:function(e){if(this.segmentMetadataTrack_){var t=e.segment,n=t.start,i=t.end;if(cl(n)&&cl(i)){zs(n,i,this.segmentMetadataTrack_);var a=Fe.WebKitDataCue||Fe.VTTCue,r={custom:t.custom,dateTimeObject:t.dateTimeObject,dateTimeString:t.dateTimeString,bandwidth:e.playlist.attributes.BANDWIDTH,resolution:e.playlist.attributes.RESOLUTION,codecs:e.playlist.attributes.CODECS,byteLength:e.byteLength,uri:e.uri,timeline:e.timeline,playlist:e.playlist.uri,start:n,end:i},s=JSON.stringify(r),o=new a(n,i,s);o.value=r,this.segmentMetadataTrack_.addCue(o)}}}}]),t}(Me.EventTarget),ml=function(e){return decodeURIComponent(escape(String.fromCharCode.apply(null,e)))},gl=new Uint8Array("\n\n".split("").map(function(e){
return e.charCodeAt(0)})),vl=function(e){function t(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};Tr(this,t);var i=wr(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,n));return i.mediaSource_=null,i.subtitlesTrack_=null,i}return Cr(t,e),kr(t,[{key:"buffered_",value:function(){if(!this.subtitlesTrack_||!this.subtitlesTrack_.cues.length)return Me.createTimeRanges();var e=this.subtitlesTrack_.cues,t=e[0].startTime,n=e[e.length-1].startTime;return Me.createTimeRanges([[t,n]])}},{key:"initSegment",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(!e)return null;var n=vs(e),i=this.initSegments_[n];if(t&&!i&&e.bytes){var a=gl.byteLength+e.bytes.byteLength,r=new Uint8Array(a);r.set(e.bytes),r.set(gl,e.bytes.byteLength),this.initSegments_[n]=i={resolvedUri:e.resolvedUri,byterange:e.byterange,bytes:r}}return i||e}},{key:"couldBeginLoading_",value:function(){return this.playlist_&&this.subtitlesTrack_&&!this.paused()}},{key:"init_",value:function(){return this.state="READY",this.resetEverything(),this.monitorBuffer_()}},{key:"track",value:function(e){return"undefined"==typeof e?this.subtitlesTrack_:(this.subtitlesTrack_=e,"INIT"===this.state&&this.couldBeginLoading_()&&this.init_(),this.subtitlesTrack_)}},{key:"remove",value:function(e,t){zs(e,t,this.subtitlesTrack_)}},{key:"fillBuffer_",value:function(){var e=this;this.syncPoint_||(this.syncPoint_=this.syncController_.getSyncPoint(this.playlist_,this.duration_(),this.currentTimeline_,this.currentTime_()));var t=this.checkBuffer_(this.buffered_(),this.playlist_,this.mediaIndex,this.hasPlayed_(),this.currentTime_(),this.syncPoint_);if(t=this.skipEmptySegments_(t)){if(null===this.syncController_.timestampOffsetForTimeline(t.timeline)){var n=function(){e.state="READY",e.paused()||e.monitorBuffer_()};return this.syncController_.one("timestampoffset",n),void(this.state="WAITING_ON_TIMELINE")}this.loadSegment_(t)}}},{key:"skipEmptySegments_",value:function(e){for(;e&&e.segment.empty;)e=this.generateSegmentInfo_(e.playlist,e.mediaIndex+1,e.startOfSegment+e.duration,e.isSyncRequest);return e}},{key:"handleSegment_",value:function(){var e=this;if(!this.pendingSegment_||!this.subtitlesTrack_)return void(this.state="READY");this.state="APPENDING";var t=this.pendingSegment_,n=t.segment;if("function"!=typeof Fe.WebVTT&&this.subtitlesTrack_&&this.subtitlesTrack_.tech_){var i=void 0,a=function(){e.subtitlesTrack_.tech_.off("vttjsloaded",i),e.error({message:"Error loading vtt.js"}),e.state="READY",e.pause(),e.trigger("error")};return i=function(){e.subtitlesTrack_.tech_.off("vttjserror",a),e.handleSegment_()},this.state="WAITING_ON_VTTJS",this.subtitlesTrack_.tech_.one("vttjsloaded",i),void this.subtitlesTrack_.tech_.one("vttjserror",a)}n.requested=!0;try{this.parseVTTCues_(t)}catch(e){return this.error({message:e.message}),this.state="READY",this.pause(),this.trigger("error")}return this.updateTimeMapping_(t,this.syncController_.timelines[t.timeline],this.playlist_),t.isSyncRequest?(this.trigger("syncinfoupdate"),this.pendingSegment_=null,void(this.state="READY")):(t.byteLength=t.bytes.byteLength,this.mediaSecondsLoaded+=n.duration,t.cues.length&&this.remove(t.cues[0].endTime,t.cues[t.cues.length-1].endTime),t.cues.forEach(function(t){e.subtitlesTrack_.addCue(t)}),void this.handleUpdateEnd_())}},{key:"parseVTTCues_",value:function(e){var t=void 0,n=!1;"function"==typeof Fe.TextDecoder?t=new Fe.TextDecoder("utf8"):(t=Fe.WebVTT.StringDecoder(),n=!0);var i=new Fe.WebVTT.Parser(Fe,Fe.vttjs,t);if(e.cues=[],e.timestampmap={MPEGTS:0,LOCAL:0},i.oncue=e.cues.push.bind(e.cues),i.ontimestampmap=function(t){return e.timestampmap=t},i.onparsingerror=function(e){Me.log.warn("Error encountered when parsing cues: "+e.message)},e.segment.map){var a=e.segment.map.bytes;n&&(a=ml(a)),i.parse(a)}var r=e.bytes;n&&(r=ml(r)),i.parse(r),i.flush()}},{key:"updateTimeMapping_",value:function(e,t,n){var i=e.segment;if(t){if(!e.cues.length)return void(i.empty=!0);var a=e.timestampmap,r=a.MPEGTS/9e4-a.LOCAL+t.mapping;if(e.cues.forEach(function(e){e.startTime+=r,e.endTime+=r}),!n.syncInfo){var s=e.cues[0].startTime,o=e.cues[e.cues.length-1].startTime;n.syncInfo={mediaSequence:n.mediaSequence+e.mediaIndex,time:Math.min(s,o-i.duration)}}}}}]),t}(pl),yl=function(e,t){for(var n=e.cues,i=0;i<n.length;i++){var a=n[i];if(t>=a.adStartTime&&t<=a.adEndTime)return a}return null},_l=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;if(e.segments)for(var i=n,a=void 0,r=0;r<e.segments.length;r++){var s=e.segments[r];if(a||(a=yl(t,i+s.duration/2)),a){if("cueIn"in s){a.endTime=i,a.adEndTime=i,i+=s.duration,a=null;continue}if(i<a.endTime){i+=s.duration;continue}a.endTime+=s.duration}else if("cueOut"in s&&(a=new Fe.VTTCue(i,i+s.duration,s.cueOut),a.adStartTime=i,a.adEndTime=i+parseFloat(s.cueOut),t.addCue(a)),"cueOutCont"in s){var o=void 0,l=void 0,u=s.cueOutCont.split("/").map(parseFloat),c=Er(u,2);o=c[0],l=c[1],a=new Fe.VTTCue(i,i+s.duration,""),a.adStartTime=i-o,a.adEndTime=a.adStartTime+l,t.addCue(a)}i+=s.duration}},bl=Ze.inspect,Tl=[{name:"VOD",run:function(e,t,n,i,a){if(n!==1/0){var r={time:0,segmentIndex:0};return r}return null}},{name:"ProgramDateTime",run:function(e,t,n,i,a){if(!e.datetimeToDisplayTime)return null;var r=t.segments||[],s=null,o=null;a=a||0;for(var l=0;l<r.length;l++){var u=r[l];if(u.dateTimeObject){var c=u.dateTimeObject.getTime()/1e3,d=c+e.datetimeToDisplayTime,h=Math.abs(a-d);if(null!==o&&(0===h||o<h))break;o=h,s={time:d,segmentIndex:l}}}return s}},{name:"Segment",run:function(e,t,n,i,a){var r=t.segments||[],s=null,o=null;a=a||0;for(var l=0;l<r.length;l++){var u=r[l];if(u.timeline===i&&"undefined"!=typeof u.start){var c=Math.abs(a-u.start);if(null!==o&&o<c)break;(!s||null===o||o>=c)&&(o=c,s={time:u.start,segmentIndex:l})}}return s}},{name:"Discontinuity",run:function(e,t,n,i,a){var r=null;if(a=a||0,t.discontinuityStarts&&t.discontinuityStarts.length)for(var s=null,o=0;o<t.discontinuityStarts.length;o++){var l=t.discontinuityStarts[o],u=t.discontinuitySequence+o+1,c=e.discontinuities[u];if(c){var d=Math.abs(a-c.time);if(null!==s&&s<d)break;(!r||null===s||s>=d)&&(s=d,r={time:c.time,segmentIndex:l})}}return r}},{name:"Playlist",run:function(e,t,n,i,a){if(t.syncInfo){var r={time:t.syncInfo.time,segmentIndex:t.syncInfo.mediaSequence-t.mediaSequence};return r}return null}}],kl=function(e){function t(){Tr(this,t);var e=wr(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));return e.inspectCache_=void 0,e.timelines=[],e.discontinuities=[],e.datetimeToDisplayTime=null,e.logger_=Bo("SyncController"),e}return Cr(t,e),kr(t,[{key:"getSyncPoint",value:function(e,t,n,i){var a=this.runStrategies_(e,t,n,i);return a.length?this.selectSyncPoint_(a,{key:"time",value:i}):null}},{key:"getExpiredTime",value:function(e,t){if(!e||!e.segments)return null;var n=this.runStrategies_(e,t,e.discontinuitySequence,0);if(!n.length)return null;var i=this.selectSyncPoint_(n,{key:"segmentIndex",value:0});return i.segmentIndex>0&&(i.time*=-1),Math.abs(i.time+Kr(e,i.segmentIndex,0))}},{key:"runStrategies_",value:function(e,t,n,i){for(var a=[],r=0;r<Tl.length;r++){var s=Tl[r],o=s.run(this,e,t,n,i);o&&(o.strategy=s.name,a.push({strategy:s.name,syncPoint:o}))}return a}},{key:"selectSyncPoint_",value:function(e,t){for(var n=e[0].syncPoint,i=Math.abs(e[0].syncPoint[t.key]-t.value),a=e[0].strategy,r=1;r<e.length;r++){var s=Math.abs(e[r].syncPoint[t.key]-t.value);s<i&&(i=s,n=e[r].syncPoint,a=e[r].strategy)}return this.logger_("syncPoint for ["+t.key+": "+t.value+"] chosen with strategy"+(" ["+a+"]: [time:"+n.time+",")+(" segmentIndex:"+n.segmentIndex+"]")),n}},{key:"saveExpiredSegmentInfo",value:function(e,t){for(var n=t.mediaSequence-e.mediaSequence,i=n-1;i>=0;i--){var a=e.segments[i];if(a&&"undefined"!=typeof a.start){t.syncInfo={mediaSequence:e.mediaSequence+i,time:a.start},this.logger_("playlist refresh sync: [time:"+t.syncInfo.time+","+(" mediaSequence: "+t.syncInfo.mediaSequence+"]")),this.trigger("syncinfoupdate");break}}}},{key:"setDateTimeMapping",value:function(e){if(!this.datetimeToDisplayTime&&e.segments&&e.segments.length&&e.segments[0].dateTimeObject){var t=e.segments[0].dateTimeObject.getTime()/1e3;this.datetimeToDisplayTime=-t}}},{key:"reset",value:function(){this.inspectCache_=void 0}},{key:"probeSegmentInfo",value:function(e){var t=e.segment,n=e.playlist,i=void 0;return i=t.map?this.probeMp4Segment_(e):this.probeTsSegment_(e),i&&this.calculateSegmentTimeMapping_(e,i)&&(this.saveDiscontinuitySyncInfo_(e),n.syncInfo||(n.syncInfo={mediaSequence:n.mediaSequence+e.mediaIndex,time:t.start})),i}},{key:"probeMp4Segment_",value:function(e){var t=e.segment,n=Qe.timescale(t.map.bytes),i=Qe.startTime(n,e.bytes);return null!==e.timestampOffset&&(e.timestampOffset-=i),{start:i,end:i+t.duration}}},{key:"probeTsSegment_",value:function(e){var t=bl(e.bytes,this.inspectCache_),n=void 0,i=void 0,a=void 0;if(!t)return null;t.video&&2===t.video.length?(this.inspectCache_=t.video[1].dts,n=t.video[0].dtsTime,i=t.video[1].dtsTime,a=t.video):t.audio&&2===t.audio.length&&(this.inspectCache_=t.audio[1].dts,n=t.audio[0].dtsTime,i=t.audio[1].dtsTime,a=t.audio);var r={segmentTimestampInfo:a,start:n,end:i,containsVideo:t.video&&2===t.video.length,containsAudio:t.audio&&2===t.audio.length};return r}},{key:"timestampOffsetForTimeline",value:function(e){return"undefined"==typeof this.timelines[e]?null:this.timelines[e].time}},{key:"mappingForTimeline",value:function(e){return"undefined"==typeof this.timelines[e]?null:this.timelines[e].mapping}},{key:"calculateSegmentTimeMapping_",value:function(e,t){var n=e.segment,i=this.timelines[e.timeline];if(null!==e.timestampOffset)i={time:e.startOfSegment,mapping:e.startOfSegment-t.start},this.timelines[e.timeline]=i,this.trigger("timestampoffset"),this.logger_("time mapping for timeline "+e.timeline+": "+("[time: "+i.time+"] [mapping: "+i.mapping+"]")),n.start=e.startOfSegment,n.end=t.end+i.mapping;else{if(!i)return!1;n.start=t.start+i.mapping,n.end=t.end+i.mapping}return!0}},{key:"saveDiscontinuitySyncInfo_",value:function(e){var t=e.playlist,n=e.segment;if(n.discontinuity)this.discontinuities[n.timeline]={time:n.start,accuracy:0};else if(t.discontinuityStarts&&t.discontinuityStarts.length)for(var i=0;i<t.discontinuityStarts.length;i++){var a=t.discontinuityStarts[i],r=t.discontinuitySequence+i+1,s=a-e.mediaIndex,o=Math.abs(s);if(!this.discontinuities[r]||this.discontinuities[r].accuracy>o){var l=void 0;l=s<0?n.start-Kr(t,e.mediaIndex,a):n.end+Kr(t,e.mediaIndex+1,a),this.discontinuities[r]={time:l,accuracy:o}}}}}]),t}(Me.EventTarget),Sl=new Re("./decrypter-worker.worker.js",function(e,t){var n=this;(function(){function e(e){return e.subarray(0,e.byteLength-e[e.byteLength-1])}var t=function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")},i=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),a=function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)},r=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t},s=function(){var e=[[[],[],[],[],[]],[[],[],[],[],[]]],t=e[0],n=e[1],i=t[4],a=n[4],r=void 0,s=void 0,o=void 0,l=[],u=[],c=void 0,d=void 0,h=void 0,f=void 0,p=void 0,m=void 0;for(r=0;r<256;r++)u[(l[r]=r<<1^283*(r>>7))^r]=r;for(s=o=0;!i[s];s^=c||1,o=u[o]||1)for(f=o^o<<1^o<<2^o<<3^o<<4,f=f>>8^255&f^99,i[s]=f,a[f]=s,h=l[d=l[c=l[s]]],m=16843009*h^65537*d^257*c^16843008*s,p=257*l[f]^16843008*f,r=0;r<4;r++)t[r][s]=p=p<<24^p>>>8,n[r][f]=m=m<<24^m>>>8;for(r=0;r<5;r++)t[r]=t[r].slice(0),n[r]=n[r].slice(0);return e},o=null,l=function(){function e(n){t(this,e),o||(o=s()),this._tables=[[o[0][0].slice(),o[0][1].slice(),o[0][2].slice(),o[0][3].slice(),o[0][4].slice()],[o[1][0].slice(),o[1][1].slice(),o[1][2].slice(),o[1][3].slice(),o[1][4].slice()]];var i=void 0,a=void 0,r=void 0,l=void 0,u=void 0,c=this._tables[0][4],d=this._tables[1],h=n.length,f=1;if(4!==h&&6!==h&&8!==h)throw new Error("Invalid aes key size");for(l=n.slice(0),u=[],this._key=[l,u],i=h;i<4*h+28;i++)r=l[i-1],(i%h===0||8===h&&i%h===4)&&(r=c[r>>>24]<<24^c[r>>16&255]<<16^c[r>>8&255]<<8^c[255&r],i%h===0&&(r=r<<8^r>>>24^f<<24,f=f<<1^283*(f>>7))),l[i]=l[i-h]^r;for(a=0;i;a++,i--)r=l[3&a?i:i-4],i<=4||a<4?u[a]=r:u[a]=d[0][c[r>>>24]]^d[1][c[r>>16&255]]^d[2][c[r>>8&255]]^d[3][c[255&r]]}return e.prototype.decrypt=function(e,t,n,i,a,r){var s=this._key[1],o=e^s[0],l=i^s[1],u=n^s[2],c=t^s[3],d=void 0,h=void 0,f=void 0,p=s.length/4-2,m=void 0,g=4,v=this._tables[1],y=v[0],_=v[1],b=v[2],T=v[3],k=v[4];for(m=0;m<p;m++)d=y[o>>>24]^_[l>>16&255]^b[u>>8&255]^T[255&c]^s[g],h=y[l>>>24]^_[u>>16&255]^b[c>>8&255]^T[255&o]^s[g+1],f=y[u>>>24]^_[c>>16&255]^b[o>>8&255]^T[255&l]^s[g+2],c=y[c>>>24]^_[o>>16&255]^b[l>>8&255]^T[255&u]^s[g+3],g+=4,o=d,l=h,u=f;for(m=0;m<4;m++)a[(3&-m)+r]=k[o>>>24]<<24^k[l>>16&255]<<16^k[u>>8&255]<<8^k[255&c]^s[g++],d=o,o=l,l=u,u=c,c=d},e}(),u=function(){function e(){t(this,e),this.listeners={}}return e.prototype.on=function(e,t){this.listeners[e]||(this.listeners[e]=[]),this.listeners[e].push(t)},e.prototype.off=function(e,t){if(!this.listeners[e])return!1;var n=this.listeners[e].indexOf(t);return this.listeners[e].splice(n,1),n>-1},e.prototype.trigger=function(e){var t=this.listeners[e];if(t)if(2===arguments.length)for(var n=t.length,i=0;i<n;++i)t[i].call(this,arguments[1]);else for(var a=Array.prototype.slice.call(arguments,1),r=t.length,s=0;s<r;++s)t[s].apply(this,a)},e.prototype.dispose=function(){this.listeners={}},e.prototype.pipe=function(e){this.on("data",function(t){e.push(t)})},e}(),c=function(e){function n(){t(this,n);var i=r(this,e.call(this,u));return i.jobs=[],i.delay=1,i.timeout_=null,i}return a(n,e),n.prototype.processJob_=function(){this.jobs.shift()(),this.jobs.length?this.timeout_=setTimeout(this.processJob_.bind(this),this.delay):this.timeout_=null},n.prototype.push=function(e){this.jobs.push(e),this.timeout_||(this.timeout_=setTimeout(this.processJob_.bind(this),this.delay))},n}(u),d=function(e){return e<<24|(65280&e)<<8|(16711680&e)>>8|e>>>24},h=function(e,t,n){var i=new Int32Array(e.buffer,e.byteOffset,e.byteLength>>2),a=new l(Array.prototype.slice.call(t)),r=new Uint8Array(e.byteLength),s=new Int32Array(r.buffer),o=void 0,u=void 0,c=void 0,h=void 0,f=void 0,p=void 0,m=void 0,g=void 0,v=void 0;for(o=n[0],u=n[1],c=n[2],h=n[3],v=0;v<i.length;v+=4)f=d(i[v]),p=d(i[v+1]),m=d(i[v+2]),g=d(i[v+3]),a.decrypt(f,p,m,g,s,v),s[v]=d(s[v]^o),s[v+1]=d(s[v+1]^u),s[v+2]=d(s[v+2]^c),s[v+3]=d(s[v+3]^h),o=f,u=p,c=m,h=g;return r},f=function(){function n(i,a,r,s){t(this,n);var o=n.STEP,l=new Int32Array(i.buffer),u=new Uint8Array(i.byteLength),h=0;for(this.asyncStream_=new c,this.asyncStream_.push(this.decryptChunk_(l.subarray(h,h+o),a,r,u)),h=o;h<l.length;h+=o)r=new Uint32Array([d(l[h-4]),d(l[h-3]),d(l[h-2]),d(l[h-1])]),this.asyncStream_.push(this.decryptChunk_(l.subarray(h,h+o),a,r,u));this.asyncStream_.push(function(){s(null,e(u))})}return n.prototype.decryptChunk_=function(e,t,n,i){return function(){var a=h(e,t,n);i.set(a,e.byteOffset)}},i(n,null,[{key:"STEP",get:function(){return 32e3}}]),n}(),p=function(e){var t={};return Object.keys(e).forEach(function(n){var i=e[n];ArrayBuffer.isView(i)?t[n]={bytes:i.buffer,byteOffset:i.byteOffset,byteLength:i.byteLength}:t[n]=i}),t},m=function(e){e.onmessage=function(t){var n=t.data,i=new Uint8Array(n.encrypted.bytes,n.encrypted.byteOffset,n.encrypted.byteLength),a=new Uint32Array(n.key.bytes,n.key.byteOffset,n.key.byteLength/4),r=new Uint32Array(n.iv.bytes,n.iv.byteOffset,n.iv.byteLength/4);new f(i,a,r,function(t,i){e.postMessage(p({source:n.source,decrypted:i}),[i.buffer])})}},g=new m(n);return g})()}),Cl=function(e){var t=e.default?"main":"alternative";return e.characteristics&&e.characteristics.indexOf("public.accessibility.describes-video")>=0&&(t="main-desc"),t},wl=function(e,t){e.abort(),e.pause(),t&&t.activePlaylistLoader&&(t.activePlaylistLoader.pause(),t.activePlaylistLoader=null)},El=function(e,t){t.activePlaylistLoader=e,e.load()},Al=function(e,t){return function(){var n=t.segmentLoaders,i=n[e],a=n.main,r=t.mediaTypes[e],s=r.activeTrack(),o=r.activeGroup(s),l=r.activePlaylistLoader;if(wl(i,r),o){if(!o.playlistLoader)return void(l&&a.resetEverything());i.resyncLoader(),El(o.playlistLoader,r)}}},Il=function(e,t){return function(){var n=t.segmentLoaders,i=n[e],a=n.main,r=t.mediaTypes[e],s=r.activeTrack(),o=r.activeGroup(s),l=r.activePlaylistLoader;if(wl(i,r),o){if(!o.playlistLoader)return void a.resetEverything();if(l===o.playlistLoader)return void El(o.playlistLoader,r);i.track&&i.track(s),i.resetEverything(),El(o.playlistLoader,r)}}},Ll={AUDIO:function(e,t){return function(){var n=t.segmentLoaders[e],i=t.mediaTypes[e],a=t.blacklistCurrentPlaylist;wl(n,i);var r=i.activeTrack(),s=i.activeGroup(),o=(s.filter(function(e){return e.default})[0]||s[0]).id,l=i.tracks[o];if(r===l)return void a({message:"Problem encountered loading the default audio track."});Me.log.warn("Problem encountered loading the alternate audio track.Switching back to default.");for(var u in i.tracks)i.tracks[u].enabled=i.tracks[u]===l;i.onTrackChanged()}},SUBTITLES:function(e,t){return function(){var n=t.segmentLoaders[e],i=t.mediaTypes[e];Me.log.warn("Problem encountered loading the subtitle track.Disabling subtitle track."),wl(n,i);var a=i.activeTrack();a&&(a.mode="disabled"),i.onTrackChanged()}}},xl={AUDIO:function(e,t,n){if(t){var i=n.tech,a=n.requestOptions,r=n.segmentLoaders[e];t.on("loadedmetadata",function(){var e=t.media();r.playlist(e,a),(!i.paused()||e.endList&&"none"!==i.preload())&&r.load()}),t.on("loadedplaylist",function(){r.playlist(t.media(),a),i.paused()||r.load()}),t.on("error",Ll[e](e,n))}},SUBTITLES:function(e,t,n){var i=n.tech,a=n.requestOptions,r=n.segmentLoaders[e],s=n.mediaTypes[e];t.on("loadedmetadata",function(){var e=t.media();r.playlist(e,a),r.track(s.activeTrack()),(!i.paused()||e.endList&&"none"!==i.preload())&&r.load()}),t.on("loadedplaylist",function(){r.playlist(t.media(),a),i.paused()||r.load()}),t.on("error",Ll[e](e,n))}},Pl={AUDIO:function(e,t){var n=t.hls,i=t.sourceType,a=t.segmentLoaders[e],r=t.requestOptions,s=t.master.mediaGroups,o=t.mediaTypes[e],l=o.groups,u=o.tracks,c=t.masterPlaylistLoader;s[e]&&0!==Object.keys(s[e]).length||(s[e]={main:{default:{default:!0}}});for(var d in s[e]){l[d]||(l[d]=[]);for(var h in s[e][d]){var f=s[e][d][h],p=void 0;if(p=f.resolvedUri?new Br(f.resolvedUri,n,r):f.playlists&&"dash"===i?new Ro(f.playlists[0],n,r,c):null,f=Me.mergeOptions({id:h,playlistLoader:p},f),xl[e](e,f.playlistLoader,t),l[d].push(f),"undefined"==typeof u[h]){var m=new Me.AudioTrack({id:h,kind:Cl(f),enabled:!1,language:f.language,default:f.default,label:h});u[h]=m}}}a.on("error",Ll[e](e,t))},SUBTITLES:function(e,t){var n=t.tech,i=t.hls,a=t.sourceType,r=t.segmentLoaders[e],s=t.requestOptions,o=t.master.mediaGroups,l=t.mediaTypes[e],u=l.groups,c=l.tracks,d=t.masterPlaylistLoader;for(var h in o[e]){u[h]||(u[h]=[]);for(var f in o[e][h])if(!o[e][h][f].forced){var p=o[e][h][f],m=void 0;if("hls"===a?m=new Br(p.resolvedUri,i,s):"dash"===a&&(m=new Ro(p.playlists[0],i,s,d)),p=Me.mergeOptions({id:f,playlistLoader:m},p),xl[e](e,p.playlistLoader,t),u[h].push(p),"undefined"==typeof c[f]){var g=n.addRemoteTextTrack({id:f,kind:"subtitles",default:p.default&&p.autoselect,language:p.language,label:f},!1).track;c[f]=g}}}r.on("error",Ll[e](e,t))},"CLOSED-CAPTIONS":function(e,t){var n=t.tech,i=t.master.mediaGroups,a=t.mediaTypes[e],r=a.groups,s=a.tracks;for(var o in i[e]){r[o]||(r[o]=[]);for(var l in i[e][o]){var u=i[e][o][l];if(u.instreamId.match(/CC\d/)&&(r[o].push(Me.mergeOptions({id:l},u)),"undefined"==typeof s[l])){var c=n.addRemoteTextTrack({id:u.instreamId,kind:"captions",default:u.default&&u.autoselect,language:u.language,label:l},!1).track;s[l]=c}}}}},Ol=function(e,t){return function(n){var i=t.masterPlaylistLoader,a=t.mediaTypes[e].groups,r=i.media();if(!r)return null;var s=null;return r.attributes[e]&&(s=a[r.attributes[e]]),s=s||a.main,"undefined"==typeof n?s:null===n?null:s.filter(function(e){return e.id===n.id})[0]||null}},Dl={AUDIO:function(e,t){return function(){var n=t.mediaTypes[e].tracks;for(var i in n)if(n[i].enabled)return n[i];return null}},SUBTITLES:function(e,t){return function(){var n=t.mediaTypes[e].tracks;for(var i in n)if("showing"===n[i].mode)return n[i];return null}}},Nl=function(e){["AUDIO","SUBTITLES","CLOSED-CAPTIONS"].forEach(function(t){Pl[t](t,e)});var t=e.mediaTypes,n=e.masterPlaylistLoader,i=e.tech,a=e.hls;["AUDIO","SUBTITLES"].forEach(function(n){t[n].activeGroup=Ol(n,e),t[n].activeTrack=Dl[n](n,e),t[n].onGroupChanged=Al(n,e),t[n].onTrackChanged=Il(n,e)});var r=t.AUDIO.activeGroup(),s=(r.filter(function(e){return e.default})[0]||r[0]).id;t.AUDIO.tracks[s].enabled=!0,t.AUDIO.onTrackChanged(),n.on("mediachange",function(){["AUDIO","SUBTITLES"].forEach(function(e){return t[e].onGroupChanged()})});var o=function(){t.AUDIO.onTrackChanged(),i.trigger({type:"usage",name:"hls-audio-change"})};i.audioTracks().addEventListener("change",o),i.remoteTextTracks().addEventListener("change",t.SUBTITLES.onTrackChanged),a.on("dispose",function(){i.audioTracks().removeEventListener("change",o),i.remoteTextTracks().removeEventListener("change",t.SUBTITLES.onTrackChanged)}),i.clearTracks("audio");for(var l in t.AUDIO.tracks)i.audioTracks().addTrack(t.AUDIO.tracks[l])},Ml=function(){var e={};return["AUDIO","SUBTITLES","CLOSED-CAPTIONS"].forEach(function(t){e[t]={groups:{},tracks:{},activePlaylistLoader:null,activeGroup:Ue,activeTrack:Ue,onGroupChanged:Ue,onTrackChanged:Ue}}),e},Rl=120,Bl=void 0,jl=["mediaRequests","mediaRequestsAborted","mediaRequestsTimedout","mediaRequestsErrored","mediaTransferDuration","mediaBytesTransferred"],Ul=function(e){return this.audioSegmentLoader_[e]+this.mainSegmentLoader_[e]},Hl=function(e){function t(e){Tr(this,t);var n=wr(this,(t.__proto__||Object.getPrototypeOf(t)).call(this)),i=e.url,a=e.handleManifestRedirects,r=e.withCredentials,s=e.tech,o=e.bandwidth,l=e.externHls,u=e.useCueTags,c=e.blacklistDuration,d=e.enableLowInitialPlaylist,h=e.sourceType,f=e.seekTo,p=e.cacheEncryptionKeys;if(!i)throw new Error("A non-empty playlist URL is required");Bl=l,n.withCredentials=r,n.tech_=s,n.hls_=s.hls,n.seekTo_=f,n.sourceType_=h,n.useCueTags_=u,n.blacklistDuration=c,n.enableLowInitialPlaylist=d,n.useCueTags_&&(n.cueTagsTrack_=n.tech_.addTextTrack("metadata","ad-cues"),n.cueTagsTrack_.inBandMetadataTrackDispatchType=""),n.requestOptions_={withCredentials:r,handleManifestRedirects:a,timeout:null},n.mediaTypes_=Ml(),n.mediaSource=new Me.MediaSource,n.mediaSource.addEventListener("sourceopen",n.handleSourceOpen_.bind(n)),n.seekable_=Me.createTimeRanges(),n.hasPlayed_=function(){return!1},n.syncController_=new kl(e),n.segmentMetadataTrack_=s.addRemoteTextTrack({kind:"metadata",label:"segment-metadata"},!1).track,n.decrypter_=new Sl,n.inbandTextTracks_={};var m={hls:n.hls_,mediaSource:n.mediaSource,currentTime:n.tech_.currentTime.bind(n.tech_),seekable:function(){return n.seekable()},seeking:function(){return n.tech_.seeking()},duration:function(){return n.mediaSource.duration},hasPlayed:function(){return n.hasPlayed_()},goalBufferLength:function(){return n.goalBufferLength()},bandwidth:o,syncController:n.syncController_,decrypter:n.decrypter_,sourceType:n.sourceType_,inbandTextTracks:n.inbandTextTracks_,cacheEncryptionKeys:p};return n.masterPlaylistLoader_="dash"===n.sourceType_?new Ro(i,n.hls_,n.requestOptions_):new Br(i,n.hls_,n.requestOptions_),n.setupMasterPlaylistLoaderListeners_(),n.mainSegmentLoader_=new pl(Me.mergeOptions(m,{segmentMetadataTrack:n.segmentMetadataTrack_,loaderType:"main"}),e),n.audioSegmentLoader_=new pl(Me.mergeOptions(m,{loaderType:"audio"}),e),n.subtitleSegmentLoader_=new vl(Me.mergeOptions(m,{loaderType:"vtt"}),e),n.setupSegmentLoaderListeners_(),jl.forEach(function(e){n[e+"_"]=Ul.bind(n,e)}),n.logger_=Bo("MPC"),n.masterPlaylistLoader_.load(),n}return Cr(t,e),kr(t,[{key:"setupMasterPlaylistLoaderListeners_",value:function(){var e=this;this.masterPlaylistLoader_.on("loadedmetadata",function(){var t=e.masterPlaylistLoader_.media(),n=1.5*t.targetDuration*1e3;ss(e.masterPlaylistLoader_.master,e.masterPlaylistLoader_.media())?e.requestOptions_.timeout=0:e.requestOptions_.timeout=n,t.endList&&"none"!==e.tech_.preload()&&(e.mainSegmentLoader_.playlist(t,e.requestOptions_),e.mainSegmentLoader_.load()),Nl({sourceType:e.sourceType_,segmentLoaders:{AUDIO:e.audioSegmentLoader_,SUBTITLES:e.subtitleSegmentLoader_,main:e.mainSegmentLoader_},tech:e.tech_,requestOptions:e.requestOptions_,masterPlaylistLoader:e.masterPlaylistLoader_,hls:e.hls_,master:e.master(),mediaTypes:e.mediaTypes_,blacklistCurrentPlaylist:e.blacklistCurrentPlaylist.bind(e)}),e.triggerPresenceUsage_(e.master(),t);try{e.setupSourceBuffers_()}catch(t){return Me.log.warn("Failed to create SourceBuffers",t),e.mediaSource.endOfStream("decode")}e.setupFirstPlay(),!e.mediaTypes_.AUDIO.activePlaylistLoader||e.mediaTypes_.AUDIO.activePlaylistLoader.media()?e.trigger("selectedinitialmedia"):e.mediaTypes_.AUDIO.activePlaylistLoader.one("loadedmetadata",function(){e.trigger("selectedinitialmedia")})}),this.masterPlaylistLoader_.on("loadedplaylist",function(){var t=e.masterPlaylistLoader_.media();if(!t){e.excludeUnsupportedVariants_();var n=void 0;return e.enableLowInitialPlaylist&&(n=e.selectInitialPlaylist()),n||(n=e.selectPlaylist()),e.initialMedia_=n,void e.masterPlaylistLoader_.media(e.initialMedia_)}if(e.useCueTags_&&e.updateAdCues_(t),e.mainSegmentLoader_.playlist(t,e.requestOptions_),e.updateDuration(),e.tech_.paused()||(e.mainSegmentLoader_.load(),e.audioSegmentLoader_&&e.audioSegmentLoader_.load()),!t.endList){var i=function(){var t=e.seekable();0!==t.length&&e.mediaSource.addSeekableRange_(t.start(0),t.end(0))};if(e.duration()!==1/0){var a=function t(){e.duration()===1/0?i():e.tech_.one("durationchange",t)};e.tech_.one("durationchange",a)}else i()}}),this.masterPlaylistLoader_.on("error",function(){e.blacklistCurrentPlaylist(e.masterPlaylistLoader_.error)}),this.masterPlaylistLoader_.on("mediachanging",function(){e.mainSegmentLoader_.abort(),e.mainSegmentLoader_.pause()}),this.masterPlaylistLoader_.on("mediachange",function(){var t=e.masterPlaylistLoader_.media(),n=1.5*t.targetDuration*1e3;ss(e.masterPlaylistLoader_.master,e.masterPlaylistLoader_.media())?e.requestOptions_.timeout=0:e.requestOptions_.timeout=n,e.mainSegmentLoader_.playlist(t,e.requestOptions_),e.mainSegmentLoader_.load(),e.tech_.trigger({type:"mediachange",bubbles:!0})}),this.masterPlaylistLoader_.on("playlistunchanged",function(){var t=e.masterPlaylistLoader_.media(),n=e.stuckAtPlaylistEnd_(t);n&&(e.blacklistCurrentPlaylist({message:"Playlist no longer updating."}),e.tech_.trigger("playliststuck"))}),this.masterPlaylistLoader_.on("renditiondisabled",function(){e.tech_.trigger({type:"usage",name:"hls-rendition-disabled"})}),this.masterPlaylistLoader_.on("renditionenabled",function(){e.tech_.trigger({type:"usage",name:"hls-rendition-enabled"})})}},{key:"triggerPresenceUsage_",value:function(e,t){var n=e.mediaGroups||{},i=!0,a=Object.keys(n.AUDIO);for(var r in n.AUDIO)for(var s in n.AUDIO[r]){var o=n.AUDIO[r][s];o.uri||(i=!1)}i&&this.tech_.trigger({type:"usage",name:"hls-demuxed"}),Object.keys(n.SUBTITLES).length&&this.tech_.trigger({type:"usage",name:"hls-webvtt"}),Bl.Playlist.isAes(t)&&this.tech_.trigger({type:"usage",name:"hls-aes"}),Bl.Playlist.isFmp4(t)&&this.tech_.trigger({type:"usage",name:"hls-fmp4"}),a.length&&Object.keys(n.AUDIO[a[0]]).length>1&&this.tech_.trigger({type:"usage",name:"hls-alternate-audio"}),this.useCueTags_&&this.tech_.trigger({type:"usage",name:"hls-playlist-cue-tags"})}},{key:"setupSegmentLoaderListeners_",value:function(){var e=this;this.mainSegmentLoader_.on("bandwidthupdate",function(){var t=e.selectPlaylist(),n=e.masterPlaylistLoader_.media(),i=e.tech_.buffered(),a=i.length?i.end(i.length-1)-e.tech_.currentTime():0,r=e.bufferLowWaterLine();(!n.endList||e.duration()<Uo.MAX_BUFFER_LOW_WATER_LINE||t.attributes.BANDWIDTH<n.attributes.BANDWIDTH||a>=r)&&e.masterPlaylistLoader_.media(t),e.tech_.trigger("bandwidthupdate")}),this.mainSegmentLoader_.on("progress",function(){e.trigger("progress")}),this.mainSegmentLoader_.on("error",function(){e.blacklistCurrentPlaylist(e.mainSegmentLoader_.error())}),this.mainSegmentLoader_.on("syncinfoupdate",function(){e.onSyncInfoUpdate_()}),this.mainSegmentLoader_.on("timestampoffset",function(){e.tech_.trigger({type:"usage",name:"hls-timestamp-offset"})}),this.audioSegmentLoader_.on("syncinfoupdate",function(){e.onSyncInfoUpdate_()}),this.mainSegmentLoader_.on("ended",function(){e.onEndOfStream()}),this.mainSegmentLoader_.on("earlyabort",function(){e.blacklistCurrentPlaylist({message:"Aborted early because there isn't enough bandwidth to complete the request without rebuffering."},Rl)}),this.mainSegmentLoader_.on("reseteverything",function(){e.tech_.trigger("hls-reset")}),this.mainSegmentLoader_.on("segmenttimemapping",function(t){e.tech_.trigger({type:"hls-segment-time-mapping",mapping:t.mapping})}),this.audioSegmentLoader_.on("ended",function(){e.onEndOfStream()})}},{key:"mediaSecondsLoaded_",value:function(){return Math.max(this.audioSegmentLoader_.mediaSecondsLoaded+this.mainSegmentLoader_.mediaSecondsLoaded)}},{key:"load",value:function(){this.mainSegmentLoader_.load(),this.mediaTypes_.AUDIO.activePlaylistLoader&&this.audioSegmentLoader_.load(),this.mediaTypes_.SUBTITLES.activePlaylistLoader&&this.subtitleSegmentLoader_.load()}},{key:"smoothQualityChange_",value:function(){var e=this.selectPlaylist();e!==this.masterPlaylistLoader_.media()&&(this.masterPlaylistLoader_.media(e),this.mainSegmentLoader_.resetLoader())}},{key:"fastQualityChange_",value:function(){var e=this,t=this.selectPlaylist();t!==this.masterPlaylistLoader_.media()&&(this.masterPlaylistLoader_.media(t),this.mainSegmentLoader_.resetEverything(function(){Me.browser.IE_VERSION||Me.browser.IS_EDGE?e.tech_.setCurrentTime(e.tech_.currentTime()+.04):e.tech_.setCurrentTime(e.tech_.currentTime())}))}},{key:"play",value:function(){if(!this.setupFirstPlay()){this.tech_.ended()&&this.seekTo_(0),this.hasPlayed_()&&this.load();var e=this.tech_.seekable();return this.tech_.duration()===1/0&&this.tech_.currentTime()<e.start(0)?this.seekTo_(e.end(e.length-1)):void 0}}},{key:"setupFirstPlay",value:function(){var e=this,t=this.masterPlaylistLoader_.media();if(!t||this.tech_.paused()||this.hasPlayed_())return!1;if(!t.endList){var n=this.seekable();if(!n.length)return!1;if(Me.browser.IE_VERSION&&0===this.tech_.readyState())return this.tech_.one("loadedmetadata",function(){e.trigger("firstplay"),e.seekTo_(n.end(0)),e.hasPlayed_=function(){return!0}}),!1;this.trigger("firstplay"),this.seekTo_(n.end(0))}return this.hasPlayed_=function(){return!0},this.load(),!0}},{key:"handleSourceOpen_",value:function(){try{this.setupSourceBuffers_()}catch(e){return Me.log.warn("Failed to create Source Buffers",e),this.mediaSource.endOfStream("decode")}if(this.tech_.autoplay()){var e=this.tech_.play();"undefined"!=typeof e&&"function"==typeof e.then&&e.then(null,function(e){})}this.trigger("sourceopen")}},{key:"onEndOfStream",value:function(){var e=this.mainSegmentLoader_.ended_;if(this.mediaTypes_.AUDIO.activePlaylistLoader&&(e=!this.mainSegmentLoader_.startingMedia_||this.mainSegmentLoader_.startingMedia_.containsVideo?e&&this.audioSegmentLoader_.ended_:this.audioSegmentLoader_.ended_),e){this.logger_("calling mediaSource.endOfStream()");try{this.mediaSource.endOfStream()}catch(e){
Me.log.warn("Failed to call media source endOfStream",e)}}}},{key:"stuckAtPlaylistEnd_",value:function(e){var t=this.seekable();if(!t.length)return!1;var n=this.syncController_.getExpiredTime(e,this.mediaSource.duration);if(null===n)return!1;var i=Bl.Playlist.playlistEnd(e,n),a=this.tech_.currentTime(),r=this.tech_.buffered();if(!r.length)return i-a<=Ds;var s=r.end(r.length-1);return s-a<=Ds&&i-s<=Ds}},{key:"blacklistCurrentPlaylist",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments[1],n=void 0,i=void 0;if(n=e.playlist||this.masterPlaylistLoader_.media(),t=t||e.blacklistDuration||this.blacklistDuration,!n){this.error=e;try{return this.mediaSource.endOfStream("network")}catch(e){return this.trigger("error")}}var a=1===this.masterPlaylistLoader_.master.playlists.filter(es).length,r=this.masterPlaylistLoader_.master.playlists;return 1===r.length?(Me.log.warn("Problem encountered with the current HLS playlist. Trying again since it is the only playlist."),this.tech_.trigger("retryplaylist"),this.masterPlaylistLoader_.load(a)):(a&&(Me.log.warn("Removing all playlists from the blacklist because the last rendition is about to be blacklisted."),r.forEach(function(e){e.excludeUntil!==1/0&&delete e.excludeUntil}),this.tech_.trigger("retryplaylist")),n.excludeUntil=Date.now()+1e3*t,this.tech_.trigger("blacklistplaylist"),this.tech_.trigger({type:"usage",name:"hls-rendition-blacklisted"}),i=this.selectPlaylist(),Me.log.warn("Problem encountered with the current HLS playlist."+(e.message?" "+e.message:"")+" Switching to another playlist."),this.masterPlaylistLoader_.media(i,a))}},{key:"pauseLoading",value:function(){this.mainSegmentLoader_.pause(),this.mediaTypes_.AUDIO.activePlaylistLoader&&this.audioSegmentLoader_.pause(),this.mediaTypes_.SUBTITLES.activePlaylistLoader&&this.subtitleSegmentLoader_.pause()}},{key:"setCurrentTime",value:function(e){var t=Ms(this.tech_.buffered(),e);return this.masterPlaylistLoader_&&this.masterPlaylistLoader_.media()&&this.masterPlaylistLoader_.media().segments?t&&t.length?e:(this.mainSegmentLoader_.resetEverything(),this.mainSegmentLoader_.abort(),this.mediaTypes_.AUDIO.activePlaylistLoader&&(this.audioSegmentLoader_.resetEverything(),this.audioSegmentLoader_.abort()),this.mediaTypes_.SUBTITLES.activePlaylistLoader&&(this.subtitleSegmentLoader_.resetEverything(),this.subtitleSegmentLoader_.abort()),void this.load()):0}},{key:"duration",value:function(){return this.masterPlaylistLoader_?this.mediaSource?this.mediaSource.duration:Bl.Playlist.duration(this.masterPlaylistLoader_.media()):0}},{key:"seekable",value:function(){return this.seekable_}},{key:"onSyncInfoUpdate_",value:function(){var e=void 0,t=void 0;if(this.masterPlaylistLoader_){var n=this.masterPlaylistLoader_.media();if(n){var i=this.syncController_.getExpiredTime(n,this.mediaSource.duration);if(null!==i&&(e=Bl.Playlist.seekable(n,i),0!==e.length)){if(this.mediaTypes_.AUDIO.activePlaylistLoader){if(n=this.mediaTypes_.AUDIO.activePlaylistLoader.media(),i=this.syncController_.getExpiredTime(n,this.mediaSource.duration),null===i)return;if(t=Bl.Playlist.seekable(n,i),0===t.length)return}var a=void 0,r=void 0;this.seekable_&&this.seekable_.length&&(a=this.seekable_.end(0),r=this.seekable_.start(0)),t?t.start(0)>e.end(0)||e.start(0)>t.end(0)?this.seekable_=e:this.seekable_=Me.createTimeRanges([[t.start(0)>e.start(0)?t.start(0):e.start(0),t.end(0)<e.end(0)?t.end(0):e.end(0)]]):this.seekable_=e,this.seekable_&&this.seekable_.length&&this.seekable_.end(0)===a&&this.seekable_.start(0)===r||(this.logger_("seekable updated ["+js(this.seekable_)+"]"),this.tech_.trigger("seekablechanged"))}}}}},{key:"updateDuration",value:function(){var e=this,t=this.mediaSource.duration,n=Bl.Playlist.duration(this.masterPlaylistLoader_.media()),i=this.tech_.buffered(),a=function t(){e.logger_("Setting duration from "+e.mediaSource.duration+" => "+n);try{e.mediaSource.duration=n}catch(e){Me.log.warn("Failed to set media source duration",e)}e.tech_.trigger("durationchange"),e.mediaSource.removeEventListener("sourceopen",t)};i.length>0&&(n=Math.max(n,i.end(i.length-1))),t!==n&&("open"!==this.mediaSource.readyState?this.mediaSource.addEventListener("sourceopen",a):a())}},{key:"dispose",value:function(){var e=this;this.decrypter_.terminate(),this.masterPlaylistLoader_.dispose(),this.mainSegmentLoader_.dispose(),["AUDIO","SUBTITLES"].forEach(function(t){var n=e.mediaTypes_[t].groups;for(var i in n)n[i].forEach(function(e){e.playlistLoader&&e.playlistLoader.dispose()})}),this.audioSegmentLoader_.dispose(),this.subtitleSegmentLoader_.dispose()}},{key:"master",value:function(){return this.masterPlaylistLoader_.master}},{key:"media",value:function(){return this.masterPlaylistLoader_.media()||this.initialMedia_}},{key:"setupSourceBuffers_",value:function(){var e=this.masterPlaylistLoader_.media(),t=void 0;if(e&&"open"===this.mediaSource.readyState){if(t=co(this.masterPlaylistLoader_.master,e),t.length<1)return this.error="No compatible SourceBuffer configuration for the variant stream:"+e.resolvedUri,this.mediaSource.endOfStream("decode");this.configureLoaderMimeTypes_(t),this.excludeIncompatibleVariants_(e)}}},{key:"configureLoaderMimeTypes_",value:function(e){var t=e.length>1&&e[0].indexOf(",")===-1&&e[0]!==e[1]?new Me.EventTarget:null;this.mainSegmentLoader_.mimeType(e[0],t),e[1]&&this.audioSegmentLoader_.mimeType(e[1],t)}},{key:"excludeUnsupportedVariants_",value:function(){this.master().playlists.forEach(function(e){e.attributes.CODECS&&Fe.MediaSource&&Fe.MediaSource.isTypeSupported&&!Fe.MediaSource.isTypeSupported('video/mp4; codecs="'+ro(e.attributes.CODECS)+'"')&&(e.excludeUntil=1/0)})}},{key:"excludeIncompatibleVariants_",value:function(e){var t=2,n=null,i=void 0;e.attributes.CODECS&&(i=ao(e.attributes.CODECS),n=i.videoCodec,t=i.codecCount),this.master().playlists.forEach(function(e){var i={codecCount:2,videoCodec:null};e.attributes.CODECS&&(i=ao(e.attributes.CODECS)),i.codecCount!==t&&(e.excludeUntil=1/0),i.videoCodec!==n&&(e.excludeUntil=1/0)})}},{key:"updateAdCues_",value:function(e){var t=0,n=this.seekable();n.length&&(t=n.start(0)),_l(e,this.cueTagsTrack_,t)}},{key:"goalBufferLength",value:function(){var e=this.tech_.currentTime(),t=Uo.GOAL_BUFFER_LENGTH,n=Uo.GOAL_BUFFER_LENGTH_RATE,i=Math.max(t,Uo.MAX_GOAL_BUFFER_LENGTH);return Math.min(t+e*n,i)}},{key:"bufferLowWaterLine",value:function(){var e=this.tech_.currentTime(),t=Uo.BUFFER_LOW_WATER_LINE,n=Uo.BUFFER_LOW_WATER_LINE_RATE,i=Math.max(t,Uo.MAX_BUFFER_LOW_WATER_LINE);return Math.min(t+e*n,i)}}]),t}(Me.EventTarget),Fl=function(e,t,n){return function(i){var a=e.master.playlists[t],r=Zr(a),s=es(a);return"undefined"==typeof i?s:(i?delete a.disabled:a.disabled=!0,i===s||r||(n(),i?e.trigger("renditionenabled"):e.trigger("renditiondisabled")),i)}},zl=function e(t,n,i){Tr(this,e);var a=t.masterPlaylistController_,r=t.options_.smoothQualityChange,s=r?"smooth":"fast",o=a[s+"QualityChange_"].bind(a);if(n.attributes.RESOLUTION){var l=n.attributes.RESOLUTION;this.width=l.width,this.height=l.height}this.bandwidth=n.attributes.BANDWIDTH,this.id=i,this.enabled=Fl(t.playlists,n.uri,o)},Kl=function(e){var t=e.playlists;e.representations=function(){return t.master.playlists.filter(function(e){return!Zr(e)}).map(function(t,n){return new zl(e,t,t.uri)})}},Gl=["seeking","seeked","pause","playing","error"],Vl=function(){function e(t){var n=this;Tr(this,e),this.tech_=t.tech,this.seekable=t.seekable,this.seekTo=t.seekTo,this.allowSeeksWithinUnsafeLiveWindow=t.allowSeeksWithinUnsafeLiveWindow,this.media=t.media,this.consecutiveUpdates=0,this.lastRecordedTime=null,this.timer_=null,this.checkCurrentTimeTimeout_=null,this.logger_=Bo("PlaybackWatcher"),this.logger_("initialize");var i=function(){return n.monitorCurrentTime_()},a=function(){return n.techWaiting_()},r=function(){return n.cancelTimer_()},s=function(){return n.fixesBadSeeks_()};this.tech_.on("seekablechanged",s),this.tech_.on("waiting",a),this.tech_.on(Gl,r),this.tech_.on("canplay",i),this.dispose=function(){n.logger_("dispose"),n.tech_.off("seekablechanged",s),n.tech_.off("waiting",a),n.tech_.off(Gl,r),n.tech_.off("canplay",i),n.checkCurrentTimeTimeout_&&Fe.clearTimeout(n.checkCurrentTimeTimeout_),n.cancelTimer_()}}return kr(e,[{key:"monitorCurrentTime_",value:function(){this.checkCurrentTime_(),this.checkCurrentTimeTimeout_&&Fe.clearTimeout(this.checkCurrentTimeTimeout_),this.checkCurrentTimeTimeout_=Fe.setTimeout(this.monitorCurrentTime_.bind(this),250)}},{key:"checkCurrentTime_",value:function(){if(this.tech_.seeking()&&this.fixesBadSeeks_())return this.consecutiveUpdates=0,void(this.lastRecordedTime=this.tech_.currentTime());if(!this.tech_.paused()&&!this.tech_.seeking()){var e=this.tech_.currentTime(),t=this.tech_.buffered();return this.lastRecordedTime===e&&(!t.length||e+Ds>=t.end(t.length-1))?this.techWaiting_():void(this.consecutiveUpdates>=5&&e===this.lastRecordedTime?(this.consecutiveUpdates++,this.waiting_()):e===this.lastRecordedTime?this.consecutiveUpdates++:(this.consecutiveUpdates=0,this.lastRecordedTime=e))}}},{key:"cancelTimer_",value:function(){this.consecutiveUpdates=0,this.timer_&&(this.logger_("cancelTimer_"),clearTimeout(this.timer_)),this.timer_=null}},{key:"fixesBadSeeks_",value:function(){var e=this.tech_.seeking();if(!e)return!1;var t=this.seekable(),n=this.tech_.currentTime(),i=this.afterSeekableWindow_(t,n,this.media(),this.allowSeeksWithinUnsafeLiveWindow),a=void 0;if(i){var r=t.end(t.length-1);a=r}if(this.beforeSeekableWindow_(t,n)){var s=t.start(0);a=s+Ds}return"undefined"!=typeof a&&(this.logger_("Trying to seek outside of seekable at time "+n+" with "+("seekable range "+js(t)+". Seeking to ")+(a+".")),this.seekTo(a),!0)}},{key:"waiting_",value:function(){if(!this.techWaiting_()){var e=this.tech_.currentTime(),t=this.tech_.buffered(),n=Ms(t,e);return n.length&&e+3<=n.end(0)?(this.cancelTimer_(),this.seekTo(e),this.logger_("Stopped at "+e+" while inside a buffered region "+("["+n.start(0)+" -> "+n.end(0)+"]. Attempting to resume ")+"playback by seeking to the current time."),void this.tech_.trigger({type:"usage",name:"hls-unknown-waiting"})):void 0}}},{key:"techWaiting_",value:function(){var e=this.seekable(),t=this.tech_.currentTime();if(this.tech_.seeking()&&this.fixesBadSeeks_())return!0;if(this.tech_.seeking()||null!==this.timer_)return!0;if(this.beforeSeekableWindow_(e,t)){var n=e.end(e.length-1);return this.logger_("Fell out of live window at time "+t+". Seeking to live point (seekable end) "+n),this.cancelTimer_(),this.seekTo(n),this.tech_.trigger({type:"usage",name:"hls-live-resync"}),!0}var i=this.tech_.buffered(),a=Rs(i,t);if(this.videoUnderflow_(a,i,t))return this.cancelTimer_(),this.seekTo(t),this.tech_.trigger({type:"usage",name:"hls-video-underflow"}),!0;if(a.length>0){var r=a.start(0)-t;return this.logger_("Stopped at "+t+", setting timer for "+r+", seeking to "+a.start(0)),this.timer_=setTimeout(this.skipTheGap_.bind(this),1e3*r,t),!0}return!1}},{key:"afterSeekableWindow_",value:function(e,t,n){var i=arguments.length>3&&void 0!==arguments[3]&&arguments[3];if(!e.length)return!1;var a=e.end(e.length-1)+Ds,r=!n.endList;return r&&i&&(a=e.end(e.length-1)+3*n.targetDuration),t>a}},{key:"beforeSeekableWindow_",value:function(e,t){return!!(e.length&&e.start(0)>0&&t<e.start(0)-Ds)}},{key:"videoUnderflow_",value:function(e,t,n){if(0===e.length){var i=this.gapFromVideoUnderflow_(t,n);if(i)return this.logger_("Encountered a gap in video from "+i.start+" to "+i.end+". Seeking to current time "+n),!0}return!1}},{key:"skipTheGap_",value:function(e){var t=this.tech_.buffered(),n=this.tech_.currentTime(),i=Rs(t,n);this.cancelTimer_(),0!==i.length&&n===e&&(this.logger_("skipTheGap_:","currentTime:",n,"scheduled currentTime:",e,"nextRange start:",i.start(0)),this.seekTo(i.start(0)+Os),this.tech_.trigger({type:"usage",name:"hls-gap-skip"}))}},{key:"gapFromVideoUnderflow_",value:function(e,t){for(var n=Bs(e),i=0;i<n.length;i++){var a=n.start(i),r=n.end(i);if(t-a<4&&t-a>2)return{start:a,end:r}}return null}}]),e}(),Wl={errorInterval:30,getSource:function(e){var t=this.tech({IWillNotUseThisInPlugins:!0}),n=t.currentSource_;return e(n)}},ql=function e(t,n){var i=0,a=0,r=Me.mergeOptions(Wl,n);t.ready(function(){t.trigger({type:"usage",name:"hls-error-reload-initialized"})});var s=function(){a&&t.currentTime(a)},o=function(e){null!==e&&void 0!==e&&(a=t.duration()!==1/0&&t.currentTime()||0,t.one("loadedmetadata",s),t.src(e),t.trigger({type:"usage",name:"hls-error-reload"}),t.play())},l=function(){return Date.now()-i<1e3*r.errorInterval?void t.trigger({type:"usage",name:"hls-error-reload-canceled"}):r.getSource&&"function"==typeof r.getSource?(i=Date.now(),r.getSource.call(t,o)):void Me.log.error("ERROR: reloadSourceOnError - The option getSource must be a function!")},u=function e(){t.off("loadedmetadata",s),t.off("error",l),t.off("dispose",e)},c=function(n){u(),e(t,n)};t.on("error",l),t.on("dispose",u),t.reloadSourceOnError=c},$l=function(e){ql(this,e)},Yl="1.10.6";Me.use("*",function(e){return{setSource:function(e,t){t(null,e)},setCurrentTime:function(t){return e.vhs&&e.currentSource().src===e.vhs.source_.src&&e.vhs.setCurrentTime(t),t},play:function(){e.vhs&&e.currentSource().src===e.vhs.source_.src&&e.vhs.setCurrentTime(e.tech_.currentTime())}}});var Xl={PlaylistLoader:Br,Playlist:os,Decrypter:et.Decrypter,AsyncStream:et.AsyncStream,decrypt:et.decrypt,utils:ks,STANDARD_PLAYLIST_SELECTOR:il,INITIAL_PLAYLIST_SELECTOR:rl,comparePlaylistBandwidth:el,comparePlaylistResolution:tl,xhr:cs()};["GOAL_BUFFER_LENGTH","MAX_GOAL_BUFFER_LENGTH","GOAL_BUFFER_LENGTH_RATE","BUFFER_LOW_WATER_LINE","MAX_BUFFER_LOW_WATER_LINE","BUFFER_LOW_WATER_LINE_RATE","BANDWIDTH_VARIANCE"].forEach(function(e){Object.defineProperty(Xl,e,{get:function(){return Me.log.warn("using Hls."+e+" is UNSAFE be sure you know what you are doing"),Uo[e]},set:function(t){return Me.log.warn("using Hls."+e+" is UNSAFE be sure you know what you are doing"),"number"!=typeof t||t<0?void Me.log.warn("value of Hls."+e+" must be greater than or equal to 0"):void(Uo[e]=t)}})});var Ql="videojs-vhs",Jl=function(e){var t=/^(audio|video|application)\/(x-|vnd\.apple\.)?mpegurl/i;if(t.test(e))return"hls";var n=/^application\/dash\+xml/i;return n.test(e)?"dash":null},Zl=function(e,t){for(var n=t.media(),i=-1,a=0;a<e.length;a++)if(e[a].id===n.uri){i=a;break}e.selectedIndex_=i,e.trigger({selectedIndex:i,type:"change"})},eu=function(e,t){t.representations().forEach(function(t){e.addQualityLevel(t)}),Zl(e,t.playlists)};Xl.canPlaySource=function(){return Me.log.warn("HLS is no longer a tech. Please remove it from your player's techOrder.")};var tu=function(e,t,n){if(!e)return e;var i={};for(var a in e)i[a]={audioContentType:'audio/mp4; codecs="'+n.attributes.CODECS+'"',videoContentType:'video/mp4; codecs="'+t.attributes.CODECS+'"'},t.contentProtection&&t.contentProtection[a]&&t.contentProtection[a].pssh&&(i[a].pssh=t.contentProtection[a].pssh),"string"==typeof e[a]&&(i[a].url=e[a]);return Me.mergeOptions(e,i)},nu=function(e){if("dash"===e.options_.sourceType){var t=Me.players[e.tech_.options_.playerId];if(t.eme){var n=tu(e.source_.keySystems,e.playlists.media(),e.masterPlaylistController_.mediaTypes_.AUDIO.activePlaylistLoader.media());n&&(t.currentSource().keySystems=n,t.eme.initializeMediaKeys&&t.eme.initializeMediaKeys())}}},iu=function(){if(!window.localStorage)return null;var e=window.localStorage.getItem(Ql);if(!e)return null;try{return JSON.parse(e)}catch(e){return null}},au=function(e){if(!window.localStorage)return!1;var t=iu();t=t?Me.mergeOptions(t,e):e;try{window.localStorage.setItem(Ql,JSON.stringify(t))}catch(e){return!1}return t};Xl.supportsNativeHls=function(){var e=ze.createElement("video");if(!Me.getTech("Html5").isSupported())return!1;var t=["application/vnd.apple.mpegurl","audio/mpegurl","audio/x-mpegurl","application/x-mpegurl","video/x-mpegurl","video/mpegurl","application/mpegurl"];return t.some(function(t){return/maybe|probably/i.test(e.canPlayType(t))})}(),Xl.supportsNativeDash=function(){return!!Me.getTech("Html5").isSupported()&&/maybe|probably/i.test(ze.createElement("video").canPlayType("application/dash+xml"))}(),Xl.supportsTypeNatively=function(e){return"hls"===e?Xl.supportsNativeHls:"dash"===e&&Xl.supportsNativeDash},Xl.isSupported=function(){return Me.log.warn("HLS is no longer a tech. Please remove it from your player's techOrder.")};var ru=Me.getComponent("Component"),su=function(e){function t(e,n,i){Tr(this,t);var a=wr(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,n,i.hls));if(n.options_&&n.options_.playerId){var r=Me(n.options_.playerId);r.hasOwnProperty("hls")||Object.defineProperty(r,"hls",{get:function(){return Me.log.warn("player.hls is deprecated. Use player.tech().hls instead."),n.trigger({type:"usage",name:"hls-player-access"}),a},configurable:!0}),r.vhs=a,r.dash=a,a.player_=r}if(a.tech_=n,a.source_=e,a.stats={},a.setOptions_(),a.options_.overrideNative&&n.overrideNativeAudioTracks&&n.overrideNativeVideoTracks)n.overrideNativeAudioTracks(!0),n.overrideNativeVideoTracks(!0);else if(a.options_.overrideNative&&(n.featuresNativeVideoTracks||n.featuresNativeAudioTracks))throw new Error("Overriding native HLS requires emulated tracks. See https://git.io/vMpjB");return a.on(ze,["fullscreenchange","webkitfullscreenchange","mozfullscreenchange","MSFullscreenChange"],function(e){var t=ze.fullscreenElement||ze.webkitFullscreenElement||ze.mozFullScreenElement||ze.msFullscreenElement;t&&t.contains(a.tech_.el())&&a.masterPlaylistController_.smoothQualityChange_()}),a.on(a.tech_,"seeking",function(){0===this.tech_.currentTime()&&this.tech_.player_.loop()&&this.setCurrentTime(0)}),a.on(a.tech_,"error",function(){this.masterPlaylistController_&&this.masterPlaylistController_.pauseLoading()}),a.on(a.tech_,"play",a.play),a}return Cr(t,e),kr(t,[{key:"setOptions_",value:function(){var e=this;if(this.options_.withCredentials=this.options_.withCredentials||!1,this.options_.handleManifestRedirects=this.options_.handleManifestRedirects||!1,this.options_.limitRenditionByPlayerDimensions=this.options_.limitRenditionByPlayerDimensions!==!1,this.options_.smoothQualityChange=this.options_.smoothQualityChange||!1,this.options_.useBandwidthFromLocalStorage="undefined"!=typeof this.source_.useBandwidthFromLocalStorage?this.source_.useBandwidthFromLocalStorage:this.options_.useBandwidthFromLocalStorage||!1,this.options_.customTagParsers=this.options_.customTagParsers||[],this.options_.customTagMappers=this.options_.customTagMappers||[],this.options_.cacheEncryptionKeys=this.options_.cacheEncryptionKeys||!1,"number"!=typeof this.options_.blacklistDuration&&(this.options_.blacklistDuration=300),"number"!=typeof this.options_.bandwidth&&this.options_.useBandwidthFromLocalStorage){var t=iu();t&&t.bandwidth&&(this.options_.bandwidth=t.bandwidth,this.tech_.trigger({type:"usage",name:"hls-bandwidth-from-local-storage"})),t&&t.throughput&&(this.options_.throughput=t.throughput,this.tech_.trigger({type:"usage",name:"hls-throughput-from-local-storage"}))}"number"!=typeof this.options_.bandwidth&&(this.options_.bandwidth=Uo.INITIAL_BANDWIDTH),this.options_.enableLowInitialPlaylist=this.options_.enableLowInitialPlaylist&&this.options_.bandwidth===Uo.INITIAL_BANDWIDTH,["withCredentials","limitRenditionByPlayerDimensions","bandwidth","smoothQualityChange","customTagParsers","customTagMappers","handleManifestRedirects","cacheEncryptionKeys"].forEach(function(t){"undefined"!=typeof e.source_[t]&&(e.options_[t]=e.source_[t])}),this.limitRenditionByPlayerDimensions=this.options_.limitRenditionByPlayerDimensions}},{key:"src",value:function(e,t){var n=this;e&&(this.setOptions_(),this.options_.url=this.source_.src,this.options_.tech=this.tech_,this.options_.externHls=Xl,this.options_.sourceType=Jl(t),this.options_.seekTo=function(e){n.tech_.setCurrentTime(e),n.setCurrentTime(e)},this.masterPlaylistController_=new Hl(this.options_),this.playbackWatcher_=new Vl(Me.mergeOptions(this.options_,{seekable:function(){return n.seekable()},media:function(){return n.masterPlaylistController_.media()}})),this.masterPlaylistController_.on("error",function(){var e=Me.players[n.tech_.options_.playerId];e.error(n.masterPlaylistController_.error)}),this.masterPlaylistController_.selectPlaylist=this.selectPlaylist?this.selectPlaylist.bind(this):Xl.STANDARD_PLAYLIST_SELECTOR.bind(this),this.masterPlaylistController_.selectInitialPlaylist=Xl.INITIAL_PLAYLIST_SELECTOR.bind(this),this.playlists=this.masterPlaylistController_.masterPlaylistLoader_,this.mediaSource=this.masterPlaylistController_.mediaSource,Object.defineProperties(this,{selectPlaylist:{get:function(){return this.masterPlaylistController_.selectPlaylist},set:function(e){this.masterPlaylistController_.selectPlaylist=e.bind(this)}},throughput:{get:function(){return this.masterPlaylistController_.mainSegmentLoader_.throughput.rate},set:function(e){this.masterPlaylistController_.mainSegmentLoader_.throughput.rate=e,this.masterPlaylistController_.mainSegmentLoader_.throughput.count=1}},bandwidth:{get:function(){return this.masterPlaylistController_.mainSegmentLoader_.bandwidth},set:function(e){this.masterPlaylistController_.mainSegmentLoader_.bandwidth=e,this.masterPlaylistController_.mainSegmentLoader_.throughput={rate:0,count:0}}},systemBandwidth:{get:function(){var e=1/(this.bandwidth||1),t=void 0;t=this.throughput>0?1/this.throughput:0;var n=Math.floor(1/(e+t));return n},set:function(){Me.log.error('The "systemBandwidth" property is read-only')}}}),this.options_.bandwidth&&(this.bandwidth=this.options_.bandwidth),this.options_.throughput&&(this.throughput=this.options_.throughput),Object.defineProperties(this.stats,{bandwidth:{get:function(){return n.bandwidth||0},enumerable:!0},mediaRequests:{get:function(){return n.masterPlaylistController_.mediaRequests_()||0},enumerable:!0},mediaRequestsAborted:{get:function(){return n.masterPlaylistController_.mediaRequestsAborted_()||0},enumerable:!0},mediaRequestsTimedout:{get:function(){return n.masterPlaylistController_.mediaRequestsTimedout_()||0},enumerable:!0},mediaRequestsErrored:{get:function(){return n.masterPlaylistController_.mediaRequestsErrored_()||0},enumerable:!0},mediaTransferDuration:{get:function(){return n.masterPlaylistController_.mediaTransferDuration_()||0},enumerable:!0},mediaBytesTransferred:{get:function(){return n.masterPlaylistController_.mediaBytesTransferred_()||0},enumerable:!0},mediaSecondsLoaded:{get:function(){return n.masterPlaylistController_.mediaSecondsLoaded_()||0},enumerable:!0},buffered:{get:function(){return Hs(n.tech_.buffered())},enumerable:!0},currentTime:{get:function(){return n.tech_.currentTime()},enumerable:!0},currentSource:{get:function(){return n.tech_.currentSource_},enumerable:!0},currentTech:{get:function(){return n.tech_.name_},enumerable:!0},duration:{get:function(){return n.tech_.duration()},enumerable:!0},master:{get:function(){return n.playlists.master},enumerable:!0},playerDimensions:{get:function(){return n.tech_.currentDimensions()},enumerable:!0},seekable:{get:function(){return Hs(n.tech_.seekable())},enumerable:!0},timestamp:{get:function(){return Date.now()},enumerable:!0},videoPlaybackQuality:{get:function(){return n.tech_.getVideoPlaybackQuality()},enumerable:!0}}),this.tech_.one("canplay",this.masterPlaylistController_.setupFirstPlay.bind(this.masterPlaylistController_)),this.tech_.on("bandwidthupdate",function(){n.options_.useBandwidthFromLocalStorage&&au({bandwidth:n.bandwidth,throughput:Math.round(n.throughput)})}),this.masterPlaylistController_.on("selectedinitialmedia",function(){Kl(n),nu(n)}),this.on(this.masterPlaylistController_,"progress",function(){this.tech_.trigger("progress")}),this.tech_.ready(function(){return n.setupQualityLevels_()}),this.tech_.el()&&this.tech_.src(Me.URL.createObjectURL(this.masterPlaylistController_.mediaSource)))}},{key:"setupQualityLevels_",value:function(){var e=this,t=Me.players[this.tech_.options_.playerId];t&&t.qualityLevels&&(this.qualityLevels_=t.qualityLevels(),this.masterPlaylistController_.on("selectedinitialmedia",function(){eu(e.qualityLevels_,e)}),this.playlists.on("mediachange",function(){Zl(e.qualityLevels_,e.playlists)}))}},{key:"play",value:function(){this.masterPlaylistController_.play()}},{key:"setCurrentTime",value:function(e){this.masterPlaylistController_.setCurrentTime(e)}},{key:"duration",value:function(){return this.masterPlaylistController_.duration()}},{key:"seekable",value:function(){return this.masterPlaylistController_.seekable()}},{key:"dispose",value:function(){this.playbackWatcher_&&this.playbackWatcher_.dispose(),this.masterPlaylistController_&&this.masterPlaylistController_.dispose(),this.qualityLevels_&&this.qualityLevels_.dispose(),this.player_&&(delete this.player_.vhs,delete this.player_.dash,delete this.player_.hls),this.tech_&&this.tech_.hls&&delete this.tech_.hls,Sr(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"dispose",this).call(this)}},{key:"convertToProgramTime",value:function(e,t){return xs({playlist:this.masterPlaylistController_.media(),time:e,callback:t})}},{key:"seekToProgramTime",value:function(e,t){var n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:2;return Ps({programTime:e,playlist:this.masterPlaylistController_.media(),retryCount:i,pauseAfterSeek:n,seekTo:this.options_.seekTo,tech:this.options_.tech,callback:t})}}]),t}(ru),ou={name:"videojs-http-streaming",VERSION:Yl,canHandleSource:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=Me.mergeOptions(Me.options,t);return ou.canPlayType(e.type,n)},handleSource:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},i=Me.mergeOptions(Me.options,n);return t.hls=new su(e,t,i),t.hls.xhr=cs(),t.hls.src(e.src,e.type),t.hls},canPlayType:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=Me.mergeOptions(Me.options,t),i=n.hls.overrideNative,a=Jl(e),r=a&&(!Xl.supportsTypeNatively(a)||i);return r?"maybe":""}};"undefined"!=typeof Me.MediaSource&&"undefined"!=typeof Me.URL||(Me.MediaSource=Eo,Me.URL=Ao),Eo.supportsNativeMediaSources()&&Me.getTech("Html5").registerSourceHandler(ou,0),Me.HlsHandler=su,Me.HlsSourceHandler=ou,Me.Hls=Xl,Me.use||Me.registerComponent("Hls",Xl),Me.options.hls=Me.options.hls||{},Me.registerPlugin?Me.registerPlugin("reloadSourceOnError",$l):Me.plugin("reloadSourceOnError",$l),e.exports=Me},function(e,t){(function(t){var n;n="undefined"!=typeof window?window:"undefined"!=typeof t?t:"undefined"!=typeof self?self:{},e.exports=n}).call(t,function(){return this}())},function(e,t,n){(function(t){var i,a="undefined"!=typeof t?t:"undefined"!=typeof window?window:{},r=n(11);"undefined"!=typeof document?i=document:(i=a["__GLOBAL_DOCUMENT_CACHE@4"],i||(i=a["__GLOBAL_DOCUMENT_CACHE@4"]=r)),e.exports=i}).call(t,function(){return this}())},function(e,t){},function(e,t){function n(e,t){var n,i=null;try{n=JSON.parse(e,t)}catch(e){i=e}return[i,n]}e.exports=n},function(e,t){function n(e){if(e&&"object"==typeof e){var t=e.which||e.keyCode||e.charCode;t&&(e=t)}if("number"==typeof e)return s[e];var n=String(e),r=i[n.toLowerCase()];if(r)return r;var r=a[n.toLowerCase()];return r?r:1===n.length?n.charCodeAt(0):void 0}n.isEventKey=function(e,t){if(e&&"object"==typeof e){var n=e.which||e.keyCode||e.charCode;if(null===n||void 0===n)return!1;if("string"==typeof t){var r=i[t.toLowerCase()];if(r)return r===n;var r=a[t.toLowerCase()];if(r)return r===n}else if("number"==typeof t)return t===n;return!1}},t=e.exports=n;var i=t.code=t.codes={backspace:8,tab:9,enter:13,shift:16,ctrl:17,alt:18,"pause/break":19,"caps lock":20,esc:27,space:32,"page up":33,"page down":34,end:35,home:36,left:37,up:38,right:39,down:40,insert:45,delete:46,command:91,"left command":91,"right command":93,"numpad *":106,"numpad +":107,"numpad -":109,"numpad .":110,"numpad /":111,"num lock":144,"scroll lock":145,"my computer":182,"my calculator":183,";":186,"=":187,",":188,"-":189,".":190,"/":191,"`":192,"[":219,"\\":220,"]":221,"'":222},a=t.aliases={windows:91,"?":16,"?":18,"^":17,"?":91,ctl:17,control:17,option:18,pause:19,break:19,caps:20,return:13,escape:27,spc:32,spacebar:32,pgup:33,pgdn:34,ins:45,del:46,cmd:91};/*!
	 * Programatically add the following
	 */
for(r=97;r<123;r++)i[String.fromCharCode(r)]=r-32;for(var r=48;r<58;r++)i[r-48]=r;for(r=1;r<13;r++)i["f"+r]=r+111;for(r=0;r<10;r++)i["numpad "+r]=r+96;var s=t.names=t.title={};for(r in i)s[i[r]]=r;for(var o in a)i[o]=a[o]},function(e,t,n){"use strict";function i(e,t){for(var n=0;n<e.length;n++)t(e[n])}function a(e){for(var t in e)if(e.hasOwnProperty(t))return!1;return!0}function r(e,t,n){var i=e;return d(t)?(n=t,"string"==typeof e&&(i={uri:e})):i=f(t,{uri:e}),i.callback=n,i}function s(e,t,n){return t=r(e,t,n),o(t)}function o(e){function t(){4===c.readyState&&setTimeout(r,0)}function n(){var e=void 0;if(e=c.response?c.response:c.responseText||l(c),b)try{e=JSON.parse(e)}catch(e){}return e}function i(e){return clearTimeout(p),e instanceof Error||(e=new Error(""+(e||"Unknown XMLHttpRequest Error"))),e.statusCode=0,u(e,T)}function r(){if(!f){var t;clearTimeout(p),t=e.useXDR&&void 0===c.status?200:1223===c.status?204:c.status;var i=T,a=null;return 0!==t?(i={body:n(),statusCode:t,method:g,headers:{},url:m,rawRequest:c},c.getAllResponseHeaders&&(i.headers=h(c.getAllResponseHeaders()))):a=new Error("Internal XMLHttpRequest Error"),u(a,i,i.body)}}if("undefined"==typeof e.callback)throw new Error("callback argument missing");var o=!1,u=function(t,n,i){o||(o=!0,e.callback(t,n,i))},c=e.xhr||null;c||(c=e.cors||e.useXDR?new s.XDomainRequest:new s.XMLHttpRequest);var d,f,p,m=c.url=e.uri||e.url,g=c.method=e.method||"GET",v=e.body||e.data,y=c.headers=e.headers||{},_=!!e.sync,b=!1,T={body:void 0,headers:{},statusCode:0,method:g,url:m,rawRequest:c};if("json"in e&&e.json!==!1&&(b=!0,y.accept||y.Accept||(y.Accept="application/json"),"GET"!==g&&"HEAD"!==g&&(y["content-type"]||y["Content-Type"]||(y["Content-Type"]="application/json"),v=JSON.stringify(e.json===!0?v:e.json))),c.onreadystatechange=t,c.onload=r,c.onerror=i,c.onprogress=function(){},c.onabort=function(){f=!0},c.ontimeout=i,c.open(g,m,!_,e.username,e.password),_||(c.withCredentials=!!e.withCredentials),!_&&e.timeout>0&&(p=setTimeout(function(){if(!f){f=!0,c.abort("timeout");var e=new Error("XMLHttpRequest timeout");e.code="ETIMEDOUT",i(e)}},e.timeout)),c.setRequestHeader)for(d in y)y.hasOwnProperty(d)&&c.setRequestHeader(d,y[d]);else if(e.headers&&!a(e.headers))throw new Error("Headers cannot be set on an XDomainRequest object");return"responseType"in e&&(c.responseType=e.responseType),"beforeSend"in e&&"function"==typeof e.beforeSend&&e.beforeSend(c),c.send(v||null),c}function l(e){if("document"===e.responseType)return e.responseXML;var t=e.responseXML&&"parsererror"===e.responseXML.documentElement.nodeName;return""!==e.responseType||t?null:e.responseXML}function u(){}var c=n(9),d=n(15),h=n(16),f=n(17);e.exports=s,s.XMLHttpRequest=c.XMLHttpRequest||u,s.XDomainRequest="withCredentials"in new s.XMLHttpRequest?s.XMLHttpRequest:c.XDomainRequest,i(["get","put","post","patch","head","delete"],function(e){s["delete"===e?"del":e]=function(t,n,i){return n=r(t,n,i),n.method=e.toUpperCase(),o(n)}})},function(e,t){function n(e){var t=i.call(e);return"[object Function]"===t||"function"==typeof e&&"[object RegExp]"!==t||"undefined"!=typeof window&&(e===window.setTimeout||e===window.alert||e===window.confirm||e===window.prompt)}e.exports=n;var i=Object.prototype.toString},function(e,t){var n=function(e){return e.replace(/^\s+|\s+$/g,"")},i=function(e){return"[object Array]"===Object.prototype.toString.call(e)};e.exports=function(e){if(!e)return{};for(var t={},a=n(e).split("\n"),r=0;r<a.length;r++){var s=a[r],o=s.indexOf(":"),l=n(s.slice(0,o)).toLowerCase(),u=n(s.slice(o+1));"undefined"==typeof t[l]?t[l]=u:i(t[l])?t[l].push(u):t[l]=[t[l],u]}return t}},function(e,t){function n(){for(var e={},t=0;t<arguments.length;t++){var n=arguments[t];for(var a in n)i.call(n,a)&&(e[a]=n[a])}return e}e.exports=n;var i=Object.prototype.hasOwnProperty},function(e,t,n){var i=n(9),a=e.exports={WebVTT:n(19),VTTCue:n(20),VTTRegion:n(21)};i.vttjs=a,i.WebVTT=a.WebVTT;var r=a.VTTCue,s=a.VTTRegion,o=i.VTTCue,l=i.VTTRegion;a.shim=function(){i.VTTCue=r,i.VTTRegion=s},a.restore=function(){i.VTTCue=o,i.VTTRegion=l},i.VTTCue||a.shim()},function(e,t){function n(e,t){this.name="ParsingError",this.code=e.code,this.message=t||e.message}function i(e){function t(e,t,n,i){return 3600*(0|e)+60*(0|t)+(0|n)+(0|i)/1e3}var n=e.match(/^(\d+):(\d{2})(:\d{2})?\.(\d{3})/);return n?n[3]?t(n[1],n[2],n[3].replace(":",""),n[4]):n[1]>59?t(n[1],n[2],0,n[4]):t(0,n[1],n[2],n[4]):null}function a(){this.values=g(null)}function r(e,t,n,i){var a=i?e.split(i):[e];for(var r in a)if("string"==typeof a[r]){var s=a[r].split(n);if(2===s.length){var o=s[0],l=s[1];t(o,l)}}}function s(e,t,s){function o(){var t=i(e);if(null===t)throw new n(n.Errors.BadTimeStamp,"Malformed timestamp: "+c);return e=e.replace(/^[^\sa-zA-Z-]+/,""),t}function l(e,t){var n=new a;r(e,function(e,t){switch(e){case"region":for(var i=s.length-1;i>=0;i--)if(s[i].id===t){n.set(e,s[i].region);break}break;case"vertical":n.alt(e,t,["rl","lr"]);break;case"line":var a=t.split(","),r=a[0];n.integer(e,r),n.percent(e,r)?n.set("snapToLines",!1):null,n.alt(e,r,["auto"]),2===a.length&&n.alt("lineAlign",a[1],["start","middle","end"]);break;case"position":a=t.split(","),n.percent(e,a[0]),2===a.length&&n.alt("positionAlign",a[1],["start","middle","end"]);break;case"size":n.percent(e,t);break;case"align":n.alt(e,t,["start","middle","end","left","right"])}},/:/,/\s/),t.region=n.get("region",null),t.vertical=n.get("vertical",""),t.line=n.get("line","auto"),t.lineAlign=n.get("lineAlign","start"),t.snapToLines=n.get("snapToLines",!0),t.size=n.get("size",100),t.align=n.get("align","middle"),t.position=n.get("position",{start:0,left:0,middle:50,end:100,right:100},t.align),t.positionAlign=n.get("positionAlign",{start:"start",left:"start",middle:"middle",end:"end",right:"end"},t.align)}function u(){e=e.replace(/^\s+/,"")}var c=e;if(u(),t.startTime=o(),u(),"-->"!==e.substr(0,3))throw new n(n.Errors.BadTimeStamp,"Malformed time stamp (time stamps must be separated by '-->'): "+c);e=e.substr(3),u(),t.endTime=o(),u(),l(e,t)}function o(e,t){function n(){function e(e){return t=t.substr(e.length),e}if(!t)return null;var n=t.match(/^([^<]*)(<[^>]*>?)?/);return e(n[1]?n[1]:n[2])}function a(e){return v[e]}function r(e){for(;p=e.match(/&(amp|lt|gt|lrm|rlm|nbsp);/);)e=e.replace(p[0],a);return e}function s(e,t){return!b[t.localName]||b[t.localName]===e.localName}function o(t,n){var i=y[t];if(!i)return null;var a=e.document.createElement(i);a.localName=i;var r=_[t];return r&&n&&(a[r]=n.trim()),a}for(var l,u=e.document.createElement("div"),c=u,d=[];null!==(l=n());)if("<"!==l[0])c.appendChild(e.document.createTextNode(r(l)));else{if("/"===l[1]){d.length&&d[d.length-1]===l.substr(2).replace(">","")&&(d.pop(),c=c.parentNode);continue}var h,f=i(l.substr(1,l.length-2));if(f){h=e.document.createProcessingInstruction("timestamp",f),c.appendChild(h);continue}var p=l.match(/^<([^.\s\/0-9>]+)(\.[^\s\\>]+)?([^>\\]+)?(\\?)>?$/);if(!p)continue;if(h=o(p[1],p[3]),!h)continue;if(!s(c,h))continue;p[2]&&(h.className=p[2].substr(1).replace("."," ")),d.push(p[1]),c.appendChild(h),c=h}return u}function l(e){for(var t=0;t<T.length;t++){var n=T[t];if(e>=n[0]&&e<=n[1])return!0}return!1}function u(e){function t(e,t){for(var n=t.childNodes.length-1;n>=0;n--)e.push(t.childNodes[n])}function n(e){if(!e||!e.length)return null;var i=e.pop(),a=i.textContent||i.innerText;if(a){var r=a.match(/^.*(\n|\r)/);return r?(e.length=0,r[0]):a}return"ruby"===i.tagName?n(e):i.childNodes?(t(e,i),n(e)):void 0}var i,a=[],r="";if(!e||!e.childNodes)return"ltr";for(t(a,e);r=n(a);)for(var s=0;s<r.length;s++)if(i=r.charCodeAt(s),l(i))return"rtl";return"ltr"}function c(e){if("number"==typeof e.line&&(e.snapToLines||e.line>=0&&e.line<=100))return e.line;if(!e.track||!e.track.textTrackList||!e.track.textTrackList.mediaElement)return-1;for(var t=e.track,n=t.textTrackList,i=0,a=0;a<n.length&&n[a]!==t;a++)"showing"===n[a].mode&&i++;return++i*-1}function d(){}function h(e,t,n){d.call(this),this.cue=t,this.cueDiv=o(e,t.text);var i={color:"rgba(255, 255, 255, 1)",backgroundColor:"rgba(0, 0, 0, 0.8)",position:"relative",left:0,right:0,top:0,bottom:0,display:"inline",writingMode:""===t.vertical?"horizontal-tb":"lr"===t.vertical?"vertical-lr":"vertical-rl",unicodeBidi:"plaintext"};this.applyStyles(i,this.cueDiv),this.div=e.document.createElement("div"),i={direction:u(this.cueDiv),writingMode:""===t.vertical?"horizontal-tb":"lr"===t.vertical?"vertical-lr":"vertical-rl",unicodeBidi:"plaintext",textAlign:"middle"===t.align?"center":t.align,font:n.font,whiteSpace:"pre-line",position:"absolute"},this.applyStyles(i),this.div.appendChild(this.cueDiv);var a=0;switch(t.positionAlign){case"start":a=t.position;break;case"middle":a=t.position-t.size/2;break;case"end":a=t.position-t.size}""===t.vertical?this.applyStyles({left:this.formatStyle(a,"%"),width:this.formatStyle(t.size,"%")}):this.applyStyles({top:this.formatStyle(a,"%"),height:this.formatStyle(t.size,"%")}),this.move=function(e){this.applyStyles({top:this.formatStyle(e.top,"px"),bottom:this.formatStyle(e.bottom,"px"),left:this.formatStyle(e.left,"px"),right:this.formatStyle(e.right,"px"),height:this.formatStyle(e.height,"px"),width:this.formatStyle(e.width,"px")})}}function f(e){var t,n,i,a;if(e.div){n=e.div.offsetHeight,i=e.div.offsetWidth,a=e.div.offsetTop;var r=(r=e.div.childNodes)&&(r=r[0])&&r.getClientRects&&r.getClientRects();e=e.div.getBoundingClientRect(),t=r?Math.max(r[0]&&r[0].height||0,e.height/r.length):0}this.left=e.left,this.right=e.right,this.top=e.top||a,this.height=e.height||n,this.bottom=e.bottom||a+(e.height||n),this.width=e.width||i,this.lineHeight=void 0!==t?t:e.lineHeight}function p(e,t,n,i){function a(e,t){for(var a,r=new f(e),s=1,o=0;o<t.length;o++){for(;e.overlapsOppositeAxis(n,t[o])||e.within(n)&&e.overlapsAny(i);)e.move(t[o]);if(e.within(n))return e;var l=e.intersectPercentage(n);s>l&&(a=new f(e),s=l),e=new f(r)}return a||r}var r=new f(t),s=t.cue,o=c(s),l=[];if(s.snapToLines){var u;switch(s.vertical){case"":l=["+y","-y"],u="height";break;case"rl":l=["+x","-x"],u="width";break;case"lr":l=["-x","+x"],u="width"}var d=r.lineHeight,h=d*Math.round(o),p=n[u]+d,m=l[0];Math.abs(h)>p&&(h=h<0?-1:1,h*=Math.ceil(p/d)*d),o<0&&(h+=""===s.vertical?n.height:n.width,l=l.reverse()),r.move(m,h)}else{var g=r.lineHeight/n.height*100;switch(s.lineAlign){case"middle":o-=g/2;break;case"end":o-=g}switch(s.vertical){case"":t.applyStyles({top:t.formatStyle(o,"%")});break;case"rl":t.applyStyles({left:t.formatStyle(o,"%")});break;case"lr":t.applyStyles({right:t.formatStyle(o,"%")})}l=["+y","-x","+x","-y"],r=new f(t)}var v=a(r,l);t.move(v.toCSSCompatValues(n))}function m(){}var g=Object.create||function(){function e(){}return function(t){if(1!==arguments.length)throw new Error("Object.create shim only accepts one parameter.");return e.prototype=t,new e}}();n.prototype=g(Error.prototype),n.prototype.constructor=n,n.Errors={BadSignature:{code:0,message:"Malformed WebVTT signature."},BadTimeStamp:{code:1,message:"Malformed time stamp."}},a.prototype={set:function(e,t){this.get(e)||""===t||(this.values[e]=t)},get:function(e,t,n){return n?this.has(e)?this.values[e]:t[n]:this.has(e)?this.values[e]:t},has:function(e){return e in this.values},alt:function(e,t,n){for(var i=0;i<n.length;++i)if(t===n[i]){this.set(e,t);break}},integer:function(e,t){/^-?\d+$/.test(t)&&this.set(e,parseInt(t,10))},percent:function(e,t){var n;return!!((n=t.match(/^([\d]{1,3})(\.[\d]*)?%$/))&&(t=parseFloat(t),t>=0&&t<=100))&&(this.set(e,t),!0)}};var v={"&amp;":"&","&lt;":"<","&gt;":">","&lrm;":"?","&rlm;":"?","&nbsp;":" "},y={c:"span",i:"i",b:"b",u:"u",ruby:"ruby",rt:"rt",v:"span",lang:"span"},_={v:"title",lang:"lang"},b={rt:"ruby"},T=[[1470,1470],[1472,1472],[1475,1475],[1478,1478],[1488,1514],[1520,1524],[1544,1544],[1547,1547],[1549,1549],[1563,1563],[1566,1610],[1645,1647],[1649,1749],[1765,1766],[1774,1775],[1786,1805],[1807,1808],[1810,1839],[1869,1957],[1969,1969],[1984,2026],[2036,2037],[2042,2042],[2048,2069],[2074,2074],[2084,2084],[2088,2088],[2096,2110],[2112,2136],[2142,2142],[2208,2208],[2210,2220],[8207,8207],[64285,64285],[64287,64296],[64298,64310],[64312,64316],[64318,64318],[64320,64321],[64323,64324],[64326,64449],[64467,64829],[64848,64911],[64914,64967],[65008,65020],[65136,65140],[65142,65276],[67584,67589],[67592,67592],[67594,67637],[67639,67640],[67644,67644],[67647,67669],[67671,67679],[67840,67867],[67872,67897],[67903,67903],[67968,68023],[68030,68031],[68096,68096],[68112,68115],[68117,68119],[68121,68147],[68160,68167],[68176,68184],[68192,68223],[68352,68405],[68416,68437],[68440,68466],[68472,68479],[68608,68680],[126464,126467],[126469,126495],[126497,126498],[126500,126500],[126503,126503],[126505,126514],[126516,126519],[126521,126521],[126523,126523],[126530,126530],[126535,126535],[126537,126537],[126539,126539],[126541,126543],[126545,126546],[126548,126548],[126551,126551],[126553,126553],[126555,126555],[126557,126557],[126559,126559],[126561,126562],[126564,126564],[126567,126570],[126572,126578],[126580,126583],[126585,126588],[126590,126590],[126592,126601],[126603,126619],[126625,126627],[126629,126633],[126635,126651],[1114109,1114109]];d.prototype.applyStyles=function(e,t){t=t||this.div;for(var n in e)e.hasOwnProperty(n)&&(t.style[n]=e[n])},d.prototype.formatStyle=function(e,t){return 0===e?0:e+t},h.prototype=g(d.prototype),h.prototype.constructor=h,f.prototype.move=function(e,t){switch(t=void 0!==t?t:this.lineHeight,e){case"+x":this.left+=t,this.right+=t;break;case"-x":this.left-=t,this.right-=t;break;case"+y":this.top+=t,this.bottom+=t;break;case"-y":this.top-=t,this.bottom-=t}},f.prototype.overlaps=function(e){return this.left<e.right&&this.right>e.left&&this.top<e.bottom&&this.bottom>e.top},f.prototype.overlapsAny=function(e){for(var t=0;t<e.length;t++)if(this.overlaps(e[t]))return!0;return!1},f.prototype.within=function(e){return this.top>=e.top&&this.bottom<=e.bottom&&this.left>=e.left&&this.right<=e.right},f.prototype.overlapsOppositeAxis=function(e,t){switch(t){case"+x":return this.left<e.left;case"-x":return this.right>e.right;case"+y":return this.top<e.top;case"-y":return this.bottom>e.bottom}},f.prototype.intersectPercentage=function(e){var t=Math.max(0,Math.min(this.right,e.right)-Math.max(this.left,e.left)),n=Math.max(0,Math.min(this.bottom,e.bottom)-Math.max(this.top,e.top)),i=t*n;return i/(this.height*this.width)},f.prototype.toCSSCompatValues=function(e){return{top:this.top-e.top,bottom:e.bottom-this.bottom,left:this.left-e.left,right:e.right-this.right,height:this.height,width:this.width}},f.getSimpleBoxPosition=function(e){var t=e.div?e.div.offsetHeight:e.tagName?e.offsetHeight:0,n=e.div?e.div.offsetWidth:e.tagName?e.offsetWidth:0,i=e.div?e.div.offsetTop:e.tagName?e.offsetTop:0;e=e.div?e.div.getBoundingClientRect():e.tagName?e.getBoundingClientRect():e;var a={left:e.left,right:e.right,top:e.top||i,height:e.height||t,bottom:e.bottom||i+(e.height||t),width:e.width||n};return a},m.StringDecoder=function(){return{decode:function(e){if(!e)return"";if("string"!=typeof e)throw new Error("Error - expected string data.");return decodeURIComponent(encodeURIComponent(e))}}},m.convertCueToDOMTree=function(e,t){return e&&t?o(e,t):null};var k=.05,S="sans-serif",C="1.5%";m.processCues=function(e,t,n){function i(e){for(var t=0;t<e.length;t++)if(e[t].hasBeenReset||!e[t].displayState)return!0;return!1}if(!e||!t||!n)return null;for(;n.firstChild;)n.removeChild(n.firstChild);var a=e.document.createElement("div");if(a.style.position="absolute",a.style.left="0",a.style.right="0",a.style.top="0",a.style.bottom="0",a.style.margin=C,n.appendChild(a),i(t)){var r=[],s=f.getSimpleBoxPosition(a),o=Math.round(s.height*k*100)/100,l={font:o+"px "+S};!function(){for(var n,i,o=0;o<t.length;o++)i=t[o],n=new h(e,i,l),a.appendChild(n.div),p(e,n,s,r),i.displayState=n.div,r.push(f.getSimpleBoxPosition(n))}()}else for(var u=0;u<t.length;u++)a.appendChild(t[u].displayState)},m.Parser=function(e,t,n){n||(n=t,t={}),t||(t={}),this.window=e,this.vttjs=t,this.state="INITIAL",this.buffer="",this.decoder=n||new TextDecoder("utf8"),this.regionList=[]},m.Parser.prototype={reportOrThrowError:function(e){if(!(e instanceof n))throw e;this.onparsingerror&&this.onparsingerror(e)},parse:function(e){function t(){for(var e=c.buffer,t=0;t<e.length&&"\r"!==e[t]&&"\n"!==e[t];)++t;var n=e.substr(0,t);return"\r"===e[t]&&++t,"\n"===e[t]&&++t,c.buffer=e.substr(t),n}function o(e){var t=new a;if(r(e,function(e,n){switch(e){case"id":t.set(e,n);break;case"width":t.percent(e,n);break;case"lines":t.integer(e,n);break;case"regionanchor":case"viewportanchor":var i=n.split(",");if(2!==i.length)break;var r=new a;if(r.percent("x",i[0]),r.percent("y",i[1]),!r.has("x")||!r.has("y"))break;t.set(e+"X",r.get("x")),t.set(e+"Y",r.get("y"));break;case"scroll":t.alt(e,n,["up"])}},/=/,/\s/),t.has("id")){var n=new(c.vttjs.VTTRegion||c.window.VTTRegion);n.width=t.get("width",100),n.lines=t.get("lines",3),n.regionAnchorX=t.get("regionanchorX",0),n.regionAnchorY=t.get("regionanchorY",100),n.viewportAnchorX=t.get("viewportanchorX",0),n.viewportAnchorY=t.get("viewportanchorY",100),n.scroll=t.get("scroll",""),c.onregion&&c.onregion(n),c.regionList.push({id:t.get("id"),region:n})}}function l(e){var t=new a;r(e,function(e,n){switch(e){case"MPEGT":t.integer(e+"S",n);break;case"LOCA":t.set(e+"L",i(n))}},/[^\d]:/,/,/),c.ontimestampmap&&c.ontimestampmap({MPEGTS:t.get("MPEGTS"),LOCAL:t.get("LOCAL")})}function u(e){e.match(/X-TIMESTAMP-MAP/)?r(e,function(e,t){switch(e){case"X-TIMESTAMP-MAP":l(t)}},/=/):r(e,function(e,t){switch(e){case"Region":o(t)}},/:/)}var c=this;e&&(c.buffer+=c.decoder.decode(e,{stream:!0}));try{var d;if("INITIAL"===c.state){if(!/\r\n|\n/.test(c.buffer))return this;d=t();var h=d.match(/^WEBVTT([ \t].*)?$/);if(!h||!h[0])throw new n(n.Errors.BadSignature);c.state="HEADER"}for(var f=!1;c.buffer;){if(!/\r\n|\n/.test(c.buffer))return this;switch(f?f=!1:d=t(),c.state){case"HEADER":/:/.test(d)?u(d):d||(c.state="ID");continue;case"NOTE":d||(c.state="ID");continue;case"ID":if(/^NOTE($|[ \t])/.test(d)){c.state="NOTE";break}if(!d)continue;if(c.cue=new(c.vttjs.VTTCue||c.window.VTTCue)(0,0,""),c.state="CUE",d.indexOf("-->")===-1){c.cue.id=d;continue}case"CUE":try{s(d,c.cue,c.regionList)}catch(e){c.reportOrThrowError(e),c.cue=null,c.state="BADCUE";continue}c.state="CUETEXT";continue;case"CUETEXT":var p=d.indexOf("-->")!==-1;if(!d||p&&(f=!0)){c.oncue&&c.oncue(c.cue),c.cue=null,c.state="ID";continue}c.cue.text&&(c.cue.text+="\n"),c.cue.text+=d;continue;case"BADCUE":d||(c.state="ID");continue}}}catch(e){c.reportOrThrowError(e),"CUETEXT"===c.state&&c.cue&&c.oncue&&c.oncue(c.cue),c.cue=null,c.state="INITIAL"===c.state?"BADWEBVTT":"BADCUE"}return this},flush:function(){var e=this;try{if(e.buffer+=e.decoder.decode(),(e.cue||"HEADER"===e.state)&&(e.buffer+="\n\n",e.parse()),"INITIAL"===e.state)throw new n(n.Errors.BadSignature)}catch(t){e.reportOrThrowError(t)}return e.onflush&&e.onflush(),this}},e.exports=m},function(e,t){function n(e){if("string"!=typeof e)return!1;var t=s[e.toLowerCase()];return!!t&&e.toLowerCase()}function i(e){if("string"!=typeof e)return!1;var t=o[e.toLowerCase()];return!!t&&e.toLowerCase()}function a(e,t,a){this.hasBeenReset=!1;var s="",o=!1,l=e,u=t,c=a,d=null,h="",f=!0,p="auto",m="start",g=50,v="middle",y=50,_="middle";Object.defineProperties(this,{id:{enumerable:!0,get:function(){return s},set:function(e){s=""+e}},pauseOnExit:{enumerable:!0,get:function(){return o},set:function(e){o=!!e}},startTime:{enumerable:!0,get:function(){return l},set:function(e){if("number"!=typeof e)throw new TypeError("Start time must be set to a number.");l=e,this.hasBeenReset=!0}},endTime:{enumerable:!0,get:function(){return u},set:function(e){if("number"!=typeof e)throw new TypeError("End time must be set to a number.");u=e,this.hasBeenReset=!0}},text:{enumerable:!0,get:function(){return c},set:function(e){c=""+e,this.hasBeenReset=!0}},region:{enumerable:!0,get:function(){return d},set:function(e){d=e,this.hasBeenReset=!0}},vertical:{enumerable:!0,get:function(){return h},set:function(e){var t=n(e);if(t===!1)throw new SyntaxError("An invalid or illegal string was specified.");h=t,this.hasBeenReset=!0}},snapToLines:{enumerable:!0,get:function(){return f},set:function(e){f=!!e,this.hasBeenReset=!0}},line:{enumerable:!0,get:function(){return p},set:function(e){if("number"!=typeof e&&e!==r)throw new SyntaxError("An invalid number or illegal string was specified.");p=e,this.hasBeenReset=!0}},lineAlign:{enumerable:!0,get:function(){return m},set:function(e){var t=i(e);if(!t)throw new SyntaxError("An invalid or illegal string was specified.");m=t,this.hasBeenReset=!0}},position:{enumerable:!0,get:function(){return g},set:function(e){if(e<0||e>100)throw new Error("Position must be between 0 and 100.");g=e,this.hasBeenReset=!0}},positionAlign:{enumerable:!0,get:function(){return v},set:function(e){var t=i(e);if(!t)throw new SyntaxError("An invalid or illegal string was specified.");v=t,this.hasBeenReset=!0}},size:{enumerable:!0,get:function(){return y},set:function(e){if(e<0||e>100)throw new Error("Size must be between 0 and 100.");y=e,this.hasBeenReset=!0}},align:{enumerable:!0,get:function(){return _},set:function(e){var t=i(e);if(!t)throw new SyntaxError("An invalid or illegal string was specified.");_=t,this.hasBeenReset=!0}}}),this.displayState=void 0}var r="auto",s={"":1,lr:1,rl:1},o={start:1,middle:1,end:1,left:1,right:1};a.prototype.getCueAsHTML=function(){return WebVTT.convertCueToDOMTree(window,this.text)},e.exports=a},function(e,t){function n(e){if("string"!=typeof e)return!1;var t=r[e.toLowerCase()];return!!t&&e.toLowerCase()}function i(e){return"number"==typeof e&&e>=0&&e<=100}function a(){var e=100,t=3,a=0,r=100,s=0,o=100,l="";Object.defineProperties(this,{width:{enumerable:!0,get:function(){return e},set:function(t){if(!i(t))throw new Error("Width must be between 0 and 100.");e=t}},lines:{enumerable:!0,get:function(){return t},set:function(e){if("number"!=typeof e)throw new TypeError("Lines must be set to a number.");t=e}},regionAnchorY:{enumerable:!0,get:function(){return r},set:function(e){if(!i(e))throw new Error("RegionAnchorX must be between 0 and 100.");r=e}},regionAnchorX:{enumerable:!0,get:function(){return a},set:function(e){if(!i(e))throw new Error("RegionAnchorY must be between 0 and 100.");a=e}},viewportAnchorY:{enumerable:!0,get:function(){return o},set:function(e){if(!i(e))throw new Error("ViewportAnchorY must be between 0 and 100.");o=e}},viewportAnchorX:{enumerable:!0,get:function(){return s},set:function(e){if(!i(e))throw new Error("ViewportAnchorX must be between 0 and 100.");s=e}},scroll:{enumerable:!0,get:function(){return l},set:function(e){var t=n(e);if(t===!1)throw new SyntaxError("An invalid or illegal string was specified.");l=t}}})}var r={"":!0,up:!0};e.exports=a},function(e,t,n){!function(t){var n=/^((?:[a-zA-Z0-9+\-.]+:)?)(\/\/[^\/?#]*)?((?:[^\/\?#]*\/)*.*?)??(;.*?)?(\?.*?)?(#.*?)?$/,i=/^([^\/?#]*)(.*)$/,a=/(?:\/|^)\.(?=\/)/g,r=/(?:\/|^)\.\.\/(?!\.\.\/).*?(?=\/)/g,s={buildAbsoluteURL:function(e,t,n){if(n=n||{},e=e.trim(),t=t.trim(),!t){if(!n.alwaysNormalize)return e;var a=s.parseURL(e);if(!a)throw new Error("Error trying to parse base URL.");return a.path=s.normalizePath(a.path),s.buildURLFromParts(a)}var r=s.parseURL(t);if(!r)throw new Error("Error trying to parse relative URL.");if(r.scheme)return n.alwaysNormalize?(r.path=s.normalizePath(r.path),s.buildURLFromParts(r)):t;var o=s.parseURL(e);if(!o)throw new Error("Error trying to parse base URL.");if(!o.netLoc&&o.path&&"/"!==o.path[0]){var l=i.exec(o.path);o.netLoc=l[1],o.path=l[2]}o.netLoc&&!o.path&&(o.path="/");var u={scheme:o.scheme,netLoc:r.netLoc,path:null,params:r.params,query:r.query,fragment:r.fragment};if(!r.netLoc&&(u.netLoc=o.netLoc,"/"!==r.path[0]))if(r.path){var c=o.path,d=c.substring(0,c.lastIndexOf("/")+1)+r.path;u.path=s.normalizePath(d)}else u.path=o.path,r.params||(u.params=o.params,r.query||(u.query=o.query));return null===u.path&&(u.path=n.alwaysNormalize?s.normalizePath(r.path):r.path),s.buildURLFromParts(u)},parseURL:function(e){var t=n.exec(e);return t?{scheme:t[1]||"",netLoc:t[2]||"",path:t[3]||"",params:t[4]||"",query:t[5]||"",fragment:t[6]||""}:null},normalizePath:function(e){for(e=e.split("").reverse().join("").replace(a,"");e.length!==(e=e.replace(r,"")).length;);return e.split("").reverse().join("")},buildURLFromParts:function(e){return e.scheme+e.netLoc+e.path+e.params+e.query+e.fragment}};e.exports=s}(this)},function(e,t,n){/*! @name m3u8-parser @version 4.4.0 @license Apache-2.0 */
"use strict";function i(e){return e&&"object"==typeof e&&"default"in e?e.default:e}function a(){return a=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},a.apply(this,arguments)}function r(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,e.__proto__=t}function s(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function o(e){for(var t=l.atob(e||""),n=new Uint8Array(t.length),i=0;i<t.length;i++)n[i]=t.charCodeAt(i);return n}Object.defineProperty(t,"__esModule",{value:!0});var l=i(n(9)),u=function(){function e(){this.listeners={}}var t=e.prototype;return t.on=function(e,t){this.listeners[e]||(this.listeners[e]=[]),this.listeners[e].push(t)},t.off=function(e,t){if(!this.listeners[e])return!1;var n=this.listeners[e].indexOf(t);return this.listeners[e].splice(n,1),n>-1},t.trigger=function(e){var t,n,i,a=this.listeners[e];if(a)if(2===arguments.length)for(n=a.length,t=0;t<n;++t)a[t].call(this,arguments[1]);else for(i=Array.prototype.slice.call(arguments,1),n=a.length,t=0;t<n;++t)a[t].apply(this,i)},t.dispose=function(){this.listeners={}},t.pipe=function(e){this.on("data",function(t){e.push(t)})},e}(),c=function(e){function t(){var t;return t=e.call(this)||this,t.buffer="",t}r(t,e);var n=t.prototype;return n.push=function(e){var t;for(this.buffer+=e,t=this.buffer.indexOf("\n");t>-1;t=this.buffer.indexOf("\n"))this.trigger("data",this.buffer.substring(0,t)),this.buffer=this.buffer.substring(t+1)},t}(u),d=function(){var e="[^=]*",t='"[^"]*"|[^,]*',n="(?:"+e+")=(?:"+t+")";return new RegExp("(?:^|,)("+n+")")},h=function(e){for(var t,n=e.split(d()),i={},a=n.length;a--;)""!==n[a]&&(t=/([^=]*)=(.*)/.exec(n[a]).slice(1),t[0]=t[0].replace(/^\s+|\s+$/g,""),t[1]=t[1].replace(/^\s+|\s+$/g,""),t[1]=t[1].replace(/^['"](.*)['"]$/g,"$1"),i[t[0]]=t[1]);return i},f=function(e){function t(){var t;return t=e.call(this)||this,t.customParsers=[],t.tagMappers=[],t}r(t,e);var n=t.prototype;return n.push=function(e){var t,n,i=this;if(e=e.trim(),0!==e.length){if("#"!==e[0])return void this.trigger("data",{type:"uri",uri:e});var a=this.tagMappers.reduce(function(t,n){var i=n(e);return i===e?t:t.concat([i])},[e]);a.forEach(function(e){for(var a=0;a<i.customParsers.length;a++)if(i.customParsers[a].call(i,e))return;if(0!==e.indexOf("#EXT"))return void i.trigger("data",{type:"comment",text:e.slice(1)});if(e=e.replace("\r",""),t=/^#EXTM3U/.exec(e))return void i.trigger("data",{type:"tag",tagType:"m3u"});if(t=/^#EXTINF:?([0-9\.]*)?,?(.*)?$/.exec(e))return n={type:"tag",tagType:"inf"},t[1]&&(n.duration=parseFloat(t[1])),t[2]&&(n.title=t[2]),void i.trigger("data",n);if(t=/^#EXT-X-TARGETDURATION:?([0-9.]*)?/.exec(e))return n={type:"tag",tagType:"targetduration"},t[1]&&(n.duration=parseInt(t[1],10)),void i.trigger("data",n);if(t=/^#ZEN-TOTAL-DURATION:?([0-9.]*)?/.exec(e))return n={type:"tag",tagType:"totalduration"},t[1]&&(n.duration=parseInt(t[1],10)),void i.trigger("data",n);if(t=/^#EXT-X-VERSION:?([0-9.]*)?/.exec(e))return n={type:"tag",tagType:"version"},t[1]&&(n.version=parseInt(t[1],10)),void i.trigger("data",n);if(t=/^#EXT-X-MEDIA-SEQUENCE:?(\-?[0-9.]*)?/.exec(e))return n={type:"tag",tagType:"media-sequence"},t[1]&&(n.number=parseInt(t[1],10)),void i.trigger("data",n);if(t=/^#EXT-X-DISCONTINUITY-SEQUENCE:?(\-?[0-9.]*)?/.exec(e))return n={type:"tag",tagType:"discontinuity-sequence"},t[1]&&(n.number=parseInt(t[1],10)),void i.trigger("data",n);if(t=/^#EXT-X-PLAYLIST-TYPE:?(.*)?$/.exec(e))return n={type:"tag",tagType:"playlist-type"},t[1]&&(n.playlistType=t[1]),void i.trigger("data",n);if(t=/^#EXT-X-BYTERANGE:?([0-9.]*)?@?([0-9.]*)?/.exec(e))return n={type:"tag",tagType:"byterange"},t[1]&&(n.length=parseInt(t[1],10)),t[2]&&(n.offset=parseInt(t[2],10)),void i.trigger("data",n);if(t=/^#EXT-X-ALLOW-CACHE:?(YES|NO)?/.exec(e))return n={type:"tag",tagType:"allow-cache"},t[1]&&(n.allowed=!/NO/.test(t[1])),void i.trigger("data",n);if(t=/^#EXT-X-MAP:?(.*)$/.exec(e)){if(n={type:"tag",tagType:"map"},t[1]){var r=h(t[1]);if(r.URI&&(n.uri=r.URI),r.BYTERANGE){var s=r.BYTERANGE.split("@"),o=s[0],l=s[1];n.byterange={},o&&(n.byterange.length=parseInt(o,10)),l&&(n.byterange.offset=parseInt(l,10))}}return void i.trigger("data",n)}if(t=/^#EXT-X-STREAM-INF:?(.*)$/.exec(e)){if(n={type:"tag",tagType:"stream-inf"},t[1]){if(n.attributes=h(t[1]),n.attributes.RESOLUTION){var u=n.attributes.RESOLUTION.split("x"),c={};u[0]&&(c.width=parseInt(u[0],10)),u[1]&&(c.height=parseInt(u[1],10)),n.attributes.RESOLUTION=c}n.attributes.BANDWIDTH&&(n.attributes.BANDWIDTH=parseInt(n.attributes.BANDWIDTH,10)),n.attributes["PROGRAM-ID"]&&(n.attributes["PROGRAM-ID"]=parseInt(n.attributes["PROGRAM-ID"],10))}return void i.trigger("data",n)}return(t=/^#EXT-X-MEDIA:?(.*)$/.exec(e))?(n={type:"tag",tagType:"media"},t[1]&&(n.attributes=h(t[1])),void i.trigger("data",n)):(t=/^#EXT-X-ENDLIST/.exec(e))?void i.trigger("data",{type:"tag",tagType:"endlist"}):(t=/^#EXT-X-DISCONTINUITY/.exec(e))?void i.trigger("data",{type:"tag",tagType:"discontinuity"}):(t=/^#EXT-X-PROGRAM-DATE-TIME:?(.*)$/.exec(e))?(n={type:"tag",tagType:"program-date-time"},t[1]&&(n.dateTimeString=t[1],n.dateTimeObject=new Date(t[1])),void i.trigger("data",n)):(t=/^#EXT-X-KEY:?(.*)$/.exec(e))?(n={type:"tag",tagType:"key"},t[1]&&(n.attributes=h(t[1]),n.attributes.IV&&("0x"===n.attributes.IV.substring(0,2).toLowerCase()&&(n.attributes.IV=n.attributes.IV.substring(2)),n.attributes.IV=n.attributes.IV.match(/.{8}/g),n.attributes.IV[0]=parseInt(n.attributes.IV[0],16),n.attributes.IV[1]=parseInt(n.attributes.IV[1],16),n.attributes.IV[2]=parseInt(n.attributes.IV[2],16),n.attributes.IV[3]=parseInt(n.attributes.IV[3],16),n.attributes.IV=new Uint32Array(n.attributes.IV))),void i.trigger("data",n)):(t=/^#EXT-X-START:?(.*)$/.exec(e))?(n={type:"tag",tagType:"start"},t[1]&&(n.attributes=h(t[1]),n.attributes["TIME-OFFSET"]=parseFloat(n.attributes["TIME-OFFSET"]),n.attributes.PRECISE=/YES/.test(n.attributes.PRECISE)),void i.trigger("data",n)):(t=/^#EXT-X-CUE-OUT-CONT:?(.*)?$/.exec(e))?(n={type:"tag",tagType:"cue-out-cont"},t[1]?n.data=t[1]:n.data="",void i.trigger("data",n)):(t=/^#EXT-X-CUE-OUT:?(.*)?$/.exec(e))?(n={type:"tag",tagType:"cue-out"},t[1]?n.data=t[1]:n.data="",void i.trigger("data",n)):(t=/^#EXT-X-CUE-IN:?(.*)?$/.exec(e))?(n={type:"tag",tagType:"cue-in"},t[1]?n.data=t[1]:n.data="",void i.trigger("data",n)):void i.trigger("data",{type:"tag",data:e.slice(4)})})}},n.addParser=function(e){var t=this,n=e.expression,i=e.customType,a=e.dataParser,r=e.segment;"function"!=typeof a&&(a=function(e){return e}),this.customParsers.push(function(e){var s=n.exec(e);if(s)return t.trigger("data",{type:"custom",data:a(e),customType:i,segment:r}),!0})},n.addTagMapper=function(e){var t=e.expression,n=e.map,i=function(e){return t.test(e)?n(e):e};this.tagMappers.push(i)},t}(u),p=function(e){function t(){var t;t=e.call(this)||this,t.lineStream=new c,t.parseStream=new f,t.lineStream.pipe(t.parseStream);var n,i,r=s(t),l=[],u={},d=function(){},h={AUDIO:{},VIDEO:{},"CLOSED-CAPTIONS":{},SUBTITLES:{}},p="urn:uuid:edef8ba9-79d6-4ace-a3c8-27dcd51d21ed",m=0;return t.manifest={allowCache:!0,discontinuityStarts:[],segments:[]},t.parseStream.on("data",function(e){var t,s;({tag:function(){(({"allow-cache":function(){this.manifest.allowCache=e.allowed,"allowed"in e||(this.trigger("info",{message:"defaulting allowCache to YES"}),this.manifest.allowCache=!0)},byterange:function t(){var t={};"length"in e&&(u.byterange=t,t.length=e.length,"offset"in e||(this.trigger("info",{message:"defaulting offset to zero"}),e.offset=0)),"offset"in e&&(u.byterange=t,t.offset=e.offset)},endlist:function(){this.manifest.endList=!0},inf:function(){"mediaSequence"in this.manifest||(this.manifest.mediaSequence=0,this.trigger("info",{message:"defaulting media sequence to zero"})),"discontinuitySequence"in this.manifest||(this.manifest.discontinuitySequence=0,this.trigger("info",{message:"defaulting discontinuity sequence to zero"})),e.duration>0&&(u.duration=e.duration),0===e.duration&&(u.duration=.01,this.trigger("info",{message:"updating zero segment duration to a small value"})),this.manifest.segments=l},key:function(){if(!e.attributes)return void this.trigger("warn",{message:"ignoring key declaration without attribute list"});if("NONE"===e.attributes.METHOD)return void(i=null);if(!e.attributes.URI)return void this.trigger("warn",{message:"ignoring key declaration without URI"});if(e.attributes.KEYFORMAT===p){var t=["SAMPLE-AES","SAMPLE-AES-CTR","SAMPLE-AES-CENC"];return t.indexOf(e.attributes.METHOD)===-1?void this.trigger("warn",{message:"invalid key method provided for Widevine"}):("SAMPLE-AES-CENC"===e.attributes.METHOD&&this.trigger("warn",{message:"SAMPLE-AES-CENC is deprecated, please use SAMPLE-AES-CTR instead"}),"data:text/plain;base64,"!==e.attributes.URI.substring(0,23)?void this.trigger("warn",{message:"invalid key URI provided for Widevine"}):e.attributes.KEYID&&"0x"===e.attributes.KEYID.substring(0,2)?void(this.manifest.contentProtection={"com.widevine.alpha":{attributes:{schemeIdUri:e.attributes.KEYFORMAT,keyId:e.attributes.KEYID.substring(2)},pssh:o(e.attributes.URI.split(",")[1])}}):void this.trigger("warn",{message:"invalid key ID provided for Widevine"}))}e.attributes.METHOD||this.trigger("warn",{message:"defaulting key method to AES-128"}),i={method:e.attributes.METHOD||"AES-128",uri:e.attributes.URI},"undefined"!=typeof e.attributes.IV&&(i.iv=e.attributes.IV)},"media-sequence":function(){return isFinite(e.number)?void(this.manifest.mediaSequence=e.number):void this.trigger("warn",{message:"ignoring invalid media sequence: "+e.number})},"discontinuity-sequence":function(){return isFinite(e.number)?(this.manifest.discontinuitySequence=e.number,void(m=e.number)):void this.trigger("warn",{message:"ignoring invalid discontinuity sequence: "+e.number})},"playlist-type":function(){return/VOD|EVENT/.test(e.playlistType)?void(this.manifest.playlistType=e.playlistType):void this.trigger("warn",{message:"ignoring unknown playlist type: "+e.playlist})},map:function(){n={},e.uri&&(n.uri=e.uri),e.byterange&&(n.byterange=e.byterange)},"stream-inf":function(){return this.manifest.playlists=l,this.manifest.mediaGroups=this.manifest.mediaGroups||h,e.attributes?(u.attributes||(u.attributes={}),void a(u.attributes,e.attributes)):void this.trigger("warn",{message:"ignoring empty stream-inf attributes"})},media:function(){if(this.manifest.mediaGroups=this.manifest.mediaGroups||h,!(e.attributes&&e.attributes.TYPE&&e.attributes["GROUP-ID"]&&e.attributes.NAME))return void this.trigger("warn",{message:"ignoring incomplete or missing media group"});var n=this.manifest.mediaGroups[e.attributes.TYPE];n[e.attributes["GROUP-ID"]]=n[e.attributes["GROUP-ID"]]||{},t=n[e.attributes["GROUP-ID"]],s={default:/yes/i.test(e.attributes.DEFAULT)},s.default?s.autoselect=!0:s.autoselect=/yes/i.test(e.attributes.AUTOSELECT),e.attributes.LANGUAGE&&(s.language=e.attributes.LANGUAGE),e.attributes.URI&&(s.uri=e.attributes.URI),e.attributes["INSTREAM-ID"]&&(s.instreamId=e.attributes["INSTREAM-ID"]),e.attributes.CHARACTERISTICS&&(s.characteristics=e.attributes.CHARACTERISTICS),e.attributes.FORCED&&(s.forced=/yes/i.test(e.attributes.FORCED)),t[e.attributes.NAME]=s},discontinuity:function(){m+=1,u.discontinuity=!0,this.manifest.discontinuityStarts.push(l.length)},"program-date-time":function(){"undefined"==typeof this.manifest.dateTimeString&&(this.manifest.dateTimeString=e.dateTimeString,this.manifest.dateTimeObject=e.dateTimeObject),u.dateTimeString=e.dateTimeString,u.dateTimeObject=e.dateTimeObject},targetduration:function(){return!isFinite(e.duration)||e.duration<0?void this.trigger("warn",{message:"ignoring invalid target duration: "+e.duration}):void(this.manifest.targetDuration=e.duration)},totalduration:function(){return!isFinite(e.duration)||e.duration<0?void this.trigger("warn",{message:"ignoring invalid total duration: "+e.duration}):void(this.manifest.totalDuration=e.duration)},start:function(){return!e.attributes||isNaN(e.attributes["TIME-OFFSET"])?void this.trigger("warn",{message:"ignoring start declaration without appropriate attribute list"}):void(this.manifest.start={timeOffset:e.attributes["TIME-OFFSET"],precise:e.attributes.PRECISE})},"cue-out":function(){u.cueOut=e.data},"cue-out-cont":function(){u.cueOutCont=e.data},"cue-in":function(){u.cueIn=e.data}})[e.tagType]||d).call(r)},uri:function(){u.uri=e.uri,l.push(u),!this.manifest.targetDuration||"duration"in u||(this.trigger("warn",{message:"defaulting segment duration to the target duration"}),u.duration=this.manifest.targetDuration),i&&(u.key=i),u.timeline=m,n&&(u.map=n),u={}},comment:function(){},custom:function(){e.segment?(u.custom=u.custom||{},u.custom[e.customType]=e.data):(this.manifest.custom=this.manifest.custom||{},this.manifest.custom[e.customType]=e.data)}})[e.type].call(r)}),t}r(t,e);var n=t.prototype;return n.push=function(e){this.lineStream.push(e)},n.end=function(){this.lineStream.push("\n")},n.addParser=function(e){this.parseStream.addParser(e)},n.addTagMapper=function(e){this.parseStream.addTagMapper(e)},t}(u);t.LineStream=c,t.ParseStream=f,t.Parser=p},function(e,t,n){(function(e){/*! @name mpd-parser @version 0.8.1 @license Apache-2.0 */
"use strict";function i(e){return e&&"object"==typeof e&&"default"in e?e.default:e}function a(e,t){return t={exports:{}},e(t,t.exports),t.exports}function r(e){for(var t=s.atob(e),n=new Uint8Array(t.length),i=0;i<t.length;i++)n[i]=t.charCodeAt(i);return n}Object.defineProperty(t,"__esModule",{value:!0});var s=i(n(9)),o="0.8.1",l=function(e){return!!e&&"object"==typeof e},u=function e(){for(var t=arguments.length,n=new Array(t),i=0;i<t;i++)n[i]=arguments[i];return n.reduce(function(t,n){return Object.keys(n).forEach(function(i){Array.isArray(t[i])&&Array.isArray(n[i])?t[i]=t[i].concat(n[i]):l(t[i])&&l(n[i])?t[i]=e(t[i],n[i]):t[i]=n[i]}),t},{})},c=function(e){return Object.keys(e).map(function(t){return e[t]})},d=function(e,t){for(var n=[],i=e;i<t;i++)n.push(i);return n},h=function(e){return e.reduce(function(e,t){return e.concat(t)},[])},f=function(e){if(!e.length)return[];for(var t=[],n=0;n<e.length;n++)t.push(e[n]);return t},p=function(e,t){return e.reduce(function(e,n,i){return n[t]&&e.push(i),e},[])},m={INVALID_NUMBER_OF_PERIOD:"INVALID_NUMBER_OF_PERIOD",DASH_EMPTY_MANIFEST:"DASH_EMPTY_MANIFEST",DASH_INVALID_XML:"DASH_INVALID_XML",NO_BASE_URL:"NO_BASE_URL",MISSING_SEGMENT_INFORMATION:"MISSING_SEGMENT_INFORMATION",SEGMENT_TIME_UNSPECIFIED:"SEGMENT_TIME_UNSPECIFIED",UNSUPPORTED_UTC_TIMING_SCHEME:"UNSUPPORTED_UTC_TIMING_SCHEME"},g="undefined"!=typeof window?window:"undefined"!=typeof e?e:"undefined"!=typeof self?self:{},v=a(function(e,t){!function(t){var n=/^((?:[a-zA-Z0-9+\-.]+:)?)(\/\/[^\/?#]*)?((?:[^\/\?#]*\/)*.*?)??(;.*?)?(\?.*?)?(#.*?)?$/,i=/^([^\/?#]*)(.*)$/,a=/(?:\/|^)\.(?=\/)/g,r=/(?:\/|^)\.\.\/(?!\.\.\/).*?(?=\/)/g,s={buildAbsoluteURL:function(e,t,n){if(n=n||{},e=e.trim(),t=t.trim(),!t){if(!n.alwaysNormalize)return e;var a=s.parseURL(e);if(!a)throw new Error("Error trying to parse base URL.");return a.path=s.normalizePath(a.path),s.buildURLFromParts(a)}var r=s.parseURL(t);if(!r)throw new Error("Error trying to parse relative URL.");if(r.scheme)return n.alwaysNormalize?(r.path=s.normalizePath(r.path),s.buildURLFromParts(r)):t;var o=s.parseURL(e);if(!o)throw new Error("Error trying to parse base URL.");if(!o.netLoc&&o.path&&"/"!==o.path[0]){var l=i.exec(o.path);o.netLoc=l[1],o.path=l[2]}o.netLoc&&!o.path&&(o.path="/");var u={scheme:o.scheme,netLoc:r.netLoc,path:null,params:r.params,query:r.query,fragment:r.fragment};if(!r.netLoc&&(u.netLoc=o.netLoc,"/"!==r.path[0]))if(r.path){var c=o.path,d=c.substring(0,c.lastIndexOf("/")+1)+r.path;u.path=s.normalizePath(d)}else u.path=o.path,r.params||(u.params=o.params,r.query||(u.query=o.query));return null===u.path&&(u.path=n.alwaysNormalize?s.normalizePath(r.path):r.path),s.buildURLFromParts(u)},parseURL:function(e){var t=n.exec(e);return t?{scheme:t[1]||"",netLoc:t[2]||"",path:t[3]||"",params:t[4]||"",query:t[5]||"",fragment:t[6]||""}:null},normalizePath:function(e){for(e=e.split("").reverse().join("").replace(a,"");e.length!==(e=e.replace(r,"")).length;);return e.split("").reverse().join("")},buildURLFromParts:function(e){return e.scheme+e.netLoc+e.path+e.params+e.query+e.fragment}};e.exports=s}(g)}),y=function(e,t){return/^[a-z]+:/i.test(t)?t:(/\/\//i.test(e)||(e=v.buildAbsoluteURL(s.location.href,e)),v.buildAbsoluteURL(e,t))},_=function(e){var t=e.baseUrl,n=void 0===t?"":t,i=e.source,a=void 0===i?"":i,r=e.range,s=void 0===r?"":r,o=e.indexRange,l=void 0===o?"":o,u={uri:a,resolvedUri:y(n||"",a)};if(s||l){var c=s?s:l,d=c.split("-"),h=parseInt(d[0],10),f=parseInt(d[1],10);u.byterange={length:f-h+1,offset:h}}return u},b=function(e){var t=e.offset+e.length-1;return e.offset+"-"+t},T={static:function(e){var t=e.duration,n=e.timescale,i=void 0===n?1:n,a=e.sourceDuration;return{start:0,end:Math.ceil(a/(t/i))}},dynamic:function(e){var t=e.NOW,n=e.clientOffset,i=e.availabilityStartTime,a=e.timescale,r=void 0===a?1:a,s=e.duration,o=e.start,l=void 0===o?0:o,u=e.minimumUpdatePeriod,c=void 0===u?0:u,d=e.timeShiftBufferDepth,h=void 0===d?1/0:d,f=(t+n)/1e3,p=i+l,m=f+c,g=m-p,v=Math.ceil(g*r/s),y=Math.floor((f-p-h)*r/s),_=Math.floor((f-p)*r/s);return{start:Math.max(0,y),end:Math.min(v,_)}}},k=function(e){return function(t,n){var i=e.duration,a=e.timescale,r=void 0===a?1:a,s=e.periodIndex,o=e.startNumber,l=void 0===o?1:o;return{number:l+t,duration:i/r,timeline:s,time:n*i}}},S=function(e){var t=e.type,n=void 0===t?"static":t,i=e.duration,a=e.timescale,r=void 0===a?1:a,s=e.sourceDuration,o=T[n](e),l=o.start,u=o.end,c=d(l,u).map(k(e));if("static"===n){var h=c.length-1;c[h].duration=s-i/r*h}return c},C=function(e){var t=e.baseUrl,n=e.initialization,i=void 0===n?{}:n,a=e.sourceDuration,r=e.timescale,s=void 0===r?1:r,o=e.indexRange,l=void 0===o?"":o,u=e.duration;if(!t)throw new Error(m.NO_BASE_URL);var c=_({baseUrl:t,source:i.sourceURL,range:i.range}),d=_({baseUrl:t,source:t,indexRange:l});if(d.map=c,u){var h=S(e);h.length&&(d.duration=h[0].duration,d.timeline=h[0].timeline)}else a&&(d.duration=a/s,d.timeline=0);return d.number=0,[d]},w=function(e,t,n){for(var i=e.sidx.map?e.sidx.map:null,a=e.sidx.duration,r=e.timeline||0,s=e.sidx.byterange,o=s.offset+s.length,l=t.timescale,u=t.references.filter(function(e){return 1!==e.referenceType}),c=[],d=o+t.firstOffset,h=0;h<u.length;h++){var f=t.references[h],p=f.referencedSize,m=f.subsegmentDuration,g=d+p-1,v=d+"-"+g,y={baseUrl:n,timescale:l,timeline:r,periodIndex:r,duration:m,sourceDuration:a,indexRange:v},_=C(y)[0];i&&(_.map=i),c.push(_),d+=p}return e.segments=c,e},E=function(e){var t=c(e.reduce(function(e,t){var n=t.attributes.id+(t.attributes.lang||"");if(e[n]){var i;t.segments[0]&&(t.segments[0].discontinuity=!0),(i=e[n].segments).push.apply(i,t.segments),t.attributes.contentProtection&&(e[n].attributes.contentProtection=t.attributes.contentProtection)}else e[n]=t;return e},{}));return t.map(function(e){return e.discontinuityStarts=p(e.segments,"discontinuity"),e})},A=function(e,t){if(void 0===t&&(t={}),!Object.keys(t).length)return e;for(var n in e){var i=e[n];if(i.sidx){var a=i.sidx.uri+"-"+b(i.sidx.byterange),r=t[a]&&t[a].sidx;i.sidx&&r&&w(i,r,i.sidx.resolvedUri)}}return e},I=function(e){var t,n=e.attributes,i=e.segments,a=e.sidx,r={attributes:(t={NAME:n.id,BANDWIDTH:n.bandwidth,CODECS:n.codecs},t["PROGRAM-ID"]=1,t),uri:"",endList:"static"===(n.type||"static"),timeline:n.periodIndex,resolvedUri:"",targetDuration:n.duration,segments:i,mediaSequence:i.length?i[0].number:1};return n.contentProtection&&(r.contentProtection=n.contentProtection),a&&(r.sidx=a),r},L=function(e){var t,n=e.attributes,i=e.segments;return"undefined"==typeof i&&(i=[{uri:n.baseUrl,timeline:n.periodIndex,resolvedUri:n.baseUrl||"",duration:n.sourceDuration,number:0}],n.duration=n.sourceDuration),{attributes:(t={NAME:n.id,BANDWIDTH:n.bandwidth},t["PROGRAM-ID"]=1,t),uri:"",endList:"static"===(n.type||"static"),timeline:n.periodIndex,resolvedUri:n.baseUrl||"",targetDuration:n.duration,segments:i,mediaSequence:i.length?i[0].number:1}},x=function(e,t){void 0===t&&(t={});var n,i=e.reduce(function(e,i){var a=i.attributes.role&&i.attributes.role.value||"",r=i.attributes.lang||"",s="main";if(r){var o=a?" ("+a+")":"";s=""+i.attributes.lang+o}return e[s]&&e[s].playlists[0].attributes.BANDWIDTH>i.attributes.bandwidth?e:(e[s]={language:r,autoselect:!0,default:"main"===a,playlists:A([I(i)],t),uri:""},"undefined"==typeof n&&"main"===a&&(n=i,n.default=!0),e)},{});if(!n){var a=Object.keys(i)[0];i[a].default=!0}return i},P=function(e,t){return void 0===t&&(t={}),e.reduce(function(e,n){var i=n.attributes.lang||"text";return e[i]?e:(e[i]={language:i,default:!1,autoselect:!1,playlists:A([L(n)],t),uri:""},e)},{})},O=function(e){var t,n=e.attributes,i=e.segments,a=e.sidx,r={attributes:(t={NAME:n.id,AUDIO:"audio",SUBTITLES:"subs",RESOLUTION:{width:n.width,height:n.height},CODECS:n.codecs,BANDWIDTH:n.bandwidth},t["PROGRAM-ID"]=1,t),uri:"",endList:"static"===(n.type||"static"),timeline:n.periodIndex,resolvedUri:"",targetDuration:n.duration,segments:i,mediaSequence:i.length?i[0].number:1};return n.contentProtection&&(r.contentProtection=n.contentProtection),a&&(r.sidx=a),r},D=function(e,t){var n;if(void 0===t&&(t={}),!e.length)return{};var i=e[0].attributes,a=i.sourceDuration,r=i.minimumUpdatePeriod,s=void 0===r?0:r,o=function(e){var t=e.attributes;return"video/mp4"===t.mimeType||"video"===t.contentType},l=function(e){var t=e.attributes;return"audio/mp4"===t.mimeType||"audio"===t.contentType},u=function(e){var t=e.attributes;return"text/vtt"===t.mimeType||"text"===t.contentType},c=E(e.filter(o)).map(O),d=E(e.filter(l)),h=e.filter(u),f={allowCache:!0,discontinuityStarts:[],segments:[],endList:!0,mediaGroups:(n={AUDIO:{},VIDEO:{}},n["CLOSED-CAPTIONS"]={},n.SUBTITLES={},n),uri:"",duration:a,playlists:A(c,t),minimumUpdatePeriod:1e3*s};return d.length&&(f.mediaGroups.AUDIO.audio=x(d,t)),h.length&&(f.mediaGroups.SUBTITLES.subs=P(h,t)),f},N=function(e,t,n){var i=e.NOW,a=e.clientOffset,r=e.availabilityStartTime,s=e.timescale,o=void 0===s?1:s,l=e.start,u=void 0===l?0:l,c=e.minimumUpdatePeriod,d=void 0===c?0:c,h=(i+a)/1e3,f=r+u,p=h+d,m=p-f;return Math.ceil((m*o-t)/n)},M=function(e,t){for(var n=e.type,i=void 0===n?"static":n,a=e.minimumUpdatePeriod,r=void 0===a?0:a,s=e.media,o=void 0===s?"":s,l=e.sourceDuration,u=e.timescale,c=void 0===u?1:u,d=e.startNumber,h=void 0===d?1:d,f=e.periodIndex,p=[],m=-1,g=0;g<t.length;g++){var v=t[g],y=v.d,_=v.r||0,b=v.t||0;m<0&&(m=b),b&&b>m&&(m=b);var T=void 0;if(_<0){var k=g+1;T=k===t.length?"dynamic"===i&&r>0&&o.indexOf("$Number$")>0?N(e,m,y):(l*c-m)/y:(t[k].t-m)/y}else T=_+1;for(var S=h+p.length+T,C=h+p.length;C<S;)p.push({number:C,duration:y/c,time:m,timeline:f}),m+=y,C++}return p},R=/\$([A-z]*)(?:(%0)([0-9]+)d)?\$/g,B=function(e){return function(t,n,i,a){if("$$"===t)return"$";if("undefined"==typeof e[n])return t;var r=""+e[n];return"RepresentationID"===n?r:(a=i?parseInt(a,10):1,r.length>=a?r:""+new Array(a-r.length+1).join("0")+r)}},j=function(e,t){return e.replace(R,B(t))},U=function(e,t){return e.duration||t?e.duration?S(e):M(e,t):[{number:e.startNumber||1,duration:e.sourceDuration,time:0,timeline:e.periodIndex}]},H=function(e,t){var n={RepresentationID:e.id,Bandwidth:e.bandwidth||0},i=e.initialization,a=void 0===i?{sourceURL:"",range:""}:i,r=_({baseUrl:e.baseUrl,source:j(a.sourceURL,n),range:a.range}),s=U(e,t);return s.map(function(t){n.Number=t.number,n.Time=t.time;var i=j(e.media||"",n);return{uri:i,timeline:t.timeline,duration:t.duration,resolvedUri:y(e.baseUrl||"",i),map:r,number:t.number}})},F=function(e,t){var n=e.baseUrl,i=e.initialization,a=void 0===i?{}:i,r=_({baseUrl:n,source:a.sourceURL,range:a.range}),s=_({baseUrl:n,source:t.media,range:t.mediaRange});return s.map=r,s},z=function(e,t){var n=e.duration,i=e.segmentUrls,a=void 0===i?[]:i;if(!n&&!t||n&&t)throw new Error(m.SEGMENT_TIME_UNSPECIFIED);var r,s=a.map(function(t){return F(e,t)});n&&(r=S(e)),t&&(r=M(e,t));var o=r.map(function(e,t){if(s[t]){var n=s[t];return n.timeline=e.timeline,n.duration=e.duration,n.number=e.number,n}}).filter(function(e){return e});return o},K=function(e){var t,n,i=e.attributes,a=e.segmentInfo;a.template?(n=H,t=u(i,a.template)):a.base?(n=C,t=u(i,a.base)):a.list&&(n=z,t=u(i,a.list));var r={attributes:i};if(!n)return r;var s=n(t,a.timeline);if(t.duration){var o=t,l=o.duration,c=o.timescale,d=void 0===c?1:c;t.duration=l/d}else s.length?t.duration=s.reduce(function(e,t){return Math.max(e,Math.ceil(t.duration))},0):t.duration=0;return r.attributes=t,r.segments=s,a.base&&t.indexRange&&(r.sidx=s[0],r.segments=[]),r},G=function(e){return e.map(K)},V=function(e,t){return f(e.childNodes).filter(function(e){var n=e.tagName;return n===t})},W=function(e){return e.textContent.trim()},q=function(e){var t=31536e3,n=2592e3,i=86400,a=3600,r=60,s=/P(?:(\d*)Y)?(?:(\d*)M)?(?:(\d*)D)?(?:T(?:(\d*)H)?(?:(\d*)M)?(?:([\d.]*)S)?)?/,o=s.exec(e);if(!o)return 0;var l=o.slice(1),u=l[0],c=l[1],d=l[2],h=l[3],f=l[4],p=l[5];return parseFloat(u||0)*t+parseFloat(c||0)*n+parseFloat(d||0)*i+parseFloat(h||0)*a+parseFloat(f||0)*r+parseFloat(p||0)},$=function(e){var t=/^\d+-\d+-\d+T\d+:\d+:\d+(\.\d+)?$/;return t.test(e)&&(e+="Z"),Date.parse(e)},Y={mediaPresentationDuration:function(e){return q(e)},availabilityStartTime:function(e){return $(e)/1e3},minimumUpdatePeriod:function(e){return q(e)},timeShiftBufferDepth:function(e){return q(e)},start:function(e){return q(e)},width:function(e){return parseInt(e,10)},height:function(e){return parseInt(e,10)},bandwidth:function(e){return parseInt(e,10)},startNumber:function(e){return parseInt(e,10)},timescale:function(e){return parseInt(e,10)},duration:function(e){var t=parseInt(e,10);return isNaN(t)?q(e):t},d:function(e){return parseInt(e,10)},t:function(e){return parseInt(e,10)},r:function(e){return parseInt(e,10)},DEFAULT:function(e){return e}},X=function(e){return e&&e.attributes?f(e.attributes).reduce(function(e,t){var n=Y[t.name]||Y.DEFAULT;return e[t.name]=n(t.value),e},{}):{}},Q={"urn:uuid:1077efec-c0b2-4d02-ace3-3c1e52e2fb4b":"org.w3.clearkey","urn:uuid:edef8ba9-79d6-4ace-a3c8-27dcd51d21ed":"com.widevine.alpha","urn:uuid:9a04f079-9840-4286-ab92-e65be0885f95":"com.microsoft.playready","urn:uuid:f239e769-efa3-4850-9c16-a903c6932efb":"com.adobe.primetime"},J=function(e,t){return t.length?h(e.map(function(e){return t.map(function(t){return y(e,W(t))})})):e},Z=function(e){var t=V(e,"SegmentTemplate")[0],n=V(e,"SegmentList")[0],i=n&&V(n,"SegmentURL").map(function(e){return u({tag:"SegmentURL"},X(e))}),a=V(e,"SegmentBase")[0],r=n||t,s=r&&V(r,"SegmentTimeline")[0],o=n||a||t,l=o&&V(o,"Initialization")[0],c=t&&X(t);c&&l?c.initialization=l&&X(l):c&&c.initialization&&(c.initialization={sourceURL:c.initialization});var d={template:c,timeline:s&&V(s,"S").map(function(e){return X(e)}),list:n&&u(X(n),{segmentUrls:i,initialization:X(l)}),base:a&&u(X(a),{initialization:X(l)})};return Object.keys(d).forEach(function(e){d[e]||delete d[e]}),d},ee=function(e,t,n){return function(i){var a=V(i,"BaseURL"),r=J(t,a),s=u(e,X(i)),o=Z(i);return r.map(function(e){return{segmentInfo:u(n,o),attributes:u(s,{baseUrl:e})}})}},te=function(e){return e.reduce(function(e,t){var n=X(t),i=Q[n.schemeIdUri];if(i){e[i]={attributes:n};var a=V(t,"cenc:pssh")[0];if(a){var s=W(a),o=s&&r(s);e[i].pssh=o}}return e},{})},ne=function(e,t,n){return function(i){var a=X(i),r=J(t,V(i,"BaseURL")),s=V(i,"Role")[0],o={role:X(s)},l=u(e,a,o),c=te(V(i,"ContentProtection"));Object.keys(c).length&&(l=u(l,{contentProtection:c}));var d=Z(i),f=V(i,"Representation"),p=u(n,d);return h(f.map(ee(l,r,p)))}},ie=function(e,t){return function(n,i){var a=J(t,V(n,"BaseURL")),r=X(n),o=parseInt(r.id,10),l=s.isNaN(o)?i:o,c=u(e,{periodIndex:l}),d=V(n,"AdaptationSet"),f=Z(n);return h(d.map(ne(c,a,f)))}},ae=function(e,t){void 0===t&&(t={});var n=t,i=n.manifestUri,a=void 0===i?"":i,r=n.NOW,s=void 0===r?Date.now():r,o=n.clientOffset,l=void 0===o?0:o,u=V(e,"Period");if(!u.length)throw new Error(m.INVALID_NUMBER_OF_PERIOD);var c=X(e),d=J([a],V(e,"BaseURL"));return c.sourceDuration=c.mediaPresentationDuration||0,c.NOW=s,c.clientOffset=l,h(u.map(ie(c,d)))},re=function(e){if(""===e)throw new Error(m.DASH_EMPTY_MANIFEST);var t=new s.DOMParser,n=t.parseFromString(e,"application/xml"),i=n&&"MPD"===n.documentElement.tagName?n.documentElement:null;if(!i||i&&i.getElementsByTagName("parsererror").length>0)throw new Error(m.DASH_INVALID_XML);return i},se=function(e){var t=V(e,"UTCTiming")[0];if(!t)return null;var n=X(t);switch(n.schemeIdUri){case"urn:mpeg:dash:utc:http-head:2014":case"urn:mpeg:dash:utc:http-head:2012":n.method="HEAD";break;case"urn:mpeg:dash:utc:http-xsdate:2014":case"urn:mpeg:dash:utc:http-iso:2014":case"urn:mpeg:dash:utc:http-xsdate:2012":case"urn:mpeg:dash:utc:http-iso:2012":n.method="GET";break;case"urn:mpeg:dash:utc:direct:2014":case"urn:mpeg:dash:utc:direct:2012":n.method="DIRECT",n.value=Date.parse(n.value);break;case"urn:mpeg:dash:utc:http-ntp:2014":case"urn:mpeg:dash:utc:ntp:2014":case"urn:mpeg:dash:utc:sntp:2014":default:throw new Error(m.UNSUPPORTED_UTC_TIMING_SCHEME)}return n},oe=o,le=function(e,t){return void 0===t&&(t={}),D(G(ae(re(e),t)),t.sidxMapping)},ue=function(e){return se(re(e))};t.VERSION=oe,t.parse=le,t.parseUTCTiming=ue}).call(t,function(){return this}())},function(e,t,n){"use strict";var i,a,r=n(26).parseType,s=function(e){return new Date(1e3*e-20828448e5)},o=function(e){return{isLeading:(12&e[0])>>>2,dependsOn:3&e[0],isDependedOn:(192&e[1])>>>6,hasRedundancy:(48&e[1])>>>4,paddingValue:(14&e[1])>>>1,isNonSyncSample:1&e[1],degradationPriority:e[2]<<8|e[3]}},l=function(e){var t,n,i=new DataView(e.buffer,e.byteOffset,e.byteLength),a=[];for(t=0;t+4<e.length;t+=n)if(n=i.getUint32(t),t+=4,n<=0)a.push("<span style='color:red;'>MALFORMED DATA</span>");else switch(31&e[t]){case 1:a.push("slice_layer_without_partitioning_rbsp");break;case 5:a.push("slice_layer_without_partitioning_rbsp_idr");break;case 6:a.push("sei_rbsp");break;case 7:a.push("seq_parameter_set_rbsp");break;case 8:a.push("pic_parameter_set_rbsp");break;case 9:a.push("access_unit_delimiter_rbsp");break;default:a.push("UNKNOWN NAL - "+e[t]&31)}return a},u={avc1:function(e){var t=new DataView(e.buffer,e.byteOffset,e.byteLength);return{dataReferenceIndex:t.getUint16(6),width:t.getUint16(24),height:t.getUint16(26),horizresolution:t.getUint16(28)+t.getUint16(30)/16,vertresolution:t.getUint16(32)+t.getUint16(34)/16,frameCount:t.getUint16(40),depth:t.getUint16(74),config:i(e.subarray(78,e.byteLength))}},avcC:function(e){var t,n,i,a,r=new DataView(e.buffer,e.byteOffset,e.byteLength),s={configurationVersion:e[0],avcProfileIndication:e[1],profileCompatibility:e[2],avcLevelIndication:e[3],lengthSizeMinusOne:3&e[4],sps:[],pps:[]},o=31&e[5];for(i=6,a=0;a<o;a++)n=r.getUint16(i),i+=2,s.sps.push(new Uint8Array(e.subarray(i,i+n))),i+=n;for(t=e[i],i++,a=0;a<t;a++)n=r.getUint16(i),i+=2,s.pps.push(new Uint8Array(e.subarray(i,i+n))),i+=n;return s},btrt:function(e){var t=new DataView(e.buffer,e.byteOffset,e.byteLength);return{bufferSizeDB:t.getUint32(0),maxBitrate:t.getUint32(4),avgBitrate:t.getUint32(8)}},esds:function(e){return{version:e[0],flags:new Uint8Array(e.subarray(1,4)),esId:e[6]<<8|e[7],streamPriority:31&e[8],decoderConfig:{objectProfileIndication:e[11],streamType:e[12]>>>2&63,bufferSize:e[13]<<16|e[14]<<8|e[15],maxBitrate:e[16]<<24|e[17]<<16|e[18]<<8|e[19],avgBitrate:e[20]<<24|e[21]<<16|e[22]<<8|e[23],decoderConfigDescriptor:{tag:e[24],length:e[25],audioObjectType:e[26]>>>3&31,samplingFrequencyIndex:(7&e[26])<<1|e[27]>>>7&1,channelConfiguration:e[27]>>>3&15}}}},ftyp:function(e){for(var t=new DataView(e.buffer,e.byteOffset,e.byteLength),n={majorBrand:r(e.subarray(0,4)),minorVersion:t.getUint32(4),compatibleBrands:[]},i=8;i<e.byteLength;)n.compatibleBrands.push(r(e.subarray(i,i+4))),i+=4;return n},dinf:function(e){return{boxes:i(e)}},dref:function(e){return{version:e[0],flags:new Uint8Array(e.subarray(1,4)),dataReferences:i(e.subarray(8))}},hdlr:function(e){var t=new DataView(e.buffer,e.byteOffset,e.byteLength),n={version:t.getUint8(0),flags:new Uint8Array(e.subarray(1,4)),handlerType:r(e.subarray(8,12)),name:""},i=8;for(i=24;i<e.byteLength;i++){if(0===e[i]){i++;break}n.name+=String.fromCharCode(e[i])}return n.name=decodeURIComponent(escape(n.name)),n},mdat:function(e){return{byteLength:e.byteLength,nals:l(e)}},mdhd:function(e){var t,n=new DataView(e.buffer,e.byteOffset,e.byteLength),i=4,a={version:n.getUint8(0),flags:new Uint8Array(e.subarray(1,4)),language:""};return 1===a.version?(i+=4,a.creationTime=s(n.getUint32(i)),i+=8,a.modificationTime=s(n.getUint32(i)),i+=4,a.timescale=n.getUint32(i),i+=8,a.duration=n.getUint32(i)):(a.creationTime=s(n.getUint32(i)),i+=4,a.modificationTime=s(n.getUint32(i)),i+=4,a.timescale=n.getUint32(i),i+=4,a.duration=n.getUint32(i)),i+=4,t=n.getUint16(i),a.language+=String.fromCharCode((t>>10)+96),a.language+=String.fromCharCode(((992&t)>>5)+96),a.language+=String.fromCharCode((31&t)+96),a},mdia:function(e){return{boxes:i(e)}},mfhd:function(e){return{version:e[0],flags:new Uint8Array(e.subarray(1,4)),sequenceNumber:e[4]<<24|e[5]<<16|e[6]<<8|e[7]}},minf:function(e){return{boxes:i(e)}},mp4a:function(e){var t=new DataView(e.buffer,e.byteOffset,e.byteLength),n={dataReferenceIndex:t.getUint16(6),channelcount:t.getUint16(16),samplesize:t.getUint16(18),samplerate:t.getUint16(24)+t.getUint16(26)/65536};return e.byteLength>28&&(n.streamDescriptor=i(e.subarray(28))[0]),n},moof:function(e){return{boxes:i(e)}},moov:function(e){return{boxes:i(e)}},mvex:function(e){return{boxes:i(e)}},mvhd:function(e){var t=new DataView(e.buffer,e.byteOffset,e.byteLength),n=4,i={version:t.getUint8(0),flags:new Uint8Array(e.subarray(1,4))};return 1===i.version?(n+=4,i.creationTime=s(t.getUint32(n)),n+=8,i.modificationTime=s(t.getUint32(n)),n+=4,i.timescale=t.getUint32(n),n+=8,i.duration=t.getUint32(n)):(i.creationTime=s(t.getUint32(n)),n+=4,i.modificationTime=s(t.getUint32(n)),n+=4,i.timescale=t.getUint32(n),n+=4,i.duration=t.getUint32(n)),n+=4,i.rate=t.getUint16(n)+t.getUint16(n+2)/16,n+=4,i.volume=t.getUint8(n)+t.getUint8(n+1)/8,n+=2,n+=2,n+=8,i.matrix=new Uint32Array(e.subarray(n,n+36)),n+=36,n+=24,i.nextTrackId=t.getUint32(n),i},pdin:function(e){var t=new DataView(e.buffer,e.byteOffset,e.byteLength);return{version:t.getUint8(0),flags:new Uint8Array(e.subarray(1,4)),rate:t.getUint32(4),initialDelay:t.getUint32(8)}},sdtp:function(e){var t,n={version:e[0],flags:new Uint8Array(e.subarray(1,4)),samples:[]};for(t=4;t<e.byteLength;t++)n.samples.push({dependsOn:(48&e[t])>>4,isDependedOn:(12&e[t])>>2,hasRedundancy:3&e[t]});return n},sidx:function(e){var t,n=new DataView(e.buffer,e.byteOffset,e.byteLength),i={version:e[0],flags:new Uint8Array(e.subarray(1,4)),references:[],referenceId:n.getUint32(4),timescale:n.getUint32(8),earliestPresentationTime:n.getUint32(12),firstOffset:n.getUint32(16)},a=n.getUint16(22);for(t=24;a;t+=12,a--)i.references.push({referenceType:(128&e[t])>>>7,referencedSize:2147483647&n.getUint32(t),subsegmentDuration:n.getUint32(t+4),startsWithSap:!!(128&e[t+8]),sapType:(112&e[t+8])>>>4,sapDeltaTime:268435455&n.getUint32(t+8)});return i},smhd:function(e){return{version:e[0],flags:new Uint8Array(e.subarray(1,4)),balance:e[4]+e[5]/256}},stbl:function(e){return{boxes:i(e)}},stco:function(e){var t,n=new DataView(e.buffer,e.byteOffset,e.byteLength),i={version:e[0],flags:new Uint8Array(e.subarray(1,4)),chunkOffsets:[]},a=n.getUint32(4);for(t=8;a;t+=4,a--)i.chunkOffsets.push(n.getUint32(t));return i},stsc:function(e){var t,n=new DataView(e.buffer,e.byteOffset,e.byteLength),i=n.getUint32(4),a={version:e[0],flags:new Uint8Array(e.subarray(1,4)),sampleToChunks:[]};for(t=8;i;t+=12,i--)a.sampleToChunks.push({firstChunk:n.getUint32(t),samplesPerChunk:n.getUint32(t+4),sampleDescriptionIndex:n.getUint32(t+8)});return a},stsd:function(e){return{version:e[0],flags:new Uint8Array(e.subarray(1,4)),sampleDescriptions:i(e.subarray(8))}},stsz:function(e){var t,n=new DataView(e.buffer,e.byteOffset,e.byteLength),i={version:e[0],flags:new Uint8Array(e.subarray(1,4)),sampleSize:n.getUint32(4),entries:[]};for(t=12;t<e.byteLength;t+=4)i.entries.push(n.getUint32(t));return i},stts:function(e){var t,n=new DataView(e.buffer,e.byteOffset,e.byteLength),i={version:e[0],flags:new Uint8Array(e.subarray(1,4)),timeToSamples:[]},a=n.getUint32(4);for(t=8;a;t+=8,a--)i.timeToSamples.push({sampleCount:n.getUint32(t),sampleDelta:n.getUint32(t+4)});return i},styp:function(e){return u.ftyp(e)},tfdt:function(e){var t={version:e[0],flags:new Uint8Array(e.subarray(1,4)),baseMediaDecodeTime:e[4]<<24|e[5]<<16|e[6]<<8|e[7]};return 1===t.version&&(t.baseMediaDecodeTime*=Math.pow(2,32),t.baseMediaDecodeTime+=e[8]<<24|e[9]<<16|e[10]<<8|e[11]),t},tfhd:function(e){var t,n=new DataView(e.buffer,e.byteOffset,e.byteLength),i={version:e[0],flags:new Uint8Array(e.subarray(1,4)),trackId:n.getUint32(4)},a=1&i.flags[2],r=2&i.flags[2],s=8&i.flags[2],o=16&i.flags[2],l=32&i.flags[2],u=65536&i.flags[0],c=131072&i.flags[0];return t=8,a&&(t+=4,i.baseDataOffset=n.getUint32(12),t+=4),r&&(i.sampleDescriptionIndex=n.getUint32(t),t+=4),s&&(i.defaultSampleDuration=n.getUint32(t),t+=4),o&&(i.defaultSampleSize=n.getUint32(t),t+=4),l&&(i.defaultSampleFlags=n.getUint32(t)),u&&(i.durationIsEmpty=!0),!a&&c&&(i.baseDataOffsetIsMoof=!0),i},tkhd:function(e){var t=new DataView(e.buffer,e.byteOffset,e.byteLength),n=4,i={version:t.getUint8(0),flags:new Uint8Array(e.subarray(1,4))};return 1===i.version?(n+=4,i.creationTime=s(t.getUint32(n)),n+=8,i.modificationTime=s(t.getUint32(n)),n+=4,i.trackId=t.getUint32(n),n+=4,n+=8,i.duration=t.getUint32(n)):(i.creationTime=s(t.getUint32(n)),n+=4,i.modificationTime=s(t.getUint32(n)),n+=4,i.trackId=t.getUint32(n),n+=4,n+=4,i.duration=t.getUint32(n)),n+=4,n+=8,i.layer=t.getUint16(n),n+=2,i.alternateGroup=t.getUint16(n),n+=2,i.volume=t.getUint8(n)+t.getUint8(n+1)/8,n+=2,n+=2,i.matrix=new Uint32Array(e.subarray(n,n+36)),n+=36,i.width=t.getUint16(n)+t.getUint16(n+2)/16,n+=4,i.height=t.getUint16(n)+t.getUint16(n+2)/16,i},traf:function(e){return{boxes:i(e)}},trak:function(e){return{boxes:i(e)}},trex:function(e){var t=new DataView(e.buffer,e.byteOffset,e.byteLength);return{version:e[0],flags:new Uint8Array(e.subarray(1,4)),trackId:t.getUint32(4),defaultSampleDescriptionIndex:t.getUint32(8),defaultSampleDuration:t.getUint32(12),defaultSampleSize:t.getUint32(16),sampleDependsOn:3&e[20],sampleIsDependedOn:(192&e[21])>>6,sampleHasRedundancy:(48&e[21])>>4,samplePaddingValue:(14&e[21])>>1,sampleIsDifferenceSample:!!(1&e[21]),sampleDegradationPriority:t.getUint16(22)}},trun:function(e){var t,n={version:e[0],flags:new Uint8Array(e.subarray(1,4)),samples:[]},i=new DataView(e.buffer,e.byteOffset,e.byteLength),a=1&n.flags[2],r=4&n.flags[2],s=1&n.flags[1],l=2&n.flags[1],u=4&n.flags[1],c=8&n.flags[1],d=i.getUint32(4),h=8;for(a&&(n.dataOffset=i.getInt32(h),h+=4),r&&d&&(t={flags:o(e.subarray(h,h+4))},h+=4,s&&(t.duration=i.getUint32(h),h+=4),l&&(t.size=i.getUint32(h),h+=4),c&&(t.compositionTimeOffset=i.getUint32(h),h+=4),n.samples.push(t),d--);d--;)t={},s&&(t.duration=i.getUint32(h),h+=4),l&&(t.size=i.getUint32(h),h+=4),u&&(t.flags=o(e.subarray(h,h+4)),h+=4),c&&(t.compositionTimeOffset=i.getUint32(h),h+=4),n.samples.push(t);return n},"url ":function(e){return{version:e[0],flags:new Uint8Array(e.subarray(1,4))}},vmhd:function(e){var t=new DataView(e.buffer,e.byteOffset,e.byteLength);return{version:e[0],flags:new Uint8Array(e.subarray(1,4)),graphicsmode:t.getUint16(4),opcolor:new Uint16Array([t.getUint16(6),t.getUint16(8),t.getUint16(10)])}}};i=function(e){for(var t,n,i,a,s,o=0,l=[],c=new ArrayBuffer(e.length),d=new Uint8Array(c),h=0;h<e.length;++h)d[h]=e[h];for(t=new DataView(c);o<e.byteLength;)n=t.getUint32(o),i=r(e.subarray(o+4,o+8)),a=n>1?o+n:e.byteLength,s=(u[i]||function(e){return{data:e}})(e.subarray(o+8,a)),s.size=n,s.type=i,l.push(s),o=a;return l},a=function(e,t){var n;return t=t||0,n=new Array(2*t+1).join(" "),e.map(function(e,i){return n+e.type+"\n"+Object.keys(e).filter(function(e){return"type"!==e&&"boxes"!==e}).map(function(t){var i=n+"  "+t+": ",a=e[t];if(a instanceof Uint8Array||a instanceof Uint32Array){var r=Array.prototype.slice.call(new Uint8Array(a.buffer,a.byteOffset,a.byteLength)).map(function(e){return" "+("00"+e.toString(16)).slice(-2)}).join("").match(/.{1,24}/g);return r?1===r.length?i+"<"+r.join("").slice(1)+">":i+"<\n"+r.map(function(e){return n+"  "+e}).join("\n")+"\n"+n+"  >":i+"<>"}return i+JSON.stringify(a,null,2).split("\n").map(function(e,t){return 0===t?e:n+"  "+e}).join("\n")}).join("\n")+(e.boxes?"\n"+a(e.boxes,t+1):"")}).join("\n")},e.exports={inspect:i,textify:a,parseTfdt:u.tfdt,parseHdlr:u.hdlr,parseTfhd:u.tfhd,parseTrun:u.trun,parseSidx:u.sidx}},function(e,t,n){"use strict";var i,a,r,s,o,l,u=n(27).toUnsigned,c=n(27).toHexString;i=function(e,t){var n,r,s,o,l,c=[];if(!t.length)return null;for(n=0;n<e.byteLength;)r=u(e[n]<<24|e[n+1]<<16|e[n+2]<<8|e[n+3]),s=a(e.subarray(n+4,n+8)),o=r>1?n+r:e.byteLength,s===t[0]&&(1===t.length?c.push(e.subarray(n+8,o)):(l=i(e.subarray(n+8,o),t.slice(1)),l.length&&(c=c.concat(l)))),n=o;return c},a=function(e){var t="";return t+=String.fromCharCode(e[0]),t+=String.fromCharCode(e[1]),t+=String.fromCharCode(e[2]),t+=String.fromCharCode(e[3])},r=function(e){var t={},n=i(e,["moov","trak"]);return n.reduce(function(e,t){var n,a,r,s,o;return(n=i(t,["tkhd"])[0])?(a=n[0],r=0===a?12:20,s=u(n[r]<<24|n[r+1]<<16|n[r+2]<<8|n[r+3]),(o=i(t,["mdia","mdhd"])[0])?(a=o[0],r=0===a?12:20,e[s]=u(o[r]<<24|o[r+1]<<16|o[r+2]<<8|o[r+3]),e):null):null},t)},s=function(e,t){var n,a,r;return n=i(t,["moof","traf"]),a=[].concat.apply([],n.map(function(t){return i(t,["tfhd"]).map(function(n){var a,r,s;return a=u(n[4]<<24|n[5]<<16|n[6]<<8|n[7]),r=e[a]||9e4,s=i(t,["tfdt"]).map(function(e){var t,n;return t=e[0],n=u(e[4]<<24|e[5]<<16|e[6]<<8|e[7]),1===t&&(n*=Math.pow(2,32),n+=u(e[8]<<24|e[9]<<16|e[10]<<8|e[11])),n})[0],s=s||1/0,s/r})})),r=Math.min.apply(null,a),isFinite(r)?r:0},o=function(e){var t=i(e,["moov","trak"]),n=[];return t.forEach(function(e){var t=i(e,["mdia","hdlr"]),r=i(e,["tkhd"]);t.forEach(function(e,t){var i,s,o,l=a(e.subarray(8,12)),u=r[t];"vide"===l&&(i=new DataView(u.buffer,u.byteOffset,u.byteLength),s=i.getUint8(0),o=0===s?i.getUint32(12):i.getUint32(20),n.push(o))})}),n},l=function(e){var t=i(e,["moov","trak"]),n=[];return t.forEach(function(e){var t,r,s={},o=i(e,["tkhd"])[0];o&&(t=new DataView(o.buffer,o.byteOffset,o.byteLength),r=t.getUint8(0),s.id=0===r?t.getUint32(12):t.getUint32(20));var l=i(e,["mdia","hdlr"])[0];if(l){var d=a(l.subarray(8,12));"vide"===d?s.type="video":"soun"===d?s.type="audio":s.type=d}var h=i(e,["mdia","minf","stbl","stsd"])[0];if(h){var f=h.subarray(8);s.codec=a(f.subarray(4,8));var p,m,g=i(f,[s.codec])[0];g&&(/^[a-z]vc[1-9]$/i.test(s.codec)?(p=g.subarray(78),m=a(p.subarray(4,8)),"avcC"===m&&p.length>11?(s.codec+=".",s.codec+=c(p[9]),s.codec+=c(p[10]),s.codec+=c(p[11])):s.codec="avc1.4d400d"):/^mp4[a,v]$/i.test(s.codec)&&(p=g.subarray(28),m=a(p.subarray(4,8)),"esds"===m&&p.length>20&&0!==p[19]?(s.codec+="."+c(p[19]),s.codec+="."+c(p[20]>>>2&63).replace(/^0/,"")):s.codec="mp4a.40.2"))}var v=i(e,["mdia","mdhd"])[0];if(v&&o){var y=0===r?12:20;s.timescale=u(v[y]<<24|v[y+1]<<16|v[y+2]<<8|v[y+3])}n.push(s)}),n},e.exports={findBox:i,parseType:a,timescale:r,startTime:s,videoTrackIds:o,tracks:l}},function(e,t){var n=function(e){return e>>>0},i=function(e){return("00"+e.toString(16)).slice(-2)};e.exports={toUnsigned:n,toHexString:i}},function(e,t,n){"use strict";var i=n(29).discardEmulationPreventionBytes,a=n(30).CaptionStream,r=n(26),s=n(25),o=function(e,t){for(var n=e,i=0;i<t.length;i++){var a=t[i];if(n<a.size)return a;n-=a.size}return null},l=function(e,t,n){var a,r,s,l,u=new DataView(e.buffer,e.byteOffset,e.byteLength),c=[];for(r=0;r+4<e.length;r+=s)if(s=u.getUint32(r),r+=4,!(s<=0))switch(31&e[r]){case 6:var d=e.subarray(r+1,r+1+s),h=o(r,t);a={nalUnitType:"sei_rbsp",size:s,data:d,escapedRBSP:i(d),trackId:n},h?(a.pts=h.pts,a.dts=h.dts,l=h):(a.pts=l.pts,a.dts=l.dts),c.push(a)}return c},u=function(e,t,n){var i=t,a=n.defaultSampleDuration||0,r=n.defaultSampleSize||0,o=n.trackId,l=[];return e.forEach(function(e){var t=s.parseTrun(e),n=t.samples;n.forEach(function(e){void 0===e.duration&&(e.duration=a),void 0===e.size&&(e.size=r),e.trackId=o,e.dts=i,void 0===e.compositionTimeOffset&&(e.compositionTimeOffset=0),e.pts=i+e.compositionTimeOffset,i+=e.duration}),l=l.concat(n)}),l},c=function(e,t){var n=r.findBox(e,["moof","traf"]),i=r.findBox(e,["mdat"]),a={},o=[];return i.forEach(function(e,t){var i=n[t];o.push({mdat:e,traf:i})}),o.forEach(function(e){var n,i,o=e.mdat,c=e.traf,d=r.findBox(c,["tfhd"]),h=s.parseTfhd(d[0]),f=h.trackId,p=r.findBox(c,["tfdt"]),m=p.length>0?s.parseTfdt(p[0]).baseMediaDecodeTime:0,g=r.findBox(c,["trun"]);t===f&&g.length>0&&(n=u(g,m,h),i=l(o,n,f),a[f]||(a[f]=[]),a[f]=a[f].concat(i))}),a},d=function(e,t,n){var i;return null===t?null:(i=c(e,t),{seiNals:i[t],timescale:n})},h=function(){var e,t,n,i,r,s,o=!1;this.isInitialized=function(){return o},this.init=function(t){e=new a,o=!0,s=!!t&&t.isPartial,e.on("data",function(e){e.startTime=e.startPts/i,
e.endTime=e.endPts/i,r.captions.push(e),r.captionStreams[e.stream]=!0})},this.isNewInit=function(e,t){return!(e&&0===e.length||t&&"object"==typeof t&&0===Object.keys(t).length)&&(n!==e[0]||i!==t[n])},this.parse=function(e,a,s){var o;if(!this.isInitialized())return null;if(!a||!s)return null;if(this.isNewInit(a,s))n=a[0],i=s[n];else if(null===n||!i)return t.push(e),null;for(;t.length>0;){var l=t.shift();this.parse(l,a,s)}return o=d(e,n,i),null!==o&&o.seiNals?(this.pushNals(o.seiNals),this.flushStream(),r):null},this.pushNals=function(t){return this.isInitialized()&&t&&0!==t.length?void t.forEach(function(t){e.push(t)}):null},this.flushStream=function(){return this.isInitialized()?void(s?e.partialFlush():e.flush()):null},this.clearParsedCaptions=function(){r.captions=[],r.captionStreams={}},this.resetCaptionStream=function(){return this.isInitialized()?void e.reset():null},this.clearAllCaptions=function(){this.clearParsedCaptions(),this.resetCaptionStream()},this.reset=function(){t=[],n=null,i=null,r?this.clearParsedCaptions():r={captions:[],captionStreams:{}},this.resetCaptionStream()},this.reset()};e.exports=h},function(e,t){"use strict";var n=4,i=128,a=function(e){for(var t=0,a={payloadType:-1,payloadSize:0},r=0,s=0;t<e.byteLength&&e[t]!==i;){for(;255===e[t];)r+=255,t++;for(r+=e[t++];255===e[t];)s+=255,t++;if(s+=e[t++],!a.payload&&r===n){a.payloadType=r,a.payloadSize=s,a.payload=e.subarray(t,t+s);break}t+=s,r=0,s=0}return a},r=function(e){return 181!==e.payload[0]?null:49!==(e.payload[1]<<8|e.payload[2])?null:"GA94"!==String.fromCharCode(e.payload[3],e.payload[4],e.payload[5],e.payload[6])?null:3!==e.payload[7]?null:e.payload.subarray(8,e.payload.length-1)},s=function(e,t){var n,i,a,r,s=[];if(!(64&t[0]))return s;for(i=31&t[0],n=0;n<i;n++)a=3*n,r={type:3&t[a+2],pts:e},4&t[a+2]&&(r.ccData=t[a+3]<<8|t[a+4],s.push(r));return s},o=function(e){for(var t,n,i=e.byteLength,a=[],r=1;r<i-2;)0===e[r]&&0===e[r+1]&&3===e[r+2]?(a.push(r+2),r+=2):r++;if(0===a.length)return e;t=i-a.length,n=new Uint8Array(t);var s=0;for(r=0;r<t;s++,r++)s===a[0]&&(s++,a.shift()),n[r]=e[s];return n};e.exports={parseSei:a,parseUserData:r,parseCaptionPackets:s,discardEmulationPreventionBytes:o,USER_DATA_REGISTERED_ITU_T_T35:n}},function(e,t,n){"use strict";var i=n(31),a=n(29),r=function(){r.prototype.init.call(this),this.captionPackets_=[],this.ccStreams_=[new d(0,0),new d(0,1),new d(1,0),new d(1,1)],this.reset(),this.ccStreams_.forEach(function(e){e.on("data",this.trigger.bind(this,"data")),e.on("partialdone",this.trigger.bind(this,"partialdone")),e.on("done",this.trigger.bind(this,"done"))},this)};r.prototype=new i,r.prototype.push=function(e){var t,n,i;if("sei_rbsp"===e.nalUnitType&&(t=a.parseSei(e.escapedRBSP),t.payloadType===a.USER_DATA_REGISTERED_ITU_T_T35&&(n=a.parseUserData(t)))){if(e.dts<this.latestDts_)return void(this.ignoreNextEqualDts_=!0);if(e.dts===this.latestDts_&&this.ignoreNextEqualDts_)return this.numSameDts_--,void(this.numSameDts_||(this.ignoreNextEqualDts_=!1));i=a.parseCaptionPackets(e.pts,n),this.captionPackets_=this.captionPackets_.concat(i),this.latestDts_!==e.dts&&(this.numSameDts_=0),this.numSameDts_++,this.latestDts_=e.dts}},r.prototype.flushCCStreams=function(e){this.ccStreams_.forEach(function(t){return"flush"===e?t.flush():t.partialFlush()},this)},r.prototype.flushStream=function(e){return this.captionPackets_.length?(this.captionPackets_.forEach(function(e,t){e.presortIndex=t}),this.captionPackets_.sort(function(e,t){return e.pts===t.pts?e.presortIndex-t.presortIndex:e.pts-t.pts}),this.captionPackets_.forEach(function(e){e.type<2&&this.dispatchCea608Packet(e)},this),this.captionPackets_.length=0,void this.flushCCStreams(e)):void this.flushCCStreams(e)},r.prototype.flush=function(){return this.flushStream("flush")},r.prototype.partialFlush=function(){return this.flushStream("partialFlush")},r.prototype.reset=function(){this.latestDts_=null,this.ignoreNextEqualDts_=!1,this.numSameDts_=0,this.activeCea608Channel_=[null,null],this.ccStreams_.forEach(function(e){e.reset()})},r.prototype.dispatchCea608Packet=function(e){this.setsTextOrXDSActive(e)?this.activeCea608Channel_[e.type]=null:this.setsChannel1Active(e)?this.activeCea608Channel_[e.type]=0:this.setsChannel2Active(e)&&(this.activeCea608Channel_[e.type]=1),null!==this.activeCea608Channel_[e.type]&&this.ccStreams_[(e.type<<1)+this.activeCea608Channel_[e.type]].push(e)},r.prototype.setsChannel1Active=function(e){return 4096===(30720&e.ccData)},r.prototype.setsChannel2Active=function(e){return 6144===(30720&e.ccData)},r.prototype.setsTextOrXDSActive=function(e){return 256===(28928&e.ccData)||4138===(30974&e.ccData)||6186===(30974&e.ccData)};var s={42:225,92:233,94:237,95:243,96:250,123:231,124:247,125:209,126:241,127:9608,304:174,305:176,306:189,307:191,308:8482,309:162,310:163,311:9834,312:224,313:160,314:232,315:226,316:234,317:238,318:244,319:251,544:193,545:201,546:211,547:218,548:220,549:252,550:8216,551:161,552:42,553:39,554:8212,555:169,556:8480,557:8226,558:8220,559:8221,560:192,561:194,562:199,563:200,564:202,565:203,566:235,567:206,568:207,569:239,570:212,571:217,572:249,573:219,574:171,575:187,800:195,801:227,802:205,803:204,804:236,805:210,806:242,807:213,808:245,809:123,810:125,811:92,812:94,813:95,814:124,815:126,816:196,817:228,818:214,819:246,820:223,821:165,822:164,823:9474,824:197,825:229,826:216,827:248,828:9484,829:9488,830:9492,831:9496},o=function(e){return null===e?"":(e=s[e]||e,String.fromCharCode(e))},l=14,u=[4352,4384,4608,4640,5376,5408,5632,5664,5888,5920,4096,4864,4896,5120,5152],c=function(){for(var e=[],t=l+1;t--;)e.push("");return e},d=function(e,t){d.prototype.init.call(this),this.field_=e||0,this.dataChannel_=t||0,this.name_="CC"+((this.field_<<1|this.dataChannel_)+1),this.setConstants(),this.reset(),this.push=function(e){var t,n,i,a,r;if(t=32639&e.ccData,t===this.lastControlCode_)return void(this.lastControlCode_=null);if(4096===(61440&t)?this.lastControlCode_=t:t!==this.PADDING_&&(this.lastControlCode_=null),i=t>>>8,a=255&t,t!==this.PADDING_)if(t===this.RESUME_CAPTION_LOADING_)this.mode_="popOn";else if(t===this.END_OF_CAPTION_)this.mode_="popOn",this.clearFormatting(e.pts),this.flushDisplayed(e.pts),n=this.displayed_,this.displayed_=this.nonDisplayed_,this.nonDisplayed_=n,this.startPts_=e.pts;else if(t===this.ROLL_UP_2_ROWS_)this.rollUpRows_=2,this.setRollUp(e.pts);else if(t===this.ROLL_UP_3_ROWS_)this.rollUpRows_=3,this.setRollUp(e.pts);else if(t===this.ROLL_UP_4_ROWS_)this.rollUpRows_=4,this.setRollUp(e.pts);else if(t===this.CARRIAGE_RETURN_)this.clearFormatting(e.pts),this.flushDisplayed(e.pts),this.shiftRowsUp_(),this.startPts_=e.pts;else if(t===this.BACKSPACE_)"popOn"===this.mode_?this.nonDisplayed_[this.row_]=this.nonDisplayed_[this.row_].slice(0,-1):this.displayed_[this.row_]=this.displayed_[this.row_].slice(0,-1);else if(t===this.ERASE_DISPLAYED_MEMORY_)this.flushDisplayed(e.pts),this.displayed_=c();else if(t===this.ERASE_NON_DISPLAYED_MEMORY_)this.nonDisplayed_=c();else if(t===this.RESUME_DIRECT_CAPTIONING_)"paintOn"!==this.mode_&&(this.flushDisplayed(e.pts),this.displayed_=c()),this.mode_="paintOn",this.startPts_=e.pts;else if(this.isSpecialCharacter(i,a))i=(3&i)<<8,r=o(i|a),this[this.mode_](e.pts,r),this.column_++;else if(this.isExtCharacter(i,a))"popOn"===this.mode_?this.nonDisplayed_[this.row_]=this.nonDisplayed_[this.row_].slice(0,-1):this.displayed_[this.row_]=this.displayed_[this.row_].slice(0,-1),i=(3&i)<<8,r=o(i|a),this[this.mode_](e.pts,r),this.column_++;else if(this.isMidRowCode(i,a))this.clearFormatting(e.pts),this[this.mode_](e.pts," "),this.column_++,14===(14&a)&&this.addFormatting(e.pts,["i"]),1===(1&a)&&this.addFormatting(e.pts,["u"]);else if(this.isOffsetControlCode(i,a))this.column_+=3&a;else if(this.isPAC(i,a)){var s=u.indexOf(7968&t);"rollUp"===this.mode_&&(s-this.rollUpRows_+1<0&&(s=this.rollUpRows_-1),this.setRollUp(e.pts,s)),s!==this.row_&&(this.clearFormatting(e.pts),this.row_=s),1&a&&this.formatting_.indexOf("u")===-1&&this.addFormatting(e.pts,["u"]),16===(16&t)&&(this.column_=4*((14&t)>>1)),this.isColorPAC(a)&&14===(14&a)&&this.addFormatting(e.pts,["i"])}else this.isNormalChar(i)&&(0===a&&(a=null),r=o(i),r+=o(a),this[this.mode_](e.pts,r),this.column_+=r.length)}};d.prototype=new i,d.prototype.flushDisplayed=function(e){var t=this.displayed_.map(function(e){try{return e.trim()}catch(e){return console.error("Skipping malformed caption."),""}}).join("\n").replace(/^\n+|\n+$/g,"");t.length&&this.trigger("data",{startPts:this.startPts_,endPts:e,text:t,stream:this.name_})},d.prototype.reset=function(){this.mode_="popOn",this.topRow_=0,this.startPts_=0,this.displayed_=c(),this.nonDisplayed_=c(),this.lastControlCode_=null,this.column_=0,this.row_=l,this.rollUpRows_=2,this.formatting_=[]},d.prototype.setConstants=function(){0===this.dataChannel_?(this.BASE_=16,this.EXT_=17,this.CONTROL_=(20|this.field_)<<8,this.OFFSET_=23):1===this.dataChannel_&&(this.BASE_=24,this.EXT_=25,this.CONTROL_=(28|this.field_)<<8,this.OFFSET_=31),this.PADDING_=0,this.RESUME_CAPTION_LOADING_=32|this.CONTROL_,this.END_OF_CAPTION_=47|this.CONTROL_,this.ROLL_UP_2_ROWS_=37|this.CONTROL_,this.ROLL_UP_3_ROWS_=38|this.CONTROL_,this.ROLL_UP_4_ROWS_=39|this.CONTROL_,this.CARRIAGE_RETURN_=45|this.CONTROL_,this.RESUME_DIRECT_CAPTIONING_=41|this.CONTROL_,this.BACKSPACE_=33|this.CONTROL_,this.ERASE_DISPLAYED_MEMORY_=44|this.CONTROL_,this.ERASE_NON_DISPLAYED_MEMORY_=46|this.CONTROL_},d.prototype.isSpecialCharacter=function(e,t){return e===this.EXT_&&t>=48&&t<=63},d.prototype.isExtCharacter=function(e,t){return(e===this.EXT_+1||e===this.EXT_+2)&&t>=32&&t<=63},d.prototype.isMidRowCode=function(e,t){return e===this.EXT_&&t>=32&&t<=47},d.prototype.isOffsetControlCode=function(e,t){return e===this.OFFSET_&&t>=33&&t<=35},d.prototype.isPAC=function(e,t){return e>=this.BASE_&&e<this.BASE_+8&&t>=64&&t<=127},d.prototype.isColorPAC=function(e){return e>=64&&e<=79||e>=96&&e<=127},d.prototype.isNormalChar=function(e){return e>=32&&e<=127},d.prototype.setRollUp=function(e,t){if("rollUp"!==this.mode_&&(this.row_=l,this.mode_="rollUp",this.flushDisplayed(e),this.nonDisplayed_=c(),this.displayed_=c()),void 0!==t&&t!==this.row_)for(var n=0;n<this.rollUpRows_;n++)this.displayed_[t-n]=this.displayed_[this.row_-n],this.displayed_[this.row_-n]="";void 0===t&&(t=this.row_),this.topRow_=t-this.rollUpRows_+1},d.prototype.addFormatting=function(e,t){this.formatting_=this.formatting_.concat(t);var n=t.reduce(function(e,t){return e+"<"+t+">"},"");this[this.mode_](e,n)},d.prototype.clearFormatting=function(e){if(this.formatting_.length){var t=this.formatting_.reverse().reduce(function(e,t){return e+"</"+t+">"},"");this.formatting_=[],this[this.mode_](e,t)}},d.prototype.popOn=function(e,t){var n=this.nonDisplayed_[this.row_];n+=t,this.nonDisplayed_[this.row_]=n},d.prototype.rollUp=function(e,t){var n=this.displayed_[this.row_];n+=t,this.displayed_[this.row_]=n},d.prototype.shiftRowsUp_=function(){var e;for(e=0;e<this.topRow_;e++)this.displayed_[e]="";for(e=this.row_+1;e<l+1;e++)this.displayed_[e]="";for(e=this.topRow_;e<this.row_;e++)this.displayed_[e]=this.displayed_[e+1];this.displayed_[this.row_]=""},d.prototype.paintOn=function(e,t){var n=this.displayed_[this.row_];n+=t,this.displayed_[this.row_]=n},e.exports={CaptionStream:r,Cea608Stream:d}},function(e,t){"use strict";var n=function(){this.init=function(){var e={};this.on=function(t,n){e[t]||(e[t]=[]),e[t]=e[t].concat(n)},this.off=function(t,n){var i;return!!e[t]&&(i=e[t].indexOf(n),e[t]=e[t].slice(),e[t].splice(i,1),i>-1)},this.trigger=function(t){var n,i,a,r;if(n=e[t])if(2===arguments.length)for(a=n.length,i=0;i<a;++i)n[i].call(this,arguments[1]);else{for(r=[],i=arguments.length,i=1;i<arguments.length;++i)r.push(arguments[i]);for(a=n.length,i=0;i<a;++i)n[i].apply(this,r)}},this.dispose=function(){e={}}}};n.prototype.pipe=function(e){return this.on("data",function(t){e.push(t)}),this.on("done",function(t){e.flush(t)}),this.on("partialdone",function(t){e.partialFlush(t)}),this.on("endedtimeline",function(t){e.endTimeline(t)}),this.on("reset",function(t){e.reset(t)}),e},n.prototype.push=function(e){this.trigger("data",e)},n.prototype.flush=function(e){this.trigger("done",e)},n.prototype.partialFlush=function(e){this.trigger("partialdone",e)},n.prototype.endTimeline=function(e){this.trigger("endedtimeline",e)},n.prototype.reset=function(e){this.trigger("reset",e)},e.exports=n},function(e,t,n){"use strict";var i=n(33),a=n(34).handleRollover,r={};r.ts=n(35),r.aac=n(36);var s=n(37).ONE_SECOND_IN_TS,o=188,l=71,u=function(e,t){for(var n,i,a=0,s=o;s<e.byteLength;)if(e[a]!==l||e[s]!==l)a++,s++;else{switch(n=e.subarray(a,s),i=r.ts.parseType(n,t.pid)){case"pat":t.pid||(t.pid=r.ts.parsePat(n));break;case"pmt":t.table||(t.table=r.ts.parsePmt(n))}if(t.pid&&t.table)return;a+=o,s+=o}},c=function(e,t,n){for(var i,a,s,u,c,d=0,h=o,f=!1;h<=e.byteLength;)if(e[d]!==l||e[h]!==l&&h!==e.byteLength)d++,h++;else{switch(i=e.subarray(d,h),a=r.ts.parseType(i,t.pid)){case"pes":s=r.ts.parsePesType(i,t.table),u=r.ts.parsePayloadUnitStartIndicator(i),"audio"===s&&u&&(c=r.ts.parsePesTime(i),c&&(c.type="audio",n.audio.push(c),f=!0))}if(f)break;d+=o,h+=o}for(h=e.byteLength,d=h-o,f=!1;d>=0;)if(e[d]!==l||e[h]!==l&&h!==e.byteLength)d--,h--;else{switch(i=e.subarray(d,h),a=r.ts.parseType(i,t.pid)){case"pes":s=r.ts.parsePesType(i,t.table),u=r.ts.parsePayloadUnitStartIndicator(i),"audio"===s&&u&&(c=r.ts.parsePesTime(i),c&&(c.type="audio",n.audio.push(c),f=!0))}if(f)break;d-=o,h-=o}},d=function(e,t,n){for(var i,a,s,u,c,d,h,f,p=0,m=o,g=!1,v={data:[],size:0};m<e.byteLength;)if(e[p]!==l||e[m]!==l)p++,m++;else{switch(i=e.subarray(p,m),a=r.ts.parseType(i,t.pid)){case"pes":if(s=r.ts.parsePesType(i,t.table),u=r.ts.parsePayloadUnitStartIndicator(i),"video"===s&&(u&&!g&&(c=r.ts.parsePesTime(i),c&&(c.type="video",n.video.push(c),g=!0)),!n.firstKeyFrame)){if(u&&0!==v.size){for(d=new Uint8Array(v.size),h=0;v.data.length;)f=v.data.shift(),d.set(f,h),h+=f.byteLength;if(r.ts.videoPacketContainsKeyFrame(d)){var y=r.ts.parsePesTime(d);y?(n.firstKeyFrame=y,n.firstKeyFrame.type="video"):console.warn("Failed to extract PTS/DTS from PES at first keyframe. This could be an unusual TS segment, or else mux.js did not parse your TS segment correctly. If you know your TS segments do contain PTS/DTS on keyframes please file a bug report! You can try ffprobe to double check for yourself.")}v.size=0}v.data.push(i),v.size+=i.byteLength}}if(g&&n.firstKeyFrame)break;p+=o,m+=o}for(m=e.byteLength,p=m-o,g=!1;p>=0;)if(e[p]!==l||e[m]!==l)p--,m--;else{switch(i=e.subarray(p,m),a=r.ts.parseType(i,t.pid)){case"pes":s=r.ts.parsePesType(i,t.table),u=r.ts.parsePayloadUnitStartIndicator(i),"video"===s&&u&&(c=r.ts.parsePesTime(i),c&&(c.type="video",n.video.push(c),g=!0))}if(g)break;p-=o,m-=o}},h=function(e,t){if(e.audio&&e.audio.length){var n=t;"undefined"==typeof n&&(n=e.audio[0].dts),e.audio.forEach(function(e){e.dts=a(e.dts,n),e.pts=a(e.pts,n),e.dtsTime=e.dts/s,e.ptsTime=e.pts/s})}if(e.video&&e.video.length){var i=t;if("undefined"==typeof i&&(i=e.video[0].dts),e.video.forEach(function(e){e.dts=a(e.dts,i),e.pts=a(e.pts,i),e.dtsTime=e.dts/s,e.ptsTime=e.pts/s}),e.firstKeyFrame){var r=e.firstKeyFrame;r.dts=a(r.dts,i),r.pts=a(r.pts,i),r.dtsTime=r.dts/s,r.ptsTime=r.dts/s}}},f=function(e){for(var t,n=!1,i=0,a=null,o=null,l=0,u=0;e.length-u>=3;){var c=r.aac.parseType(e,u);switch(c){case"timed-metadata":if(e.length-u<10){n=!0;break}if(l=r.aac.parseId3TagSize(e,u),l>e.length){n=!0;break}null===o&&(t=e.subarray(u,u+l),o=r.aac.parseAacTimestamp(t)),u+=l;break;case"audio":if(e.length-u<7){n=!0;break}if(l=r.aac.parseAdtsSize(e,u),l>e.length){n=!0;break}null===a&&(t=e.subarray(u,u+l),a=r.aac.parseSampleRate(t)),i++,u+=l;break;default:u++}if(n)return null}if(null===a||null===o)return null;var d=s/a,h={audio:[{type:"audio",dts:o,pts:o},{type:"audio",dts:o+1024*i*d,pts:o+1024*i*d}]};return h},p=function(e){var t={pid:null,table:null},n={};u(e,t);for(var a in t.table)if(t.table.hasOwnProperty(a)){var r=t.table[a];switch(r){case i.H264_STREAM_TYPE:n.video=[],d(e,t,n),0===n.video.length&&delete n.video;break;case i.ADTS_STREAM_TYPE:n.audio=[],c(e,t,n),0===n.audio.length&&delete n.audio}}return n},m=function(e,t){var n,i=r.aac.isLikelyAacData(e);return n=i?f(e):p(e),n&&(n.audio||n.video)?(h(n,t),n):null};e.exports={inspect:m,parseAudioPes_:c}},function(e,t){"use strict";e.exports={H264_STREAM_TYPE:27,ADTS_STREAM_TYPE:15,METADATA_STREAM_TYPE:21}},function(e,t,n){"use strict";var i=n(31),a=8589934592,r=4294967296,s="shared",o=function(e,t){var n=1;for(e>t&&(n=-1);Math.abs(t-e)>r;)e+=n*a;return e},l=function(e){var t,n;l.prototype.init.call(this),this.type_=e||s,this.push=function(e){this.type_!==s&&e.type!==this.type_||(void 0===n&&(n=e.dts),e.dts=o(e.dts,n),e.pts=o(e.pts,n),t=e.dts,this.trigger("data",e))},this.flush=function(){n=t,this.trigger("done")},this.endTimeline=function(){this.flush(),this.trigger("endedtimeline")},this.discontinuity=function(){n=void 0,t=void 0},this.reset=function(){this.discontinuity(),this.trigger("reset")}};l.prototype=new i,e.exports={TimestampRolloverStream:l,handleRollover:o}},function(e,t,n){"use strict";var i=n(33),a=function(e){var t=31&e[1];return t<<=8,t|=e[2]},r=function(e){return!!(64&e[1])},s=function(e){var t=0;return(48&e[3])>>>4>1&&(t+=e[4]+1),t},o=function(e,t){var n=a(e);return 0===n?"pat":n===t?"pmt":t?"pes":null},l=function(e){var t=r(e),n=4+s(e);return t&&(n+=e[n]+1),(31&e[n+10])<<8|e[n+11]},u=function(e){var t={},n=r(e),i=4+s(e);if(n&&(i+=e[i]+1),1&e[i+5]){var a,o,l;a=(15&e[i+1])<<8|e[i+2],o=3+a-4,l=(15&e[i+10])<<8|e[i+11];for(var u=12+l;u<o;){var c=i+u;t[(31&e[c+1])<<8|e[c+2]]=e[c],u+=((15&e[c+3])<<8|e[c+4])+5}return t}},c=function(e,t){var n=a(e),r=t[n];switch(r){case i.H264_STREAM_TYPE:return"video";case i.ADTS_STREAM_TYPE:return"audio";case i.METADATA_STREAM_TYPE:return"timed-metadata";default:return null}},d=function(e){var t=r(e);if(!t)return null;var n=4+s(e);if(n>=e.byteLength)return null;var i,a=null;return i=e[n+7],192&i&&(a={},a.pts=(14&e[n+9])<<27|(255&e[n+10])<<20|(254&e[n+11])<<12|(255&e[n+12])<<5|(254&e[n+13])>>>3,a.pts*=4,a.pts+=(6&e[n+13])>>>1,a.dts=a.pts,64&i&&(a.dts=(14&e[n+14])<<27|(255&e[n+15])<<20|(254&e[n+16])<<12|(255&e[n+17])<<5|(254&e[n+18])>>>3,a.dts*=4,a.dts+=(6&e[n+18])>>>1)),a},h=function(e){switch(e){case 5:return"slice_layer_without_partitioning_rbsp_idr";case 6:return"sei_rbsp";case 7:return"seq_parameter_set_rbsp";case 8:return"pic_parameter_set_rbsp";case 9:return"access_unit_delimiter_rbsp";default:return null}},f=function(e){for(var t,n=4+s(e),i=e.subarray(n),a=0,r=0,o=!1;r<i.byteLength-3;r++)if(1===i[r+2]){a=r+5;break}for(;a<i.byteLength;)switch(i[a]){case 0:if(0!==i[a-1]){a+=2;break}if(0!==i[a-2]){a++;break}r+3!==a-2&&(t=h(31&i[r+3]),"slice_layer_without_partitioning_rbsp_idr"===t&&(o=!0));do a++;while(1!==i[a]&&a<i.length);r=a-2,a+=3;break;case 1:if(0!==i[a-1]||0!==i[a-2]){a+=3;break}t=h(31&i[r+3]),"slice_layer_without_partitioning_rbsp_idr"===t&&(o=!0),r=a-2,a+=3;break;default:a+=3}return i=i.subarray(r),a-=r,r=0,i&&i.byteLength>3&&(t=h(31&i[r+3]),"slice_layer_without_partitioning_rbsp_idr"===t&&(o=!0)),o};e.exports={parseType:o,parsePat:l,parsePmt:u,parsePayloadUnitStartIndicator:r,parsePesType:c,parsePesTime:d,videoPacketContainsKeyFrame:f}},function(e,t){"use strict";var n=[96e3,88200,64e3,48e3,44100,32e3,24e3,22050,16e3,12e3,11025,8e3,7350],i=function(e){return e[0]==="I".charCodeAt(0)&&e[1]==="D".charCodeAt(0)&&e[2]==="3".charCodeAt(0)},a=function(e){return e[0]<<21|e[1]<<14|e[2]<<7|e[3]},r=function(e,t,n){var i,a="";for(i=t;i<n;i++)a+="%"+("00"+e[i].toString(16)).slice(-2);return a},s=function(e,t,n){return unescape(r(e,t,n))},o=function(e,t){var n=e[t+6]<<21|e[t+7]<<14|e[t+8]<<7|e[t+9],i=e[t+5],a=(16&i)>>4;return a?n+20:n+10},l=function(e,t){var n=(224&e[t+5])>>5,i=e[t+4]<<3,a=6144&e[t+3];return a|i|n},u=function(e,t){return e[t]==="I".charCodeAt(0)&&e[t+1]==="D".charCodeAt(0)&&e[t+2]==="3".charCodeAt(0)?"timed-metadata":e[t]&!0&&240===(240&e[t+1])?"audio":null},c=function(e){for(var t=0;t+5<e.length;){if(255===e[t]&&240===(246&e[t+1]))return n[(60&e[t+2])>>>2];t++}return null},d=function(e){var t,n,i,r;t=10,64&e[5]&&(t+=4,t+=a(e.subarray(10,14)));do{if(n=a(e.subarray(t+4,t+8)),n<1)return null;if(r=String.fromCharCode(e[t],e[t+1],e[t+2],e[t+3]),"PRIV"===r){i=e.subarray(t+10,t+n+10);for(var o=0;o<i.byteLength;o++)if(0===i[o]){var l=s(i,0,o);if("com.apple.streaming.transportStreamTimestamp"===l){var u=i.subarray(o+1),c=(1&u[3])<<30|u[4]<<22|u[5]<<14|u[6]<<6|u[7]>>>2;return c*=4,c+=3&u[7]}break}}t+=10,t+=n}while(t<e.byteLength);return null};e.exports={isLikelyAacData:i,parseId3TagSize:o,parseAdtsSize:l,parseType:u,parseSampleRate:c,parseAacTimestamp:d}},function(e,t){var n,i,a,r,s,o,l,u=9e4;n=function(e){return e*u},i=function(e,t){return e*t},a=function(e){return e/u},r=function(e,t){return e/t},s=function(e,t){return n(r(e,t))},o=function(e,t){return i(a(e),t)},l=function(e,t,n){return a(n?e:e-t)},e.exports={ONE_SECOND_IN_TS:u,secondsToVideoTs:n,secondsToAudioTs:i,videoTsToSeconds:a,audioTsToSeconds:r,audioTsToVideoTs:s,videoTsToAudioTs:o,metadataTsToSeconds:l}},function(e,t,n){"use strict";var i=n(39),a=function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")},r=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),s=function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)},o=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t},l=function(){var e=[[[],[],[],[],[]],[[],[],[],[],[]]],t=e[0],n=e[1],i=t[4],a=n[4],r=void 0,s=void 0,o=void 0,l=[],u=[],c=void 0,d=void 0,h=void 0,f=void 0,p=void 0,m=void 0;for(r=0;r<256;r++)u[(l[r]=r<<1^283*(r>>7))^r]=r;for(s=o=0;!i[s];s^=c||1,o=u[o]||1)for(f=o^o<<1^o<<2^o<<3^o<<4,f=f>>8^255&f^99,i[s]=f,a[f]=s,h=l[d=l[c=l[s]]],m=16843009*h^65537*d^257*c^16843008*s,p=257*l[f]^16843008*f,r=0;r<4;r++)t[r][s]=p=p<<24^p>>>8,n[r][f]=m=m<<24^m>>>8;for(r=0;r<5;r++)t[r]=t[r].slice(0),n[r]=n[r].slice(0);return e},u=null,c=function(){function e(t){a(this,e),u||(u=l()),this._tables=[[u[0][0].slice(),u[0][1].slice(),u[0][2].slice(),u[0][3].slice(),u[0][4].slice()],[u[1][0].slice(),u[1][1].slice(),u[1][2].slice(),u[1][3].slice(),u[1][4].slice()]];var n=void 0,i=void 0,r=void 0,s=void 0,o=void 0,c=this._tables[0][4],d=this._tables[1],h=t.length,f=1;if(4!==h&&6!==h&&8!==h)throw new Error("Invalid aes key size");for(s=t.slice(0),o=[],this._key=[s,o],n=h;n<4*h+28;n++)r=s[n-1],(n%h===0||8===h&&n%h===4)&&(r=c[r>>>24]<<24^c[r>>16&255]<<16^c[r>>8&255]<<8^c[255&r],n%h===0&&(r=r<<8^r>>>24^f<<24,f=f<<1^283*(f>>7))),s[n]=s[n-h]^r;for(i=0;n;i++,n--)r=s[3&i?n:n-4],n<=4||i<4?o[i]=r:o[i]=d[0][c[r>>>24]]^d[1][c[r>>16&255]]^d[2][c[r>>8&255]]^d[3][c[255&r]]}return e.prototype.decrypt=function(e,t,n,i,a,r){var s=this._key[1],o=e^s[0],l=i^s[1],u=n^s[2],c=t^s[3],d=void 0,h=void 0,f=void 0,p=s.length/4-2,m=void 0,g=4,v=this._tables[1],y=v[0],_=v[1],b=v[2],T=v[3],k=v[4];for(m=0;m<p;m++)d=y[o>>>24]^_[l>>16&255]^b[u>>8&255]^T[255&c]^s[g],h=y[l>>>24]^_[u>>16&255]^b[c>>8&255]^T[255&o]^s[g+1],f=y[u>>>24]^_[c>>16&255]^b[o>>8&255]^T[255&l]^s[g+2],c=y[c>>>24]^_[o>>16&255]^b[l>>8&255]^T[255&u]^s[g+3],g+=4,o=d,l=h,u=f;for(m=0;m<4;m++)a[(3&-m)+r]=k[o>>>24]<<24^k[l>>16&255]<<16^k[u>>8&255]<<8^k[255&c]^s[g++],d=o,o=l,l=u,u=c,c=d},e}(),d=function(){function e(){a(this,e),this.listeners={}}return e.prototype.on=function(e,t){this.listeners[e]||(this.listeners[e]=[]),this.listeners[e].push(t)},e.prototype.off=function(e,t){if(!this.listeners[e])return!1;var n=this.listeners[e].indexOf(t);return this.listeners[e].splice(n,1),n>-1},e.prototype.trigger=function(e){var t=this.listeners[e];if(t)if(2===arguments.length)for(var n=t.length,i=0;i<n;++i)t[i].call(this,arguments[1]);else for(var a=Array.prototype.slice.call(arguments,1),r=t.length,s=0;s<r;++s)t[s].apply(this,a)},e.prototype.dispose=function(){this.listeners={}},e.prototype.pipe=function(e){this.on("data",function(t){e.push(t)})},e}(),h=function(e){function t(){a(this,t);var n=o(this,e.call(this,d));return n.jobs=[],n.delay=1,n.timeout_=null,n}return s(t,e),t.prototype.processJob_=function(){this.jobs.shift()(),this.jobs.length?this.timeout_=setTimeout(this.processJob_.bind(this),this.delay):this.timeout_=null},t.prototype.push=function(e){this.jobs.push(e),this.timeout_||(this.timeout_=setTimeout(this.processJob_.bind(this),this.delay))},t}(d),f=function(e){return e<<24|(65280&e)<<8|(16711680&e)>>8|e>>>24},p=function(e,t,n){var i=new Int32Array(e.buffer,e.byteOffset,e.byteLength>>2),a=new c(Array.prototype.slice.call(t)),r=new Uint8Array(e.byteLength),s=new Int32Array(r.buffer),o=void 0,l=void 0,u=void 0,d=void 0,h=void 0,p=void 0,m=void 0,g=void 0,v=void 0;for(o=n[0],l=n[1],u=n[2],d=n[3],v=0;v<i.length;v+=4)h=f(i[v]),p=f(i[v+1]),m=f(i[v+2]),g=f(i[v+3]),a.decrypt(h,p,m,g,s,v),s[v]=f(s[v]^o),s[v+1]=f(s[v+1]^l),s[v+2]=f(s[v+2]^u),s[v+3]=f(s[v+3]^d),o=h,l=p,u=m,d=g;return r},m=function(){function e(t,n,r,s){a(this,e);var o=e.STEP,l=new Int32Array(t.buffer),u=new Uint8Array(t.byteLength),c=0;for(this.asyncStream_=new h,this.asyncStream_.push(this.decryptChunk_(l.subarray(c,c+o),n,r,u)),c=o;c<l.length;c+=o)r=new Uint32Array([f(l[c-4]),f(l[c-3]),f(l[c-2]),f(l[c-1])]),this.asyncStream_.push(this.decryptChunk_(l.subarray(c,c+o),n,r,u));this.asyncStream_.push(function(){s(null,i.unpad(u))})}return e.prototype.decryptChunk_=function(e,t,n,i){return function(){var a=p(e,t,n);i.set(a,e.byteOffset)}},r(e,null,[{key:"STEP",get:function(){return 32e3}}]),e}();t.decrypt=p,t.Decrypter=m,t.AsyncStream=h},function(e,t){"use strict";function n(e){var t=a[e.byteLength%16||0],n=new Uint8Array(e.byteLength+t.length);return n.set(e),n.set(t,e.byteLength),n}function i(e){return e.subarray(0,e.byteLength-e[e.byteLength-1])}var a=void 0;a=[[16,16,16,16,16,16,16,16,16,16,16,16,16,16,16,16],[15,15,15,15,15,15,15,15,15,15,15,15,15,15,15],[14,14,14,14,14,14,14,14,14,14,14,14,14,14],[13,13,13,13,13,13,13,13,13,13,13,13,13],[12,12,12,12,12,12,12,12,12,12,12,12],[11,11,11,11,11,11,11,11,11,11,11],[10,10,10,10,10,10,10,10,10,10],[9,9,9,9,9,9,9,9,9],[8,8,8,8,8,8,8,8],[7,7,7,7,7,7,7],[6,6,6,6,6,6],[5,5,5,5,5],[4,4,4,4],[3,3,3],[2,2],[1]];var r="1.0.2";t.pad=n,t.unpad=i,t.VERSION=r},function(e,t,n){"use strict";var i=n(2);e.exports=function(){var e=i(".alert");e.each(function(){var e=i(this).next(),t=i(this);i(this).find(".i-close").click(function(){t.hide(),e.addClass("nav-push")})})}},function(e,t,n){(function(e){"use strict";function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},a=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),r=function(e){var t="contentresult",r="bny.contentresult",s="."+r,o=e.fn[t],l={CLICK:"click"+s},u=function(){function t(i,a){n(this,t),this._element=i,this._colHeadings=e(this._element).find(".content-title-col"),this._addEventListeners()}return a(t,[{key:"_toggleArrow",value:function(t){var n=e(t.target).closest(".content-title-col");return n.hasClass("active")?n.hasClass("asc")?(n.removeClass("asc"),n.addClass("desc")):(n.removeClass("desc"),n.addClass("asc")):(this._colHeadings.removeClass("active"),n.addClass("active"),n.removeClass("asc"),n.addClass("desc")),!1}},{key:"_addEventListeners",value:function(){this._colHeadings.on(l.CLICK,e.proxy(this._toggleArrow,this))}}],[{key:"_jQueryInterface",value:function(n,a){return this.each(function(){var s=e(this).data(r),o=e.extend({},t.Default,e(this).data(),"object"===("undefined"==typeof n?"undefined":i(n))&&n);if(s||(s=new t(this,o),e(this).data(r,s)),"string"==typeof n){if(void 0===s[n])throw new Error('No method named "'+n+'"');s[n](a)}else o.show&&s.show(a)})}}]),t}();return e.fn[t]=u._jQueryInterface,e.fn[t].Constructor=u,e.fn[t].noConflict=function(){return e.fn[t]=o,u._jQueryInterface},u}(e);t.default=r}).call(t,n(2))},function(e,t,n){(function(e){"use strict";function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},a=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),r=function(e){var t="cookiebanner",r="bny.cookiebanner",s="."+r,o=e.fn[t],l={CLICK:"click"+s,LOAD:"load"+s},u={COMPONENT:'[data-cookie="banner"]',BODY:".cookie-body",CLOSE_BUTTON:'[data-cookie="close"]'},c=function(){function t(i,a){n(this,t),this._element=i,this._cookieBody=e(this._element).find(u.BODY),this._closeButton=e(this._element).find(u.CLOSE_BUTTON),this._isCookieRequired="undefined"!=typeof e(this._element).data("cookie-required"),this._initialize(),this._addEventListeners()}return a(t,[{key:"close",value:function(t){var n=this;return this._cookieBody.slideUp(300,function(){e(n._element).remove(),n._isCookieRequired&&n.setCookie("cookie-accept","true",365)}),!1}},{key:"getCookie",value:function(e){for(var t=e+"=",n=document.cookie.split(";"),i=0;i<n.length;i++){var a=n[i].trim();if(0==a.indexOf(t))return a.substring(t.length,a.length)}return""}},{key:"setCookie",value:function(e,t,n){var i=new Date;i.setTime(i.getTime()+24*n*60*60*1e3);var a="expires="+i.toGMTString();document.cookie=e+"="+t+"; "+a}},{key:"dispose",value:function(){e.removeData(this._element,r),e(this._element).off(s),this._element=null}},{key:"_initialize",value:function(){"true"==this.getCookie("cookie-accept")&&this._isCookieRequired?e(this._element).remove():e(this._element).show()}},{key:"_addEventListeners",value:function(){this._closeButton.on(l.CLICK,e.proxy(this.close,this))}}],[{key:"_jQueryInterface",value:function(n,a){return this.each(function(){var s=e(this).data(r),o=e.extend({},t.Default,e(this).data(),"object"===("undefined"==typeof n?"undefined":i(n))&&n);if(s||(s=new t(this,o),e(this).data(r,s)),"string"==typeof n){if(void 0===s[n])throw new Error('No method named "'+n+'"');s[n](a)}else o.show&&s.show(a)})}},{key:"_getTagItemFromElement",value:function(t){var n=e(t).find("span");return n}}]),t}();return e(window).on(l.LOAD,function(){var t=e(u.COMPONENT);c._jQueryInterface.call(t,t.data())}),e.fn[t]=c._jQueryInterface,e.fn[t].Constructor=c,e.fn[t].noConflict=function(){return e.fn[t]=o,c._jQueryInterface},c}(e);t.default=r}).call(t,n(2))},function(e,t,n){(function(e){"use strict";function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},a=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,
"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),r=function(e){var t="deeptogglelist",r="bny.deeptogglelist",s="."+r,o=e.fn[t],l={CLICK:"click"+s,LOAD:"load"+s},u={TITLE:"deep-toggle-title",DESC:"deep-toggle-desc",OPENED:"opened"},c={COMPONENT:'[data-ui="deeptogglelist"]',SCROLLTO:"data-scrollto",ITEM:"li",TITLE:".deep-toggle-title",DESC:".deep-toggle-desc",LINK:".deep-toggle-desc > a, .deep-toggle-title > a",ICON:"> a > i",PANE:".deep-toggle-pane",VISIBLE_PANE:".deep-toggle-pane:visible"},d=function(){function t(i){n(this,t),this._element=i,this.descs=e(this._element).find(c.DESC),this.links=e(this._element).find(c.LINK),this.scrollto=e(c.COMPONENT).attr(c.SCROLLTO),void 0!=this.scrollto&&""!=this.scrollto||(this.scrollto=60),this.route(),this._addEventListeners()}return a(t,[{key:"route",value:function(){var e=location.hash,t=this.links.filter('[href="'+e+'"]');if(t.length){var n=t.closest(c.ITEM);this._open(n),this._scrollTo(n,!1)}}},{key:"activate",value:function(t){var n=t.target.hash;if(location.hash===n)return!1;this._navigateTo(n);var i=e(t.target).closest(c.ITEM);return this._scrollTo(i,!0),i.hasClass(u.OPENED)?this.close(i):this._open(i),!1}},{key:"close",value:function(t){var n=e(t).find(c.PANE),i=e(t).find(c.ICON);t.removeClass(u.OPENED),i.removeClass(u.OPENED),n.slideToggle("fast"),history.pushState(null,document.title,window.location.pathname+window.location.search)}},{key:"dispose",value:function(){e.removeData(this._element,r),e(this._element).off(s),this._element=null}},{key:"setNavHeight",value:function(e){NAV_HEIGHT=e}},{key:"_open",value:function(t){var n=this.descs.find(c.VISIBLE_PANE);if(this.close(n.parent()),t.hasClass(u.DESC)){var i=t.find(c.ICON),a=t.find(c.PANE);t.addClass(u.OPENED),i.addClass(u.OPENED),e(a).slideToggle("fast")}}},{key:"_scrollTo",value:function(t,n){var i=0;if(t.hasClass(u.TITLE))i=e(t).offset().top-this.scrollto;else{var a=t.prevAll().find(c.VISIBLE_PANE),r=a.length?a.outerHeight():0;i=e(t).offset().top-this.scrollto-r}n?e("html, body").animate({scrollTop:i},200):e(window).scrollTop(i)}},{key:"_addEventListeners",value:function(){this.links.on(l.CLICK,e.proxy(this.activate,this))}},{key:"_navigateTo",value:function(e){history.pushState(null,null,e)}}],[{key:"_jQueryInterface",value:function(n,a){return this.each(function(){var s=e(this).data(r),o=e.extend({},t.Default,e(this).data(),"object"===("undefined"==typeof n?"undefined":i(n))&&n);if(s||(s=new t(this,o),e(this).data(r,s)),"string"==typeof n){if(void 0===s[n])throw new Error('No method named "'+n+'"');s[n](a)}else o.show&&s.show(a)})}}]),t}();return e(window).on(l.LOAD,function(){var t=e(c.COMPONENT);d._jQueryInterface.call(t,t.data())}),e.fn[t]=d._jQueryInterface,e.fn[t].Constructor=d,e.fn[t].noConflict=function(){return e.fn[t]=o,d._jQueryInterface},d}(e);t.default=r}).call(t,n(2))},function(e,t,n){(function(e){"use strict";function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),a=function(e){var t="dropdown",a="bny.dropdown",r="."+a,s=e.fn[t],o={selectable:!0},l={HIDE:"hide"+r,HIDDEN:"hidden"+r,SHOW:"show"+r,SHOWN:"shown"+r,CLICK:"click"+r,KEYDOWN:"keydown"+r,LOAD:"load"+r,CHANGE:"change"+r},u={BACKDROP:"dropdown-backdrop",OPEN:"open",HIDDEN:"dropdown-selected"},c={COMPONENT:'[data-ui="dropdown"]',BACKDROP:".dropdown-backdrop",TOGGLE:'[data-toggle="dropdown"]',DROPDOWN_ITEM:".dropdown-item",DATA_VAL:"data-val",DATA_SELECTABLE:"data-selectable",ROLE_MENU:'[role="menu"]',ROLE_LISTBOX:'[role="listbox"]'},d=function(){function t(e){n(this,t),this._element=e}return i(t,[{key:"toggle",value:function n(i){var a=e(i.target).closest(c.COMPONENT),n=e(a).find(c.TOGGLE),r=e(a).hasClass(u.OPEN);if(t._clearMenus(),r)return!1;if("ontouchstart"in document.documentElement){var s=document.createElement("div");s.className=u.BACKDROP,e(s).insertBefore(n),e(s).on("click",t._clearMenus)}return n.focus(),n.get(0).setAttribute("aria-expanded","true"),e(a).toggleClass(u.OPEN),!1}},{key:"select",value:function(n){var i=e(n.target).closest(c.COMPONENT),a=i.find(c.DROPDOWN_ITEM),r=i.find(c.TOGGLE),s=e(n.target).closest(c.DROPDOWN_ITEM),d=s.attr(c.DATA_VAL),h=o.selectable,f=e(i).attr(c.DATA_SELECTABLE);f&&"true"===f.toLowerCase()?h=!0:f&&"false"===f.toLowerCase()&&(h=!1),h&&(a.removeClass(u.HIDDEN),s.addClass(u.HIDDEN),r.text(s.text()),r.attr(c.DATA_VAL,d));var p={relatedTarget:s},m=e.Event(l.CHANGE,p);e(i).trigger(m),r.focus(),t._clearMenus()}},{key:"dispose",value:function(){e.removeData(this._element,a),e(this._element).off(r),this._element=null}}],[{key:"_clearMenus",value:function(n){if(!n||3!==n.which){var i=e(c.BACKDROP)[0];i&&i.parentNode.removeChild(i);for(var a=e.makeArray(e(c.TOGGLE)),r=0;r<a.length;r++){var s=t._getParentFromElement(a[r]),o={relatedTarget:a[r]};e(s).hasClass(u.OPEN)&&(a[r].setAttribute("aria-expanded","false"),e(s).removeClass(u.OPEN).trigger(e.Event(l.HIDDEN,o)))}}}},{key:"_dataApiKeydownHandler",value:function(t){if(/(38|40|27|32)/.test(t.which)){t.preventDefault(),t.stopPropagation();var n=e(t.target).closest(c.COMPONENT),i=n.find(c.TOGGLE),a=e(n).find(c.DROPDOWN_ITEM),r=e(n).hasClass(u.OPEN);if(!r&&27!==t.which||r&&27===t.which)return 27===t.which&&i.trigger("focus"),void e(i).trigger("click");var s=a.filter(":not(.dropdown-selected)");if(s.length){var o=-1;o=s.index(t.target),38===t.which&&o>0&&o--,40===t.which&&o<s.length-1&&o++,o<0&&(o=0),s[o].focus()}}}},{key:"_getParentFromElement",value:function(e){return e.parentNode}},{key:"_jQueryInterface",value:function(n){return this.each(function(){var i=e(this).data(a);if(i||e(this).data(a,i=new t(this)),"string"==typeof n){if(void 0===i[n])throw new Error('No method named "'+n+'"');i[n].call(this)}})}},{key:"Default",get:function(){return o}}]),t}();return e(document).on(l.CLICK,c.TOGGLE,d.prototype.toggle).on(l.CLICK,c.DROPDOWN_ITEM,d.prototype.select).on(l.KEYDOWN,c.TOGGLE,d._dataApiKeydownHandler).on(l.KEYDOWN,c.DROPDOWN_ITEM,d._dataApiKeydownHandler).on(l.CLICK,d._clearMenus),e.fn[t]=d._jQueryInterface,e.fn[t].Constructor=d,e.fn[t].noConflict=function(){return e.fn[t]=s,d._jQueryInterface},d}(e);t.default=a}).call(t,n(2))},function(e,t,n){(function(e){"use strict";function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),a=function(e){var t="filterbar",a="bny.filterbar",r="."+a,s=e.fn[t],o={CLICK:"click"+r,KEYDOWN:"keydown"+r,CHANGE_DROPDOWN:"change.bny.dropdown",CHANGE:"change"+r},l={BACKDROP:"filterbar-backdrop",DISABLED:"disabled",OPEN:"open"},u={COMPONENT:'[data-ui="filterbar"]',FILTER:".col-filter",TOGGLE:'[data-filter="toggle"]',FILTER_SM_ROW:".row-filter-sm",TOGGLE_LIST:'[data-filter="list"]',TOGGLE_ITEM:'[data-filter="list"] a',TAG_ITEM:'[data-filter="tags"] li',DATA_VALUE:"data-val",DROPDOWN:'[data-ui="filterbar"] [data-ui="dropdown"]',MODAL_OPEN:'[data-filter="modalopen"]',MODAL_CLOSE:'[data-filter="modalclose"]',BACKDROP:".filter-backdrop"},c=function(){function t(e){n(this,t),this._element=e}return i(t,[{key:"toggle",value:function n(i){var n=e(i.target).closest(u.TOGGLE),a=n[0].parentNode,r=e(a).hasClass(l.OPEN);return t._clearMenus(),!r&&(n.focus(),e(a).addClass(l.OPEN),!1)}},{key:"selectToggle",value:function(n){var i=e(n.target),a=(i.attr(u.DATA_VALUE),i.closest(u.TOGGLE_LIST).prev(u.TOGGLE)),r=a.closest(u.COMPONENT),s=(r.find(u.MODAL),{relatedTarget:i}),l=e.Event(o.CHANGE,s);return e(r).trigger(l),e(window).width()<768&&e(".col-newsroom").css("position",""),e(a).focus(),t.prototype.hideModal(n),t._clearMenus(),!1}},{key:"selectTag",value:function(n){var i=e(n.target),a=i.closest(u.COMPONENT),r={relatedTarget:i},s=e.Event(o.CHANGE,r);return e(a).trigger(s),i.addClass(l.ACTIVE).siblings().removeClass(l.ACTIVE),t.prototype.hideModal(n),t._clearMenus(),!1}},{key:"showModal",value:function(t){var n=e(t.target).closest(u.COMPONENT),i=n.find(u.BACKDROP),a=n.find(u.FILTER_SM_ROW);e(window).width()<768&&e(".col-newsroom").css("position","static"),a.addClass(l.OPEN),i.show()}},{key:"hideModal",value:function(t){var n=e(t.target).closest(u.COMPONENT),i=n.find(u.BACKDROP),a=n.find(u.FILTER_SM_ROW);e(window).width()<768&&e(".col-newsroom").css("position",""),window.scrollTo(0,0),a.removeClass(l.OPEN),i.hide()}},{key:"disable",value:function(t){for(var n=e(this._element),i=t.disable,a=function(t){var a=i[t].name,r=i[t].values;n.find('[data-name="'+a+'"]').each(function(t,n){for(var i=r.length-1;i>=0;i--)e(n).attr("data-val")==r[i]&&e(n).addClass(l.DISABLED)})},r=i.length-1;r>=0;r--)a(r)}},{key:"dropdownSelect",value:function(n){e(n.target);t.prototype.hideModal(n)}},{key:"dispose",value:function(){e.removeData(this._element,a),e(this._element).off(r),this._element=null}}],[{key:"_clearMenus",value:function(t){for(var n=e.makeArray(e(u.TOGGLE)),i=0;i<n.length;i++){var a=n[i].parentNode;e(a).hasClass(l.OPEN)&&e(a).removeClass(l.OPEN)}}},{key:"_jQueryInterface",value:function(n){return this.each(function(){var i=e(this).data(a);if(i||e(this).data(a,i=new t(this)),"string"==typeof n){if(void 0===i[n])throw new Error('No method named "'+n+'"');i[n].call(this)}else n.disable&&i.disable(n)})}}]),t}();return e(document).on(o.CLICK,c._clearMenus).on(o.CLICK,u.MODAL_OPEN,c.prototype.showModal).on(o.CLICK,u.MODAL_CLOSE,c.prototype.hideModal).on(o.CHANGE_DROPDOWN,u.DROPDOWN,c.prototype.dropdownSelect).on(o.CLICK,u.TAG_ITEM,c.prototype.selectTag).on(o.CLICK,u.TOGGLE,c.prototype.toggle).on(o.CLICK,u.TOGGLE_ITEM,c.prototype.selectToggle),e.fn[t]=c._jQueryInterface,e.fn[t].Constructor=c,e.fn[t].noConflict=function(){return e.fn[t]=s,c._jQueryInterface},c}(e);t.default=a}).call(t,n(2))},function(e,t,n){(function(e){"use strict";function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},a=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),r=function(e){var t="herocarousel",r="bny.herocarousel",s=e.fn[t],o={},l={COMPONENT:".herocarousel",BTN_RIGHT:".herocarousel .btn-right",BTN_LEFT:".herocarousel .btn-left",HERO_CAPTION:".herocarousel-caption",CAPTION_ELEMENT:".caption-element"},u=function(){function t(i,a){n(this,t),this._element=i,this._$captionSection=e(this._element).next(l.HERO_CAPTION),this._$captionEl=this._$captionSection.find(l.CAPTION_ELEMENT),this._hasCaption=this._$captionSection.length,this.autoplayInterval=a.autoplayInterval,this.init()}return a(t,[{key:"init",value:function(){var t=this;this._hasCaption&&(e(".herocarousel").on("afterChange",function(n,i,a){t.injectCaption(t,e(i.$slides.eq(a)))}),e(".herocarousel").on("init",function(n,i){t.injectCaption(t,e(i.$slides.eq(0)))})),e(".herocarousel").on("afterChange",function(t,n,i){setTimeout(function(){e("[aria-describedby]").each(function(){e(this).removeAttr("aria-describedby")})},500)});var n={dots:!0,speed:500,nextArrow:'<div class="btn-right"><i class="i-angle-right"></i></div>',prevArrow:'<div class="btn-left"><i class="i-angle-left"></i></div>'};void 0!=this.autoplayInterval&&NaN!=parseInt(this.autoplayInterval)&&(n.autoplay=!0,n.autoplaySpeed=parseInt(this.autoplayInterval)),e(".herocarousel").slick(n)}},{key:"injectCaption",value:function(e,t){var n=t.find(".hero-img-caption");n.length>0?(e._$captionEl.html(n[0].innerHTML),e._$captionSection.removeClass("hide-me")):e._$captionSection.addClass("hide-me")}}],[{key:"_jQueryInterface",value:function(n,a){return this.each(function(){var s=e(this).data(r),o=e.extend({},t.Default,e(this).data(),"object"===("undefined"==typeof n?"undefined":i(n))&&n);if(s||(s=new t(this,o),e(this).data(r,s)),"string"==typeof n){if(void 0===s[n])throw new Error('No method named "'+n+'"');s[n](a)}else o.show&&s.show(a)})}},{key:"Default",get:function(){return o}}]),t}();return e(function(){var t=e(l.COMPONENT);u._jQueryInterface.call(t,t.data())}),e(window).resize(function(){var t=e(l.COMPONENT);t.slick("resize")}),e.fn[t]=u._jQueryInterface,e.fn[t].Constructor=u,e.fn[t].noConflict=function(){return e.fn[t]=s,u._jQueryInterface},u}(e);t.default=r}).call(t,n(2))},function(e,t,n){(function(e){"use strict";function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},a=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),r=function(e){var t="herosearch",r="bny.herosearch",s="."+r,o=e.fn[t],l={CLICK:"click"+s,LOAD:"load"+s,KEYUP:"keyup"+s},u={MENU:"data-menu",HERO_SEARCH:'[data-search="scroll"]',SEARCH_RESULTS:"#searchResultsSection",SEARCH_INPUT:'input[type="text"]',SEARCH_BTN:'[data-btn="herosearch"]'},c=function(){function t(i){n(this,t),this._element=i,this.mediumMediaQuery=1024,this.globalmenu=e(u.SEARCH_RESULTS).attr(u.MENU),this.fixedMenuHeight=e(this.globalmenu).height(),this.$window=e(window),this.component=e(this._element),this.searchResults=e(u.SEARCH_RESULTS),this.searchInput=e(this._element).find(u.SEARCH_INPUT),this.searchBtn=e(this._element).find(u.SEARCH_BTN),this.body=e("html, body"),this._addEventListeners()}return a(t,[{key:"jump",value:function(e){var t=parseInt(this.searchResults.css("padding-top")),n=this.searchResults.offset().top-this.fixedMenuHeight+t;return this.body.animate({scrollTop:n},"200"),!1}},{key:"handleKeyUp",value:function(e){13===e.keyCode&&this._hasSearchTerm()&&(e.preventDefault(),this.jump(e))}},{key:"handleBtnClick",value:function(t){e(t.target).hasClass("i-close")&&(this.searchInput.val(""),e(t.target).removeClass("i-close").removeClass("tblack").addClass("i-search").addClass("tgold"),e(".hero-search-btns > span").text("")),this._hasSearchTerm()&&this.jump(t)}},{key:"dispose",value:function(){e.removeData(this._element,r),e(this._element).off(s),this._element=null}},{key:"_addEventListeners",value:function(){var t=this;e(window).on("scroll",function(e){t.didScroll=!0}),this.searchInput.on(l.KEYUP,e.proxy(this.handleKeyUp,this)),this.searchBtn.on(l.CLICK,e.proxy(this.handleBtnClick,this))}},{key:"_hasSearchTerm",value:function(){return 0!=this.searchInput.val().replace(/^\s+|\s+$/g,"").length}}],[{key:"_jQueryInterface",value:function(n,a){return this.each(function(){var s=e(this).data(r),o=e.extend({},t.Default,e(this).data(),"object"===("undefined"==typeof n?"undefined":i(n))&&n);if(s||(s=new t(this,o),e(this).data(r,s)),"string"==typeof n){if(void 0===s[n])throw new Error('No method named "'+n+'"');s[n](a)}else o.show&&s.show(a)})}}]),t}();return e(window).on(l.LOAD,function(){var t=e(u.HERO_SEARCH);c._jQueryInterface.call(t,t.data())}),e.fn[t]=c._jQueryInterface,e.fn[t].Constructor=c,e.fn[t].noConflict=function(){return e.fn[t]=o,c._jQueryInterface},c}(e);t.default=r}).call(t,n(2))},function(e,t,n){(function(e){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},s=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),o=n(49),l=i(o),u=function(e){var t="modal",n="bs.modal",i="."+n,o=".data-api",u=e.fn[t],c=200,d=50,h={backdrop:!0,keyboard:!0,focus:!0,show:!0},f={backdrop:"(boolean|string)",keyboard:"boolean",focus:"boolean",show:"boolean"},p={HIDE:"hide"+i,HIDDEN:"hidden"+i,SHOW:"show"+i,SHOWN:"shown"+i,FOCUSIN:"focusin"+i,RESIZE:"resize"+i,CLICK_DISMISS:"click.dismiss"+i,CLICK_SHARE:"click.share"+i,KEYDOWN_DISMISS:"keydown.dismiss"+i,MOUSEUP_DISMISS:"mouseup.dismiss"+i,MOUSEDOWN_DISMISS:"mousedown.dismiss"+i,CLICK_DATA_API:"click"+i+o},m={SCROLLBAR_MEASURER:"modal-scrollbar-measure",BACKDROP:"modal-backdrop",OPEN:"modal-open",FADE:"fade",IN:"in"},g={DIALOG:".modal-dialog",DATA_TOGGLE:'[data-toggle="modal"]',DATA_DISMISS:'[data-dismiss="modal"]',DATA_SHARE:'[data-btn="share"]',SHARE_POPOVER:'[data-modal="share"]',FIXED_CONTENT:".navbar-fixed-top, .navbar-fixed-bottom, .is-fixed"},v=function(){function o(t,n){a(this,o),this._config=this._getConfig(n),this._element=t,this._dialog=e(t).find(g.DIALOG)[0],this._sharePopover=e(t).find(g.SHARE_POPOVER),this._backdrop=null,this._isShown=!1,this._isBodyOverflowing=!1,this._ignoreBackdropClick=!1,this._originalBodyPadding=0,this._scrollbarWidth=0}return s(o,[{key:"toggle",value:function(e){return this._isShown?this.hide():this.show(e)}},{key:"show",value:function(t){var n=this,i=e.Event(p.SHOW,{relatedTarget:t});this._isShown||i.isDefaultPrevented()||(this._isShown=!0,this._checkScrollbar(),this._setScrollbar(),e(document.body).addClass(m.OPEN),this._setEscapeEvent(),this._setResizeEvent(),e(this._element).on(p.CLICK_DISMISS,g.DATA_DISMISS,e.proxy(this.hide,this)),e(this._element).on(p.CLICK_SHARE,g.DATA_SHARE,e.proxy(this.share,this)),e(this._dialog).on(p.MOUSEDOWN_DISMISS,function(){e(n._element).one(p.MOUSEUP_DISMISS,function(t){e(t.target).is(n._element)&&(n._ignoreBackdropClick=!0)})}),this._showBackdrop(e.proxy(this._showElement,this,t)))}},{key:"hide",value:function(t){t&&t.preventDefault();var n=e.Event(p.HIDE);this._isShown&&!n.isDefaultPrevented()&&(this._isShown=!1,this._setEscapeEvent(),this._setResizeEvent(),e(document).off(p.FOCUSIN),e(this._element).removeClass(m.IN),e(this._sharePopover).hide(),e(this._element).off(p.CLICK_DISMISS),e(this._element).off(p.CLICK_SHARE),e(this._dialog).off(p.MOUSEDOWN_DISMISS),l.default.supportsTransitionEnd()&&e(this._element).hasClass(m.FADE)?e(this._element).one(l.default.TRANSITION_END,e.proxy(this._hideModal,this)).emulateTransitionEnd(c):this._hideModal())}},{key:"share",value:function(t){t&&t.preventDefault(),e(this._sharePopover).toggle()}},{key:"dispose",value:function(){e.removeData(this._element,n),e(window).off(i),e(document).off(i),e(this._element).off(i),e(this._backdrop).off(i),this._config=null,this._element=null,this._dialog=null,this._backdrop=null,this._isShown=null,this._isBodyOverflowing=null,this._ignoreBackdropClick=null,this._originalBodyPadding=null,this._scrollbarWidth=null}},{key:"_getConfig",value:function(n){return n=e.extend({},h,n),l.default.typeCheckConfig(t,n,f),n}},{key:"_showElement",value:function(t){var n=this,i=l.default.supportsTransitionEnd()&&e(this._element).hasClass(m.FADE);this._element.parentNode&&this._element.parentNode.nodeType===Node.ELEMENT_NODE||document.body.appendChild(this._element),this._element.style.display="block",this._element.scrollTop=0,i&&l.default.reflow(this._element),e(this._element).addClass(m.IN),this._config.focus&&this._enforceFocus();var a=e.Event(p.SHOWN,{relatedTarget:t}),r=function(){n._config.focus&&n._element.focus(),e(n._element).trigger(a)};i?e(this._dialog).one(l.default.TRANSITION_END,r).emulateTransitionEnd(c):r()}},{key:"_enforceFocus",value:function(){var t=this;e(document).off(p.FOCUSIN).on(p.FOCUSIN,function(n){document===n.target||t._element===n.target||e(t._element).has(n.target).length||t._element.focus()})}},{key:"_setEscapeEvent",value:function(){var t=this;this._isShown&&this._config.keyboard?e(this._element).on(p.KEYDOWN_DISMISS,function(e){27===e.which&&t.hide()}):this._isShown||e(this._element).off(p.KEYDOWN_DISMISS)}},{key:"_setResizeEvent",value:function(){this._isShown?e(window).on(p.RESIZE,e.proxy(this._handleUpdate,this)):e(window).off(p.RESIZE)}},{key:"_hideModal",value:function(){var t=this;this._element.style.display="none",this._showBackdrop(function(){e(document.body).removeClass(m.OPEN),t._resetAdjustments(),t._resetScrollbar(),e(t._element).trigger(p.HIDDEN)})}},{key:"_removeBackdrop",value:function(){this._backdrop&&(e(this._backdrop).remove(),this._backdrop=null)}},{key:"_showBackdrop",value:function(t){var n=this,i=e(this._element).hasClass(m.FADE)?m.FADE:"";if(this._isShown&&this._config.backdrop){var a=l.default.supportsTransitionEnd()&&i;if(this._backdrop=document.createElement("div"),this._backdrop.className=m.BACKDROP,i&&e(this._backdrop).addClass(i),e(this._backdrop).appendTo(document.body),e(this._element).on(p.CLICK_DISMISS,function(e){return n._ignoreBackdropClick?void(n._ignoreBackdropClick=!1):void(e.target===e.currentTarget&&("static"===n._config.backdrop?n._element.focus():n.hide()))}),a&&l.default.reflow(this._backdrop),e(this._backdrop).addClass(m.IN),!t)return;if(!a)return void t();e(this._backdrop).one(l.default.TRANSITION_END,t).emulateTransitionEnd(d)}else if(!this._isShown&&this._backdrop){e(this._backdrop).removeClass(m.IN);var r=function(){n._removeBackdrop(),t&&t()};l.default.supportsTransitionEnd()&&e(this._element).hasClass(m.FADE)?e(this._backdrop).one(l.default.TRANSITION_END,r).emulateTransitionEnd(d):r()}else t&&t()}},{key:"_handleUpdate",value:function(){this._adjustDialog()}},{key:"_adjustDialog",value:function(){var e=this._element.scrollHeight>document.documentElement.clientHeight;!this._isBodyOverflowing&&e&&(this._element.style.paddingLeft=this._scrollbarWidth+"px"),this._isBodyOverflowing&&!e&&(this._element.style.paddingRight=this._scrollbarWidth+"px~")}},{key:"_resetAdjustments",value:function(){this._element.style.paddingLeft="",this._element.style.paddingRight=""}},{key:"_checkScrollbar",value:function(){this._isBodyOverflowing=document.body.clientWidth<window.innerWidth,this._scrollbarWidth=this._getScrollbarWidth()}},{key:"_setScrollbar",value:function(){var t=parseInt(e(g.FIXED_CONTENT).css("padding-right")||0,10);this._originalBodyPadding=document.body.style.paddingRight||"",this._isBodyOverflowing&&(document.body.style.paddingRight=t+this._scrollbarWidth+"px")}},{key:"_resetScrollbar",value:function(){document.body.style.paddingRight=this._originalBodyPadding}},{key:"_getScrollbarWidth",value:function(){var e=document.createElement("div");e.className=m.SCROLLBAR_MEASURER,document.body.appendChild(e);var t=e.offsetWidth-e.clientWidth;return document.body.removeChild(e),t}}],[{key:"_jQueryInterface",value:function(t,i){return this.each(function(){var a=e(this).data(n),s=e.extend({},o.Default,e(this).data(),"object"===("undefined"==typeof t?"undefined":r(t))&&t);if(a||(a=new o(this,s),e(this).data(n,a)),"string"==typeof t){if(void 0===a[t])throw new Error('No method named "'+t+'"');a[t](i)}else s.show&&a.show(i)})}},{key:"Default",get:function(){return h}}]),o}();return e(document).on(p.CLICK_DATA_API,g.DATA_TOGGLE,function(t){var i=this,a=void 0,r=l.default.getSelectorFromElement(this);r&&(a=e(r)[0]);var s=e(a).data(n)?"toggle":e.extend({},e(a).data(),e(this).data());"A"===this.tagName&&t.preventDefault();var o=e(a).one(p.SHOW,function(t){t.isDefaultPrevented()||o.one(p.HIDDEN,function(){e(i).is(":visible")&&i.focus()})});v._jQueryInterface.call(e(a),s,this)}),e.fn[t]=v._jQueryInterface,e.fn[t].Constructor=v,e.fn[t].noConflict=function(){return e.fn[t]=u,v._jQueryInterface},v}(e);t.default=u}).call(t,n(2))},function(e,t,n){(function(e){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=function(e){function t(e){return{}.toString.call(e).match(/\s([a-zA-Z]+)/)[1].toLowerCase()}function n(e){return(e[0]||e).nodeType}function i(){return{bindType:o.end,delegateType:o.end,handle:function(t){if(e(t.target).is(this))return t.handleObj.handler.apply(this,arguments)}}}function a(){if(window.QUnit)return!1;var e=document.createElement("bootstrap");for(var t in l)if(void 0!==e.style[t])return{end:l[t]};return!1}function r(t){var n=this,i=!1;return e(this).one(u.TRANSITION_END,function(){i=!0}),setTimeout(function(){i||u.triggerTransitionEnd(n)},t),this}function s(){o=a(),e.fn.emulateTransitionEnd=r,u.supportsTransitionEnd()&&(e.event.special[u.TRANSITION_END]=i())}var o=!1,l={WebkitTransition:"webkitTransitionEnd",MozTransition:"transitionend",OTransition:"oTransitionEnd otransitionend",transition:"transitionend"},u={TRANSITION_END:"bsTransitionEnd",getUID:function(e){do e+=~~(1e6*Math.random());while(document.getElementById(e));return e},getSelectorFromElement:function(e){var t=e.getAttribute("data-target");return t||(t=e.getAttribute("href")||"",t=/^#[a-z]/i.test(t)?t:null),t},reflow:function(e){new Function("bs","return bs")(e.offsetHeight)},triggerTransitionEnd:function(t){e(t).trigger(o.end)},supportsTransitionEnd:function(){return Boolean(o)},typeCheckConfig:function(e,i,a){for(var r in a)if(a.hasOwnProperty(r)){var s=a[r],o=i[r],l=void 0;if(l=o&&n(o)?"element":t(o),!new RegExp(s).test(l))throw new Error(e.toUpperCase()+": "+('Option "'+r+'" provided type "'+l+'" ')+('but expected type "'+s+'".'))}}};return s(),u}(e);t.default=n}).call(t,n(2))},function(e,t,n){"use strict";var i=n(2);e.exports=function(){function e(){return n-=1,n<=0?(clearInterval(t),a.find(".progress .progress-bar").css("animationName",""),void a.fadeOut(400,function(){i("body").trigger("nextVideoCountdownComplete"),n=10,a.find(".progress .progress-value").text(n),a.find(".progress > span").hide()})):void i(".progress .progress-value").text(n)}var t,n=10,a=i(".video-countdown");a.find(".progress .progress-value").on("click",function(n){n.preventDefault(),a.find(".progress > span").show(),a.find(".progress .progress-bar").css("animationName","loading-anim"),a.show(),t=setInterval(e,1e3)})}},function(e,t,n){(function(e){"use strict";function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},a=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),r=function(e){var t="onboardmodal",r="bny.onboardmodal",s="."+r,o=".data-api",l=e.fn[t],u={},c={CLICK:"click"+s,CLICK_DATA_API:"click"+s+o},d={CLOSEBUTTON:'[data-btn="close"]',NEXTBUTTON:'[data-btn="next"]'},h=function(){function t(i,a){n(this,t),this._element=i,this.closeButton=e(this._element).find(d.CLOSEBUTTON),this.nextButton=e(this._element).find(d.NEXTBUTTON),this.tabNumber=0,this._addEventListeners()}return a(t,[{key:"advanceProgress",value:function(t){this.tabNumber++;var n=e(this._element).find('[data-tab="'+this.tabNumber+'"]');e(t.currentTarget).closest(".row").addClass("hidden-xs-up"),n.removeClass("hidden-xs-up"),e(this._element).find(".active").removeClass("active");var i=e(this._element).find(".dot");e(i[this.tabNumber]).addClass("active")}},{key:"dismiss",value:function(t){var n=e(t.currentTarget).closest(".onboard-modal");n.modal("hide"),this.reset()}},{key:"dispose",value:function(){e.removeData(this._element,r),e(this._element).off(s),this._element=null}},{key:"reset",value:function(){this.tabNumber=0,e(this._element).find(".modal-body > .row").addClass("hidden-xs-up");var t=e(this._element).find('[data-tab="'+this.tabNumber+'"]');t.removeClass("hidden-xs-up"),e(this._element).find(".dot").removeClass("active");var n=e(this._element).find(".dot");e(n[this.tabNumber]).addClass("active")}},{key:"_addEventListeners",value:function(){this.nextButton.on(c.CLICK,e.proxy(this.advanceProgress,this)),this.closeButton.on(c.CLICK,e.proxy(this.dismiss,this))}}],[{key:"_jQueryInterface",value:function(n,a){return this.each(function(){var s=e(this).data(r),o=e.extend({},t.Default,e(this).data(),"object"===("undefined"==typeof n?"undefined":i(n))&&n);if(s||(s=new t(this,o),e(this).data(r,s)),"string"==typeof n){if(void 0===s[n])throw new Error('No method named "'+n+'"');s[n](a)}else o.show&&s.show(a)})}},{key:"Default",get:function(){return u}}]),t}();return e.fn[t]=h._jQueryInterface,e.fn[t].Constructor=h,e.fn[t].noConflict=function(){return e.fn[t]=l,h._jQueryInterface},h}(e);t.default=r}).call(t,n(2))},function(e,t,n){(function(e){"use strict";function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},a=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),r=function(e){var t="pillarnav",r="bny.pillarnav",s="."+r,o=".data-api",l=e.fn[t],u={},c={CLICK:"click"+s,CLICK_DATA_API:"click"+s+o},d={OPEN:"open"},h={PILLARNAV:".pillar-nav",PILLARNAVLIST:".pillar-nav-list",LABEL:'[data-pillar-nav="label"]',ARROW:".arrow",UPDOWN:"up down"},f=function(){function t(e,i){n(this,t),this._element=e,this._addEventListeners()}return a(t,[{key:"toggle",value:function(){var n=e(this).find(h.ARROW),i=t._getDropdownFromElement(this);return e(i).toggleClass(d.OPEN),n.toggleClass(h.UPDOWN),!1}},{key:"dispose",value:function(){e.removeData(this._element,r),e(this._element).off(s),this._element=null}},{key:"_addEventListeners",value:function(){e(this._element).on(c.CLICK,this.toggle)}}],[{key:"_jQueryInterface",value:function(n,a){return this.each(function(){var s=e(this).data(r),o=e.extend({},t.Default,e(this).data(),"object"===("undefined"==typeof n?"undefined":i(n))&&n);if(s||(s=new t(this,o),e(this).data(r,s)),"string"==typeof n){if(void 0===s[n])throw new Error('No method named "'+n+'"');s[n](a)}else o.show&&s.show(a)})}},{key:"_getDropdownFromElement",value:function(t){var n=e(t).closest(h.PILLARNAV).find(h.PILLARNAVLIST);return n}},{key:"Default",get:function(){return u}}]),t}();return e(document).on(c.CLICK,h.LABEL,f.prototype.toggle),e.fn[t]=f._jQueryInterface,e.fn[t].Constructor=f,e.fn[t].noConflict=function(){return e.fn[t]=l,f._jQueryInterface},f}(e);t.default=r}).call(t,n(2))},function(e,t,n){(function(e){"use strict";function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},a=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),
Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),r=function(e){var t="qablock",r="bny.qablock",s="."+r,o=".data-api",l=e.fn[t],u={},c={CLICK:"click"+s,CLICK_DATA_API:"click"+s+o},d={CLOSEBUTTON:'[data-btn="close"]',SKIPBUTTON:'[data-btn="skip"]',ANSWERBUTTON:"[data-answer]"},h=function(){function t(i,a){n(this,t),this._element=i,this.closeButton=e(this._element).find(d.CLOSEBUTTON),this.skipButton=e(this._element).find(d.SKIPBUTTON),this.answers=e(this._element).find(d.ANSWERBUTTON),this.questions=e(".qa-block-questions"),this.progress=e(".qa-progress"),this.finish=e(".finish-block"),this.questionNumber=0,this.totalQuestions=0,this._totalNumberOfQuestions(),this._addEventListeners(),this._setPie()}return a(t,[{key:"advanceProgress",value:function(t){this.questionNumber=this._getNumberProgress(t);var n=this._setPieProgress(),i=e('[data-question="'+this.questionNumber+'"]');e(t.currentTarget).closest("div").hide(),i.removeClass("hidden-xs-up"),this.questionNumber==this.totalQuestions&&this.skip(),this.circle.setAttribute("stroke-dasharray",n+" 100")}},{key:"skip",value:function t(){var t=e(".skip");this.progress.hide(),this.questions.hide(),this.finish.removeClass("hidden-xs-up"),this.closeButton.removeClass("hidden-xs-up"),t.hide()}},{key:"dismiss",value:function(){var t=e(".qa-block");t.animate({height:0},400,function(){t.parent().hide()})}},{key:"dispose",value:function(){e.removeData(this._element,r),e(this._element).off(s),this._element=null}},{key:"_addEventListeners",value:function(){this.skipButton.on(c.CLICK,e.proxy(this.skip,this)),this.closeButton.on(c.CLICK,e.proxy(this.dismiss,this)),this.answers.on(c.CLICK,e.proxy(this.advanceProgress,this))}},{key:"_getNumberProgress",value:function(t){var n=e(t.currentTarget).closest("div").attr("data-question");return n}},{key:"_totalNumberOfQuestions",value:function(){var t=e("[data-question]");this.totalQuestions=t.length,e(".qa-progress").find(".total").text(this.totalQuestions.toString())}},{key:"_setPie",value:function(){this.pie=e(".pie"),this.NS="http://www.w3.org/2000/svg",this.svg=document.createElementNS(this.NS,"svg"),this.circle=document.createElementNS(this.NS,"circle"),this.ref=document.createElementNS(this.NS,"circle"),this.title=document.createElementNS(this.NS,"title"),this.circle.setAttribute("r",16),this.circle.setAttribute("cx",16),this.circle.setAttribute("cy",16),this.circle.setAttribute("class","progress"),this.ref.setAttribute("r",12),this.ref.setAttribute("cx",16),this.ref.setAttribute("cy",16),this.ref.setAttribute("class","reference"),this.circle.setAttribute("stroke-dasharray","0 100"),this.svg.setAttribute("viewBox","0 0 32 32"),this.title.textContent=this.pie.text(),this.pie.text(""),this.svg.appendChild(this.title),this.svg.appendChild(this.ref),this.svg.appendChild(this.circle),this.pie.append(this.svg)}},{key:"_setPieProgress",value:function(){if(this.questionNumber<=this.totalQuestions){this.questionNumber++,e(".qa-progress").find(".completed").text(this.questionNumber.toString());var t=Math.round(this.questionNumber/this.totalQuestions*100)}return t}}],[{key:"_jQueryInterface",value:function(n,a){return this.each(function(){var s=e(this).data(r),o=e.extend({},t.Default,e(this).data(),"object"===("undefined"==typeof n?"undefined":i(n))&&n);if(s||(s=new t(this,o),e(this).data(r,s)),"string"==typeof n){if(void 0===s[n])throw new Error('No method named "'+n+'"');s[n](a)}else o.show&&s.show(a)})}},{key:"Default",get:function(){return u}}]),t}();return e.fn[t]=h._jQueryInterface,e.fn[t].Constructor=h,e.fn[t].noConflict=function(){return e.fn[t]=l,h._jQueryInterface},h}(e);t.default=r}).call(t,n(2))},function(e,t,n){(function(e){"use strict";function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},a=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),r=function(e){var t="scrollarrow",r="bny.scrollarrow",s="."+r,o=e.fn[t],l={CLICK:"click"+s,SCROLL:"scroll"+s,LOAD:"load"+s},u=function(){function t(e,i){n(this,t),this._element=e,this.showTimeout,this.animate=!0,this.arrowAppearance(),this._addEventListeners()}return a(t,[{key:"scrollDownAnim",value:function(){!e(this._element).hasClass("up")&&this.animate&&e(this._element).delay(2e3).animate({bottom:"24px"},300).animate({bottom:"30px"},300).animate({bottom:"24px"},300).animate({bottom:"30px"},300,this.scrollDownAnim.bind(this))}},{key:"hideScrollArrow",value:function(){e(this._element).clearQueue(),e(this._element).animate({opacity:"0"},300,function(){e(this._element).hide(),clearTimeout(this.showTimeout),this.showTimeout=setTimeout(function(){e(this._element).show(),e(this._element).animate({opacity:"1"},300),this.animate=!0,this.scrollDownAnim()}.bind(this),4e3)}.bind(this))}},{key:"mouseWheelEvent",value:function(){this.hideScrollArrow()}},{key:"scrollDown",value:function(){if(e(this._element).hasClass("up"))e(this._element).clearQueue(),e("body,html").animate({scrollTop:"0px"},600),this.animate=!1,this.hideScrollArrow();else{var t=e(window).scrollTop()+e(window).height();this.animate=!1,this.hideScrollArrow(),e("body,html").animate({scrollTop:t+"px"},600)}}},{key:"scrollTopFooter",value:function(){e(window).scrollTop()>=e(document).height()-e(window).height()-e("footer").height()?e(this._element).addClass("up"):e(this._element).removeClass("up")}},{key:"scrollTop",value:function(){e(window).scrollTop()>=e(document).height()-e(window).height()?e(this._element).show():e(this._element).hide()}},{key:"arrowAppearance",value:function(){e(document).height()>3*e(window).height()?e(window).width()>415?(e(this._element).show(),this.scrollDownAnim()):(e(this._element).addClass("up"),e(this._element).hide()):e(this._element).hide()}},{key:"_addEventListeners",value:function(){e(document).height()>3*e(window).height()&&(e(window).width()>415?(e(window).on(l.SCROLL,e.proxy(this.scrollTopFooter,this)),e(document).on("touchmove DOMMouseScroll",e.proxy(this.mouseWheelEvent,this)),e("body,html").on("mousewheel",e.proxy(this.mouseWheelEvent,this))):e(window).on(l.SCROLL,e.proxy(this.scrollTop,this)),e(this._element).on(l.CLICK,e.proxy(this.scrollDown,this)))}}],[{key:"_jQueryInterface",value:function(n,a){return this.each(function(){var s=e(this).data(r),o=e.extend({},t.Default,e(this).data(),"object"===("undefined"==typeof n?"undefined":i(n))&&n);if(s||(s=new t(this,o),e(this).data(r,s)),"string"==typeof n){if(void 0===s[n])throw new Error('No method named "'+n+'"');s[n](a)}else o.show&&s.show(a)})}}]),t}();return e(window).on(l.LOAD,function(){var t=e(".scroll-arrow");u._jQueryInterface.call(t,t.data())}),e.fn[t]=u._jQueryInterface,e.fn[t].Constructor=u,e.fn[t].noConflict=function(){return e.fn[t]=o,u._jQueryInterface},u}(e);t.default=r}).call(t,n(2))},function(e,t,n){(function(e){"use strict";function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},a=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),r=function(e){var t="ribbonnav",r="bny.ribbonnav",s="."+r,o=e.fn[t],l={CLICK:"click"+s,LOAD:"load"+s,SCROLL:"scroll"+s,HASHCHANGE:"bnym.window.onhashchange"},u={ACTIVE:"active",OPEN:"open"},c={RIBBON_NAV:'[data-nav="scroll"]',RIBBON_NAV_WRAP:".ribbon-nav-wrap",RIBBON_TOGGLE:'[data-toggle="scroll"]',NAV_MASTHEAD:".nav-masthead",MEGA_MENU:".nav-button-holder",SECONDARY_NAV:".nav-masthead-secondary",REFINE_BAR:".refine-toggle"},d=1024,h=768,f=e(window),p=1,m=200,g=function(){function t(i){var a=this;n(this,t),this._element=i,this.mediumMediaQuery=1024,this.smallMediaQuery=768,this.$window=e(window),this._$document=e(document),this.component=e(this._element),this.ribbonNav=this.component.find(c.RIBBON_NAV_WRAP),this.ribbonToggle=this.component.find(c.RIBBON_TOGGLE),this.ribbonNavItems=this.component.find("li"),this.activeLink=this.component.find(".active"),this.navMasthead=e(0==e(c.NAV_MASTHEAD).length?c.MEGA_MENU:c.NAV_MASTHEAD),this.body=e("html, body"),this.debug=e(".debug"),this.navType=this.component.data("nav-type"),this.didScroll=!1,this.scrollDetectRefreshInterval=150,this.dy=null,this.jumps=[],this.fixedMegamenuHeight=this.navMasthead.height(),this.fixedRibbonToggleHeight=this.ribbonToggle.outerHeight(),this.fixedRibbonNavHeight=this.ribbonNav.height(),this.fixedY=this.component.offset().top+this.component.height()-this.fixedMegamenuHeight,this.navType!=p&&(this.jumps=this._getJumps()),this.$window.width()<this.mediumMediaQuery&&(this._setMobileNav(),this.navType!=p?this.ribbonToggle.find("span").text(this.jumps[0].link.find("a > div").text()):this.ribbonToggle.find("span").text(this.activeLink[0].innerText)),this.checkScrollInterval=setInterval(function(){a.fixedY<0&&(a.fixedY=a.component.offset().top+a.component.height()-a.fixedMegamenuHeight),a.didScroll&&(a.navType!=p?a._hasScrolled():a._hasScrolledSubnav(),a.didScroll=!1)},this.scrollDetectRefreshInterval),this.navType!=p?this._hasScrolled():this._hasScrolledSubnav(),this._addEventListeners()}return a(t,[{key:"toggle",value:function(e){this.component.toggleClass(u.OPEN)}},{key:"hashChange",value:function(n,i){var a="";if(void 0!=i){var r=i.scrolltarget;if(a=void 0!=i.urlparams&&void 0!=i.urlparams.type?i.urlparams.type:"news",null!=r){var s=e(r).offset().top;t.prototype.subnavScroll(s)}t.prototype.setActiveState(a)}}},{key:"setActiveState",value:function(t){var n=e(c.RIBBON_NAV),i=n.find("li"),a=n.find(c.RIBBON_TOGGLE);f.width()<d&&(void 0===t&&(t="news"),a.find("span").text(t)),i.removeClass(u.ACTIVE),t=i.find('a[data-filter-val="'+t+'"]').closest("li"),t.length>0?t.addClass(u.ACTIVE):(t=i.find('a[data-filter-val="news"]').closest("li"),t.addClass(u.ACTIVE))}},{key:"subnavClick",value:function(t){e(t.currentTarget).attr("data-filter-in-page")&&t.preventDefault();var n=e(t.currentTarget).attr("href");n.indexOf("=")>0&&(n=n.split("=")[1].replace("%20"," ")),this.component.attr("data-subnav-selected",n)}},{key:"subnavScroll",value:function(t){var n=e(c.RIBBON_NAV),i=n.data("nav-type"),a=e(c.SECONDARY_NAV),r=e("html, body"),s=0,o=n.find(c.RIBBON_NAV_WRAP).height(),l=e(0==e(c.NAV_MASTHEAD).length?c.MEGA_MENU:c.NAV_MASTHEAD),g=l.height(),v=n.find(c.RIBBON_TOGGLE).outerHeight();return f.width()<h?(s=n.hasClass("fixed")?v+g:o-g-e(".page-title").height()-v,t=i===p?Math.ceil(t-s):Math.ceil(t+(g+s))):f.width()>h&&f.width()<d?a.length>0?(s=2*v,t=Math.ceil(t+g-s)):(s=v+g,t=i===p?Math.ceil(t-s):Math.ceil(t+(g+s))):(s=n.hasClass("fixed")?o:2*o,t=Math.ceil(t-g-s)),r.animate({scrollTop:t},m),n.removeClass(u.OPEN),!1}},{key:"jump",value:function(t){var n=e(t.currentTarget).attr("href"),i=e(n).offset().top;return n!==this.ribbonNavItems.find(".active a").attr("href")&&void 0!=e(n).offset()&&void this.subnavScroll(i)}},{key:"expandMobileNav",value:function(e){return this.ribbonNav.removeClass("condensed-nav"),this.component.find('a[href="#ribbonnavmore"]').closest("li").remove(),this.ribbonNavItems.show(),!1}},{key:"dispose",value:function(){e.removeData(this._element,r),e(this._element).off(s),this._element=null}},{key:"_addEventListeners",value:function(){var t=this;e(window).on("scroll",function(e){t.didScroll=!0}),this.navType===p?e(this.ribbonNavItems).find("a").on(l.CLICK,e.proxy(this.subnavClick,this)):e(this.ribbonNavItems).find("a").on(l.CLICK,e.proxy(this.jump,this)),e(this.ribbonToggle).on(l.CLICK,e.proxy(this.toggle,this))}},{key:"_setMobileNav",value:function(){if(this.ribbonNavItems.length>4){this.ribbonNav.addClass("condensed-nav");var t=e('<li><a href="#ribbonnavmore"><div>More</div></a></li>');t.find("a").on(l.CLICK,e.proxy(this.expandMobileNav,this)),this.ribbonNavItems.eq(2).after(t),t.nextAll().hide()}}},{key:"_hasScrolledSubnav",value:function(){this.dy=this.$window.scrollTop(),this.dy>this.fixedY&&this.fixedY>=0&&(this.$window.width()<this.mediumMediaQuery&&this.ribbonToggle.css("display","block"),this.component.addClass("fixed"),this.expandMobileNav()),this.dy<this.fixedY+e(".page-title").height()&&this.component.removeClass("fixed")}},{key:"_hasScrolled",value:function(){var t=this;if(this.dy=this.$window.scrollTop(),this.dy>this.fixedY&&this.fixedY>=0){this.$window.width()<this.mediumMediaQuery&&this.ribbonToggle.css("display","block"),this.component.addClass("fixed"),this.expandMobileNav();for(var n=this.jumps.length-1;n>=0;n--){var i=this.jumps[n],a=this.$window.width()<this.mediumMediaQuery?i.offset-this.fixedMegamenuHeight-2*this.fixedRibbonToggleHeight:i.offset-this.fixedMegamenuHeight-2*this.fixedRibbonNavHeight;if(this.dy>=a){this.ribbonNavItems.removeClass(u.ACTIVE),e(i.link).addClass(u.ACTIVE);var r=e(i.link).find("a > div").text();this.ribbonToggle.find("span").text(r);break}}}else this.component.removeClass("fixed open"),this.ribbonNavItems.removeClass(u.ACTIVE),setTimeout(function(){t.ribbonNav.css("top","")},225),this.ribbonToggle.css("display","none")}},{key:"_getJumps",value:function(){for(var t=[],n=this.component.find("a"),i=e.map(n,function(t){return e(t).attr("href")}),a=i.length-1;a>=0;a--){var r=e(i[a]).length>0?e(i[a]).offset().top:0,s=this.ribbonNavItems.find('a[href="'+i[a]+'"]').closest("li");t.push({id:i[a],link:s,offset:r})}return t.sort(function(e,t){return parseFloat(e.offset)-parseFloat(t.offset)}),t}}],[{key:"_jQueryInterface",value:function(n,a){return this.each(function(){var s=e(this).data(r),o=e.extend({},t.Default,e(this).data(),"object"===("undefined"==typeof n?"undefined":i(n))&&n);if(s||(s=new t(this,o),e(this).data(r,s)),"string"==typeof n){if(void 0===s[n])throw new Error('No method named "'+n+'"');s[n](a)}else o.show&&s.show(a)})}}]),t}();return e(window).on(l.LOAD,function(){var t=e(c.RIBBON_NAV);g._jQueryInterface.call(t,t.data())}),e(document).on(l.HASHCHANGE,g.prototype.hashChange),e.fn[t]=g._jQueryInterface,e.fn[t].Constructor=g,e.fn[t].noConflict=function(){return e.fn[t]=o,g._jQueryInterface},g}(e);t.default=r}).call(t,n(2))},function(e,t,n){(function(e){"use strict";function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},a=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),r=function(e){var t="smallstoriespacked",r="bny.smallstoriespacked",s=e.fn[t],o={},l={COMPONENT:'[data-ui="small-stories-packed"]',COUNTER:'[data-small-stories="counter"]',CURRENT_COUNT:".current",TOTAL_COUNT:".total"},u=function(){function t(i,a){n(this,t),this._element=i,this.component=e(this._element),this.counter=e(l.COUNTER),this.currentCount=this.counter.find(l.CURRENT_COUNT),this.totalCount=this.counter.find(l.TOTAL_COUNT),this._addEventListeners(),this._initialize()}return a(t,[{key:"_initialize",value:function(){e(this._element).slick({mobileFirst:!0,dots:!1,infinite:!1,slidesToShow:1,slidesToScroll:1,accessibility:!1,prevArrow:'<button type="button" class="btn btn-icon slick-prev"><i class="i-angle-left twhite i-xs"></i></button>',nextArrow:'<button type="button" class="btn btn-icon slick-next"><i class="i-angle-right twhite i-xs"></i></button>',responsive:[{breakpoint:767,settings:{slidesToShow:2}},{breakpoint:1023,settings:"unslick"}]})}},{key:"_addEventListeners",value:function(){var e=this;this.component.on("init",function(t,n){e.currentCount.text(n.currentSlide+1),e.totalCount.text(n.slideCount)}),this.component.on("afterChange",function(t,n,i){e.currentCount.text(n.currentSlide+1),e.totalCount.text(n.slideCount)})}}],[{key:"_jQueryInterface",value:function(n,a){return this.each(function(){var s=e(this).data(r),o=e.extend({},t.Default,e(this).data(),"object"===("undefined"==typeof n?"undefined":i(n))&&n);if(s||(s=new t(this,o),e(this).data(r,s)),"string"==typeof n){if(void 0===s[n])throw new Error('No method named "'+n+'"');s[n](a)}})}},{key:"Default",get:function(){return o}}]),t}();return e(function(){var t=e(l.COMPONENT);u._jQueryInterface.call(t,t.data())}),e(window).resize(function(){var t=e(l.COMPONENT);t.slick("resize")}),e.fn[t]=u._jQueryInterface,e.fn[t].Constructor=u,e.fn[t].noConflict=function(){return e.fn[t]=s,u._jQueryInterface},u}(e);t.default=r}).call(t,n(2))},function(e,t,n){(function(e){"use strict";function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},a=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),r=function(e){var t="textcarousel",r="bny.textcarousel",s="."+r,o=e.fn[t],l={CLICK:"click"+s,LOAD:"load"+s,TOUCHSTART:"touchstart"+s,TOUCHMOVE:"touchmove"+s,TOUCHEND:"touchend"+s,CLICK_TEXTCAROUSEL:"onclick.bnym.textcarousel"},u={COMPONENT:'[data-ui="textcarousel"]',HOLDER:".text-carousel-items",BTN_PREV:".btn-prev",BTN_NEXT:".btn-next",DOT:".dot",DOTS:".text-carousel-dots",ITEMS:".text-carousel-items",CAROUSEL_BODY:".text-carousel-items"},c=function(){function t(i,a){n(this,t),this._element=i,this._initialize(),this._$document=e(document),this._addEventListeners()}return a(t,[{key:"dispose",value:function(){e.removeData(this._element,r),e(this._element).off(s),this._element=null}},{key:"goToPreviousItem",value:function(e){this._goTo(this._current-1)}},{key:"goToNextItem",value:function(e){this._goTo(this._current+1)}},{key:"goToSelectedItem",value:function(t){var n=e(t.target).closest("li");this._goTo(n.index())}},{key:"onPreviousButtonClick",value:function(e){this.goToPreviousItem(),this._$document.trigger(l.CLICK_TEXTCAROUSEL,u.BTN_PREV)}},{key:"onNextButtonClick",value:function(e){this.goToNextItem(),this._$document.trigger(l.CLICK_TEXTCAROUSEL,u.BTN_NEXT)}},{key:"onDotClick",value:function(e){this.goToSelectedItem(e),this._$document.trigger(l.CLICK_TEXTCAROUSEL,u.DOTS)}},{key:"onTouchStart",value:function(e){this._ready&&(this._startX=e.touches[0].clientX,this._holderStartX=this._$holder.offset().left-35)}},{key:"onTouchMove",value:function(e){if(this._ready){var t=e.changedTouches[0].clientX,n=t-this._startX;this._$holder.css({left:this._holderStartX+n+"px"})}}},{key:"onTouchEnd",value:function(e){if(this._ready){var t=e.changedTouches[0].clientX,n=t-this._startX;n<-20&&this._current<this._count?(this._goTo(this._current+1),this._$document.trigger(l.CLICK_TEXTCAROUSEL,u.BTN_NEXT)):n>20&&this._current>0?(this._goTo(this._current-1),this._$document.trigger(l.CLICK_TEXTCAROUSEL,u.BTN_PREV)):this._goTo(this._current)}}},{key:"_initialize",value:function(){this._current=0,this._timer=null,this._startX=null,this._ready=!0,this._$holder=e(this._element).find(u.HOLDER),this._$prevbtn=e(this._element).find(u.BTN_PREV),this._$nextbtn=e(this._element).find(u.BTN_NEXT),this._$dot=e(this._element).find(u.DOT),this._$dots=e(this._element).find(u.DOTS),this._$carouselbody=e(this._element).find(u.CAROUSEL_BODY),this._count=e(this._element).find(u.ITEMS).children().length,this._goTo(this._current)}},{key:"_addEventListeners",value:function(){this._$prevbtn.on(l.CLICK,e.proxy(this.onPreviousButtonClick,this)),this._$nextbtn.on(l.CLICK,e.proxy(this.onNextButtonClick,this)),this._$dots.on(l.CLICK,e.proxy(this.onDotClick,this)),e(window).width()<=768&&this._initTouchEvents()}},{key:"_initTouchEvents",value:function(){this._$carouselbody.on(l.TOUCHSTART,e.proxy(this.onTouchStart,this)),this._$carouselbody.on(l.TOUCHMOVE,e.proxy(this.onTouchMove,this)),this._$carouselbody.on(l.TOUCHEND,e.proxy(this.onTouchEnd,this))}},{key:"_goTo",value:function(t){t>this._count-1?t=0:t<0&&(t=this._count-1);var n=-t*e(this._$holder.find("li")[0]).width();this._$holder.animate({left:n+"px"},300),this._$dot.removeClass("active"),e(this._$dot[t]).addClass("active"),this._current=t,this._startTimer()}},{key:"_startTimer",value:function(){var e=this;clearTimeout(this._timer),this._timer=setTimeout(function(){e._goTo(e._current+1)},6e3)}}],[{key:"_jQueryInterface",value:function(n,a){return this.each(function(){var s=e(this).data(r),o=e.extend({},t.Default,e(this).data(),"object"===("undefined"==typeof n?"undefined":i(n))&&n);if(s||(s=new t(this,o),e(this).data(r,s)),"string"==typeof n){if(void 0===s[n])throw new Error('No method named "'+n+'"');s[n](a)}else o.show&&s.show(a)})}},{key:"_getTagItemFromElement",value:function(t){var n=e(t).find("span");return n}}]),t}();return e(window).on(l.LOAD,function(){var t=e(u.COMPONENT);c._jQueryInterface.call(t,t.data())}),e.fn[t]=c._jQueryInterface,e.fn[t].Constructor=c,e.fn[t].noConflict=function(){return e.fn[t]=o,c._jQueryInterface},c}(e);t.default=r}).call(t,n(2))},function(e,t,n){(function(e){"use strict";function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},a=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),r=function(e){var t="tilepanes",r="bny.tilepanes",s="."+r,o=e.fn[t],l=768,u=400,c={CLICK:"click"+s},d={ACTIVE:"active",ROW_ENGAGED:"row-tile-engaged"},h={COMPONENT:".tilepanes",TILE_ROW:".row-tile-pane",TILE:".col-tile",TILE_PANE:".tile-pane",ACTIVE:".active",ACTIVE_ROW:".row-tile-engaged",TILE_ITEM:'[data-toggle="tileitem"]'},f=function(){function t(i,a){n(this,t),this._element=i,this._isActive=!1,this._currentWidth=e(window).width(),this._viewport=this._currentWidth<l?"xs":"sm",this.initEventListeners()}return a(t,[{key:"initEventListeners",value:function(){var t=this;e(window).resize(function(){var n=e(window).width();n!==t._currentWidth&&((n<l&&t._currentWidth>=l||n>=l&&t._currentWidth<l)&&t.reset(),t._currentWidth=n)}),e(document).on(c.CLICK,h.TILE_ITEM,function(e){return t.toggle(e)})}},{key:"activateXS",value:function(e){this._isActive&&this.deactivate(),e.targetPane.slideDown(u),e.targetTile.addClass(d.ACTIVE),this._isActive=!0}},{key:"deactivateXS",value:function(e){e.targetPane.slideUp(u),e.targetTile.removeClass(d.ACTIVE),this._isActive=!1}},{key:"activateSM",value:function(e){this._isActive&&this.deactivate(),e.rows.addClass(d.ROW_ENGAGED);var t=e.targetPane.outerHeight();e.targetRow.css("margin-bottom",t+"px"),e.targetTile.addClass(d.ACTIVE),this._isActive=!0}},{key:"deactivateSM",value:function(e){e.rows.removeClass(d.ROW_ENGAGED),e.activeRow.css("margin-bottom",""),e.activeTile.removeClass(d.ACTIVE),this._isActive=!1}},{key:"toggle",value:function(t){var n=e(t.target),i=n.closest(h.TILE),a=i.closest(h.TILE_ROW),r=a.siblings(h.TILE_ROW).addBack(),s=r.find(h.TILE),o=s.filter(h.ACTIVE),u={targetRow:a,targetTile:i,targetPane:i.find(h.TILE_PANE),rows:r,tiles:s,activeTile:o,activePane:o.find(h.TILE_PANE),activeRow:o.closest(h.TILE_ROW),siblingActivePane:a.find(h.ACTIVE).find(".tile-pane")};e(window).width()<l?(i.hasClass(d.ACTIVE)?this.deactivateXS(u):this.activateXS(u),this._viewport="xs"):(i.hasClass(d.ACTIVE)?this.deactivateSM(u):this.activateSM(u),this._viewport="sm")}},{key:"reset",value:function(){var t=e(h.COMPONENT).find(h.TILE_ROW),n=e(h.COMPONENT).find(h.TILE),i=e(h.TILE_PANE);t.css("margin-bottom",""),t.removeClass(d.ROW_ENGAGED),n.removeClass(d.ACTIVE),i.css("display","")}},{key:"deactivate",value:function(){if(this._isActive){var t=e(h.COMPONENT).find(h.TILE_ROW),n=e(h.TILE).filter(h.ACTIVE);"xs"===this._viewport?this.deactivateXS({rows:t,targetPane:n.find(h.TILE_PANE),targetTile:n}):"sm"===this._viewport&&this.deactivateSM({rows:t,activeTile:n,activeRow:t})}}},{key:"dispose",value:function(){e.removeData(this._element,r),e(this._element).off(s),this._element=null}}],[{key:"_jQueryInterface",value:function(n,a){return this.each(function(){var s=e(this).data(r),o=e.extend({},t.Default,e(this).data(),"object"===("undefined"==typeof n?"undefined":i(n))&&n);if(s||(s=new t(this,o),e(this).data(r,s)),"string"==typeof n){if(void 0===s[n])throw new Error('No method named "'+n+'"');s[n](a)}else o.show&&s.show(a)})}}]),t}();return e(function(){var t=e(h.COMPONENT);f._jQueryInterface.call(t,t.data())}),e.fn[t]=f._jQueryInterface,e.fn[t].Constructor=f,e.fn[t].noConflict=function(){return e.fn[t]=o,f._jQueryInterface},f}(e);t.default=r}).call(t,n(2))},function(e,t,n){(function(e){"use strict";function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},a=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),r=function(e){var t="togglebutton",r="bny.togglebutton",s="."+r,o=e.fn[t],l={},u={CLICK:"click"+s},c={TOGGLEBUTTON:'[data-toggle="button"]'},d=function(){function t(e,i){n(this,t),this._element=e}return a(t,[{key:"toggle",value:function(){var t=e(this).text(),n=e(this).attr("data-toggle-name");return e(this).text(n),e(this).attr("data-toggle-name",t),e(this).toggleClass("active"),!1}},{key:"dispose",value:function(){e.removeData(this._element,r),e(this._element).off(s),this._element=null}}],[{key:"_jQueryInterface",value:function(n,a){return this.each(function(){var s=e(this).data(r),o=e.extend({},t.Default,e(this).data(),"object"===("undefined"==typeof n?"undefined":i(n))&&n);if(s||(s=new t(this,o),e(this).data(r,s)),"string"==typeof n){if(void 0===s[n])throw new Error('No method named "'+n+'"');s[n](a)}else o.show&&s.show(a)})}},{key:"_getTagItemFromElement",value:function(t){var n=e(t).find("span");return n}},{key:"Default",get:function(){return l}}]),t}();return e(document).on(u.CLICK,c.TOGGLEBUTTON,d.prototype.toggle),e.fn[t]=d._jQueryInterface,e.fn[t].Constructor=d,e.fn[t].noConflict=function(){return e.fn[t]=o,d._jQueryInterface},d}(e);t.default=r}).call(t,n(2))},function(e,t,n){(function(e){"use strict";function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},a=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),r=function(e){var t="ToggleList",r="bny.ToggleList",s="."+r,o=".data-api",l=e.fn[t],u={},c={CLICK:"click"+s,CLICK_DATA_API:"click"+s+o},d={TAGTOGGLE:'[data-tag="toggle-tag"]'},h=function(){function t(e,i){n(this,t),this._element=e}return a(t,[{key:"toggle",value:function(){var e=t._getTagItemFromElement(this);return e.toggleClass("active"),!1}},{key:"dispose",value:function(){e.removeData(this._element,r),e(this._element).off(s),this._element=null}}],[{key:"_jQueryInterface",value:function(n,a){return this.each(function(){var s=e(this).data(r),o=e.extend({},t.Default,e(this).data(),"object"===("undefined"==typeof n?"undefined":i(n))&&n);if(s||(s=new t(this,o),e(this).data(r,s)),"string"==typeof n){if(void 0===s[n])throw new Error('No method named "'+n+'"');s[n](a)}else o.show&&s.show(a)})}},{key:"_getTagItemFromElement",value:function(t){var n=e(t).find("span");return n}},{key:"Default",get:function(){return u}}]),t}();return e(document).on(c.CLICK,d.TAGTOGGLE,h.prototype.toggle),e.fn[t]=h._jQueryInterface,e.fn[t].Constructor=h,e.fn[t].noConflict=function(){return e.fn[t]=l,h._jQueryInterface},h}(e);t.default=r}).call(t,n(2))},function(e,t,n){"use strict";var i=n(2);e.exports=function(){i(".toptabpanes").each(function(){function e(){a[u].hide(),r[u].removeClass("active"),u==a.length-1?u=0:u++,r[u].addClass("active"),a[u].show()}function t(){a[u].hide(),r[u].removeClass("active"),0==u?u=a.length-1:u--,r[u].addClass("active"),a[u].show()}var n=i(this),a=[],r=[],s=n.find(".tabs").find(".tab");n.children(".toptabpanes-item").each(function(e){a.push(i(this))});for(var o in a){var l=i(document.createElement("li"));n.find(".clickthrough-dots").append(l),l.addClass("dot"),r.push(l),0!=o?a[o].hide():l.addClass("active")}var u=0;n.children(".handle-right").click(function(){e()}),n.children(".handle-left").click(function(){t()}),s.click(function(e){var t=i(this);a[u].hide(),u=t.data("index"),a[u].show(),s.removeClass("active"),t.addClass("active")})})}},function(e,t,n){"use strict";var i=n(2);e.exports=function(){i(".btn-condense");i(".btn-condense").click(function(e){i(this).closest(".row-detail-content").removeClass("condensed")})}},function(e,t,n){(function(e){"use strict";function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),a=function(e){var t="refinebar",a="bny.refinebar",r="."+a,s=e.fn[t],o={CLICK:"click"+r,KEYDOWN:"keydown"+r,CHANGE_DROPDOWN:"change.bny.dropdown",CHANGE:"change"+r,HASHCHANGE:"bnym.window.onhashchange"},l={BACKDROP:"refinebar-backdrop",OPEN:"open",ACTIVE:"active",SELECTED:"data-selected",DISABLED:"disabled",XS_FILTERED:"filtered"},u={COMPONENT:'[data-ui="refinebar"]',SELECTED_LIST:".refine-selected-list",SELECTED_CRITERIA:'[data-refine="toggle"][data-selected] > span',TOGGLE:'[data-refine="toggle"]',SELECTED_TOGGLE:'[data-refine="toggle"][data-selected]',REFINE_SM_ROW:".row-refine-sm",TOGGLE_PANE:'[data-refine="pane"]',TOGGLE_ITEM:'[data-refine="pane"] a',FILTER_BUTTON:'[data-refine="apply"]',CLEAR_BUTTON:'[data-refine="clear"]',CLEAR_ALL_BUTTON:'[data-refine="clearall"]',DATA_VALUE:"data-val",MODAL_OPEN:'[data-refine="open"]',BACKDROP:".refine-backdrop"},c=function(){function t(i){n(this,t),this._element=i;for(var a=e(i).find(".refine-list li a"),r=0;r<a.length;r++){var s="#filter-"+e(a[r]).html().toLowerCase().replace(/ /g,"-");e(a[r]).attr("href",s)}}return i(t,[{key:"toggle",value:function n(i){
var n=e(i.target).closest(u.TOGGLE),a=n[0].parentNode,r=e(a).hasClass(l.OPEN);return t._clearMenus(),!r&&(n.focus(),e(a).addClass(l.OPEN),!1)}},{key:"hashChange",value:function(n,i){var a=e(".ribbon-nav.sub-nav"),r=a.attr("data-subnav-selected");r&&a.removeAttr("data-subnav-selected");var s=[];if(void 0!=i.urlparams){var o=i.urlparams.type,l=i.urlparams.category,u=i.urlparams.region,c=i.urlparams.format,d=i.urlparams.page,h=i.urlparams.sort;null!=o&&void 0!=o&&s.push(o),null!=l&&void 0!=l&&s.push(l),null!=u&&void 0!=u&&s.push(u),null!=c&&void 0!=c&&s.push(c),null!=d&&void 0!=d&&s.push(d),null!=h&&void 0!=h&&s.push(h)}t.prototype.updateState(n,s)}},{key:"selectToggle",value:function(n){var i=n,a=i.attr(u.DATA_VALUE),r=i.text(),s=i.closest(u.TOGGLE_PANE),o=s.find("a"),c=s.prev(u.TOGGLE),d=c.find("span"),h=c.closest(u.COMPONENT);h.find(u.MODAL);return o.removeClass(l.ACTIVE),i.addClass(l.ACTIVE),e(d).text(r),e(c).attr(l.SELECTED,a),e(window).width()>=768&&(s.find(u.CLEAR_BUTTON).show(),t.prototype._triggerChangeEvent(h)),e(window).width()<768&&e(".col-newsroom").css("position",""),e(c).focus(),t._clearMenus(),!1}},{key:"filter",value:function(n){var i=(n.find(u.TOGGLE+" > span"),n.find(u.SELECTED_CRITERIA)),a=n.find(u.SELECTED_LIST);e(a).empty(),e(i).length>0&&(e(i).each(function(t,n){e("<li/>").html(e(n).text()).appendTo(a)}),n.addClass(l.XS_FILTERED)),t.prototype._triggerChangeEvent(n),t.prototype.hideModal(n),t._clearMenus()}},{key:"resetFilters",value:function(t){var n=e(t.target).closest(u.COMPONENT),i=n.find(u.TOGGLE),a=n.find(u.TOGGLE_ITEM),r=n.find(u.TOGGLE_PANE).find(u.CLEAR_BUTTON),s=n.find(u.SELECTED_LIST);e(s).empty(),a.removeClass(l.DISABLED).removeClass(l.ACTIVE),r.hide(),n.removeClass(l.XS_FILTERED),e(i).each(function(t,n){var i=e(n).attr("data-label");e(n).removeAttr(l.SELECTED).find("span").text(i)})}},{key:"resetFilter",value:function(t){var n=e(t.currentTarget),i=n.closest(u.TOGGLE_PANE),a=i.find("a"),r=i.prev(u.TOGGLE),s=r.attr("data-label");a.removeClass(l.DISABLED).removeClass(l.ACTIVE),n.hide(),r.removeAttr(l.SELECTED).find("span").text(s);var o=n.closest(u.COMPONENT);if(0===o.find(u.SELECTED_TOGGLE).length){o.removeClass(l.XS_FILTERED);var c=o.find(u.SELECTED_LIST);e(c).empty()}}},{key:"resetAllFilters",value:function(){var t=e(u.COMPONENT),n=t.find(u.TOGGLE),i=t.find(u.TOGGLE_ITEM),a=t.find(u.TOGGLE_PANE).find(u.CLEAR_BUTTON),r=t.find(u.SELECTED_LIST);e(r).empty(),i.removeClass(l.DISABLED).removeClass(l.ACTIVE),a.hide(),t.removeClass(l.XS_FILTERED),e(n).each(function(t,n){var i=e(n).attr("data-label");e(n).removeAttr(l.SELECTED).find("span").text(i)})}},{key:"showModal",value:function(t){var n=e(u.COMPONENT),i=n.find(u.BACKDROP);n.addClass(l.OPEN),i.show()}},{key:"hideModal",value:function(e){console.log("hideModal mobile")}},{key:"hideModalApply",value:function(t){console.log("hideModal apply filter on mobile");var n=e(u.COMPONENT),i=n.find(u.BACKDROP);window.scrollTo(0,0),n.removeClass(l.OPEN),i.hide()}},{key:"disable",value:function(t){for(var n=e(this._element),i=t.disable,a=function(t){var a=i[t].name,r=i[t].values;n.find('[data-name="'+a+'"]').each(function(t,n){for(var i=r.length-1;i>=0;i--)e(n).attr("data-val")==r[i]&&e(n).addClass(l.DISABLED)})},r=i.length-1;r>=0;r--)a(r)}},{key:"dispose",value:function(){e.removeData(this._element,a),e(this._element).off(r),this._element=null}},{key:"updateState",value:function(n,i){if(t.prototype.resetAllFilters(),null!=i&&i.length>0&&(t.prototype.setSelectState(i),e(window).width()<768)){var a=e(n.target).find(u.COMPONENT);t.prototype.filter(a)}}},{key:"setSelectState",value:function(n){for(var i=0;i<n.length;i++){var a=u.TOGGLE_ITEM+'[data-val="'+n[i]+'"]',r=e(a);t.prototype.selectToggle(r)}}},{key:"setUnselectedState",value:function(){var t=e(u.CLEAR_BUTTON).first();t.trigger("click")}},{key:"_triggerChangeEvent",value:function(t){var n=t.find(u.SELECTED_TOGGLE),i={changeTargets:[]};e(n).each(function(t,n){var a=e(n).attr("data-name"),r=e(n).attr("data-selected");i.changeTargets[t]={name:a,value:r}});var a=e.Event(o.CHANGE,i);e(t).trigger(a)}}],[{key:"_clearMenus",value:function(t){for(var n=e.makeArray(e(u.TOGGLE)),i=0;i<n.length;i++){var a=n[i].parentNode;e(a).hasClass(l.OPEN)&&e(a).removeClass(l.OPEN)}}},{key:"_jQueryInterface",value:function(n){return this.each(function(){var i=e(this).data(a);if(i||e(this).data(a,i=new t(this)),"string"==typeof n){if(void 0===i[n])throw new Error('No method named "'+n+'"');i[n].call(this)}else n.disable&&i.disable(n)})}}]),t}();return e(function(){var t=e(u.COMPONENT);c._jQueryInterface.call(t,t.data())}),e(document).on(o.CLICK,c._clearMenus).on(o.CLICK,u.MODAL_OPEN,c.prototype.showModal).on(o.CLICK,u.FILTER_BUTTON,c.prototype.hideModalApply).on(o.CLICK,u.TOGGLE,c.prototype.toggle).on(o.CLICK,u.CLEAR_BUTTON,c.prototype.resetFilter).on(o.CLICK,u.CLEAR_ALL_BUTTON,c.prototype.resetFilters).on(o.HASHCHANGE,c.prototype.hashChange),e.fn[t]=c._jQueryInterface,e.fn[t].Constructor=c,e.fn[t].noConflict=function(){return e.fn[t]=s,c._jQueryInterface},c}(e);t.default=a}).call(t,n(2))},function(e,t,n){"use strict";var i=n(65),a=n(2);e.exports=function(){a(".dropdown-split [data-event-title]");a(document).on("click",".dropdown-split [data-event-title]",function(e){e.preventDefault();var t=a(this),n=t.attr("data-event-title"),r=t.attr("data-event-description"),s=t.attr("data-event-location"),o=t.attr("data-event-start-date"),l=t.attr("data-event-end-date"),u=(0,i.ics)();u.addEvent(n,r,s,o,l),u.download(n)})}},function(e,t,n){var i;Object.defineProperty(t,"__esModule",{value:!0});/*! ics.js
		Wed Aug 20 2014 17:23:02
		URL: https://github.com/nwcell/ics.js/
		Release: 75ced77
	*/
var a=a||function(e){"use strict";if(!("undefined"==typeof e||"undefined"!=typeof navigator&&/MSIE [1-9]\./.test(navigator.userAgent))){var t=e.document,n=function(){return e.URL||e.webkitURL||e},i=t.createElementNS("http://www.w3.org/1999/xhtml","a"),a="download"in i,r=function(e){var t=new MouseEvent("click");e.dispatchEvent(t)},s=/constructor/i.test(e.HTMLElement)||e.safari,o=/CriOS\/[\d]+/.test(navigator.userAgent),l=function(t){(e.setImmediate||e.setTimeout)(function(){throw t},0)},u="application/octet-stream",c=4e4,d=function(e){var t=function(){"string"==typeof e?n().revokeObjectURL(e):e.remove()};setTimeout(t,c)},h=function(e,t,n){t=[].concat(t);for(var i=t.length;i--;){var a=e["on"+t[i]];if("function"==typeof a)try{a.call(e,n||e)}catch(e){l(e)}}},f=function(e){return/^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(e.type)?new Blob([String.fromCharCode(65279),e],{type:e.type}):e},p=function t(l,c,p){p||(l=f(l));var m,t=this,g=l.type,v=g===u,y=function(){h(t,"writestart progress write writeend".split(" "))},_=function(){if((o||v&&s)&&e.FileReader){var i=new FileReader;return i.onloadend=function(){var n=o?i.result:i.result.replace(/^data:[^;]*;/,"data:attachment/file;"),a=e.open(n,"_blank");a||(e.location.href=n),n=void 0,t.readyState=t.DONE,y()},i.readAsDataURL(l),void(t.readyState=t.INIT)}if(m||(m=n().createObjectURL(l)),v)e.location.href=m;else{var a=e.open(m,"_blank");a||(e.location.href=m)}t.readyState=t.DONE,y(),d(m)};return t.readyState=t.INIT,a?(m=n().createObjectURL(l),void setTimeout(function(){i.href=m,i.download=c,r(i),y(),d(m),t.readyState=t.DONE})):void _()},m=p.prototype,g=function(e,t,n){return new p(e,t||e.name||"download",n)};return"undefined"!=typeof navigator&&navigator.msSaveOrOpenBlob?function(e,t,n){return t=t||e.name||"download",n||(e=f(e)),navigator.msSaveOrOpenBlob(e,t)}:(m.abort=function(){},m.readyState=m.INIT=0,m.WRITING=1,m.DONE=2,m.error=m.onwritestart=m.onprogress=m.onwrite=m.onabort=m.onerror=m.onwriteend=null,g)}}("undefined"!=typeof self&&self||"undefined"!=typeof window&&window||(void 0).content);"undefined"!=typeof e&&e.exports?e.exports.saveAs=a:null!==n(66)&&null!==n(67)&&(i=function(){return a}.call(t,n,t,e),!(void 0!==i&&(e.exports=i)));var r=function(e,t){"use strict";if(!(navigator.userAgent.indexOf("MSIE")>-1&&-1==navigator.userAgent.indexOf("MSIE 10"))){void 0===e&&(e="default"),void 0===t&&(t="Calendar");var n=-1!==navigator.appVersion.indexOf("Win")?"\r\n":"\n",i=[],r=["BEGIN:VCALENDAR","PRODID:"+t,"VERSION:2.0"].join(n),s=n+"END:VCALENDAR",o=["SU","MO","TU","WE","TH","FR","SA"];return{events:function(){return i},calendar:function(){return r+n+i.join(n)+s},addEvent:function(t,a,r,s,l,u){if(void 0===t||void 0===a||void 0===r||void 0===s||void 0===l)return!1;if(u&&!u.rrule){if("YEARLY"!==u.freq&&"MONTHLY"!==u.freq&&"WEEKLY"!==u.freq&&"DAILY"!==u.freq)throw"Recurrence rrule frequency must be provided and be one of the following: 'YEARLY', 'MONTHLY', 'WEEKLY', or 'DAILY'";if(u.until&&isNaN(Date.parse(u.until)))throw"Recurrence rrule 'until' must be a valid date string";if(u.interval&&isNaN(parseInt(u.interval)))throw"Recurrence rrule 'interval' must be an integer";if(u.count&&isNaN(parseInt(u.count)))throw"Recurrence rrule 'count' must be an integer";if(void 0!==u.byday){if("[object Array]"!==Object.prototype.toString.call(u.byday))throw"Recurrence rrule 'byday' must be an array";if(u.byday.length>7)throw"Recurrence rrule 'byday' array must not be longer than the 7 days in a week";u.byday=u.byday.filter(function(e,t){return u.byday.indexOf(e)==t});for(var c in u.byday)if(o.indexOf(u.byday[c])<0)throw"Recurrence rrule 'byday' values must include only the following: 'SU', 'MO', 'TU', 'WE', 'TH', 'FR', 'SA'"}}var d=new Date(s),h=new Date(l),f=new Date,p=("0000"+d.getFullYear().toString()).slice(-4),m=("00"+(d.getMonth()+1).toString()).slice(-2),g=("00"+d.getDate().toString()).slice(-2),v=("00"+d.getHours().toString()).slice(-2),y=("00"+d.getMinutes().toString()).slice(-2),_=("00"+d.getSeconds().toString()).slice(-2),b=("0000"+h.getFullYear().toString()).slice(-4),T=("00"+(h.getMonth()+1).toString()).slice(-2),k=("00"+h.getDate().toString()).slice(-2),S=("00"+h.getHours().toString()).slice(-2),C=("00"+h.getMinutes().toString()).slice(-2),w=("00"+h.getMinutes().toString()).slice(-2),E=("0000"+f.getFullYear().toString()).slice(-4),A=("00"+(f.getMonth()+1).toString()).slice(-2),I=("00"+f.getDate().toString()).slice(-2),L=("00"+f.getHours().toString()).slice(-2),x=("00"+f.getMinutes().toString()).slice(-2),P=("00"+f.getMinutes().toString()).slice(-2),O="",D="";v+y+_+S+C+w!=0&&(O="T"+v+y+_,D="T"+S+C+w);var N,M=p+m+g+O,R=b+T+k+D,B=E+A+I+("T"+L+x+P);if(u)if(u.rrule)N=u.rrule;else{if(N="rrule:FREQ="+u.freq,u.until){var j=new Date(Date.parse(u.until)).toISOString();N+=";UNTIL="+j.substring(0,j.length-13).replace(/[-]/g,"")+"000000Z"}u.interval&&(N+=";INTERVAL="+u.interval),u.count&&(N+=";COUNT="+u.count),u.byday&&u.byday.length>0&&(N+=";BYDAY="+u.byday.join(","))}(new Date).toISOString();var U=["BEGIN:VEVENT","UID:"+t+"@"+e,"CLASS:PUBLIC","DESCRIPTION:"+a,"DTSTAMP;VALUE=DATE-TIME:"+B,"DTSTART;VALUE=DATE-TIME:"+M,"DTEND;VALUE=DATE-TIME:"+R,"LOCATION:"+r,"SUMMARY;LANGUAGE=en-us:"+t,"TRANSP:TRANSPARENT","END:VEVENT"];return N&&U.splice(4,0,N),U=U.join(n),i.push(U),U},download:function(e,t){if(i.length<1)return!1;t=void 0!==t?t:".ics",e=void 0!==e?e:"calendar";var o,l=r+n+i.join(n)+s;if(-1===navigator.userAgent.indexOf("MSIE 10"))o=new Blob([l]);else{var u=new BlobBuilder;u.append(l),o=u.getBlob("text/x-vCalendar;charset="+document.characterSet)}return a(o,e+t),l},build:function(){return!(i.length<1)&&r+n+i.join(n)+s}}}console.log("Unsupported Browser")};t.ics=r,t.saveAs=a},function(e,t){e.exports=function(){throw new Error("define cannot be used indirect")}},function(e,t){(function(t){e.exports=t}).call(t,{})},function(e,t,n){(function(e){"use strict";function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},a=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),r=function(e){var t="tabpanes",r="bny.tabpanes",s="."+r,o=e.fn[t],l={},u={CLICK:"click"+s,FOCUS:"focus"+s},c={ACTIVE:"active"},d={ACTIVE:".active",DATA_TOGGLE:'[data-toggle="accordion"]',NAV_MASTHEAD:".nav-button-holder, .nav-masthead",RIBBON_TOGGLE:'[data-toggle="scroll"]'},h=function(){function t(i,a){n(this,t),this._element=i,this._isToggle=void 0!==e(this._element).data("istoggle")&&e(this._element).data("istoggle"),this._isSMToggle=void 0!==e(this._element).data("issmtoggle")&&e(this._element).data("issmtoggle"),this._navMasthead=e(d.NAV_MASTHEAD),this._ribbonToggle=e(d.RIBBON_TOGGLE),this._navMastheadHeight=this._navMasthead.length>0?e(d.NAV_MASTHEAD).height():0,this._ribbonToggleHeight=this._ribbonToggle.length>0?e(d.RIBBON_TOGGLE).outerHeight():0}return a(t,[{key:"toggle",value:function(t){var n=e(this._element).parent(),i=n.siblings(),a=1024;if(this._element.parentNode&&this._element.parentNode.nodeType===Node.ELEMENT_NODE&&e(this._element.parentNode).hasClass(c.ACTIVE)&&(this._isToggle||this._isSMToggle&&e(window).width()<a)?n.removeClass(c.ACTIVE):(i.removeClass(c.ACTIVE),n.addClass(c.ACTIVE)),e(window).width()<=768){var r=n.offset().top-(this._navMastheadHeight+this._ribbonToggleHeight);e("body, html").animate({scrollTop:r},500)}}},{key:"dispose",value:function(){e.removeData(this._element,r),e(this._element).off(s),this._element=null}}],[{key:"_jQueryInterface",value:function(n,a){return this.each(function(){var s=e(this).data(r),o=e.extend({},t.Default,e(this).data(),"object"===("undefined"==typeof n?"undefined":i(n))&&n);if(s||(s=new t(this,o),e(this).data(r,s)),"string"==typeof n){if(void 0===s[n])throw new Error('No method named "'+n+'"');s[n](a)}else o.toggle&&s.toggle(a)})}},{key:"Default",get:function(){return l}}]),t}();return e(document).on(u.CLICK,d.DATA_TOGGLE,function(t){t.preventDefault(),h._jQueryInterface.call(e(this),"toggle")}),e.fn[t]=h._jQueryInterface,e.fn[t].Constructor=h,e.fn[t].noConflict=function(){return e.fn[t]=o,h._jQueryInterface},h}(e);t.default=r}).call(t,n(2))},function(e,t,n){(function(e){"use strict";function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},a=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),r=function(e){var t="contactus",r="bny.contactus",s="."+r,o=e.fn[t],l={CLICK:"click"+s},u=function(){function t(i,a){n(this,t),this._element=i,this._allForms=e(this._element).find("[data-step]"),this._forms=[],this._forms[0]=e(this._element).find('[data-step="0"]'),this._forms[1]=e(this._element).find('[data-step="1"]'),this._forms[2]=e(this._element).find('[data-step="2"]'),this._forms[3]=e(this._element).find('[data-step="3"]'),this._formBtns=[],this._formBtns[0]=e(this._element).find('[data-btn="0"]'),this._formBtns[1]=e(this._element).find('[data-btn="1"]'),this._formBtns[2]=e(this._element).find('[data-btn="2"]'),this._allContent=e(this._element).find("[data-content]"),this._contents=[],this._contents[0]=e(this._element).find('[data-content="0"]'),this._contents[1]=e(this._element).find('[data-content="1"]'),this._contents[2]=e(this._element).find('[data-content="2"]'),this._contents[3]=e(this._element).find('[data-content="3"]'),this._fieldQuestion=e(this._element).find('[data-field="contact-question"]'),this._fieldFirstName=e(this._element).find('[data-field="contact-fname"]'),this._fieldLastName=e(this._element).find('[data-field="contact-lname"]'),this._fieldEmail=e(this._element).find('[data-field="contact-email"]'),this._labelQuestion=e(this._element).find('[data-label="contact-question"]'),this._labelEmail=e(this._element).find('[data-label="contact-email"]'),this._labelName=e(this._element).find('[data-label="contact-name"]'),this._forms[0].show(),this._contents[0].show(),this._progress=e(this._element).find('[data-ui="progress"]'),this._progressDots=e(this._element).find('[data-ui="progress"] .progress-bar ul > li'),this._addEventListeners()}return a(t,[{key:"_addEventListeners",value:function(){this._formBtns[0].on(l.CLICK,e.proxy(this._showStep,this,0,!0)),this._formBtns[1].on(l.CLICK,e.proxy(this._showStep,this,1,!0)),this._formBtns[2].on(l.CLICK,e.proxy(this._showStep,this,2,!0)),this._progressDots.on(l.CLICK,e.proxy(this._clickProgress,this))}},{key:"_clickProgress",value:function(t){var n=e(t.target).closest("li");if(n.hasClass("done")){var i=n.index();this._progressDots.removeClass("active").eq(i).addClass("active"),this._showStep(i,!1)}}},{key:"_showStep",value:function(e,t){t?this._formIsValid(e)&&(this._forms[e].hide(),this._contents[e].hide(),this._forms[e+1].show(),this._contents[e+1].show(),this._markProgress(e)):(this._allForms.hide(),this._allContent.hide(),this._forms[e].show(),this._contents[e].show())}},{key:"_markProgress",value:function(e){this._progressDots.removeClass("active").eq(e+1).addClass("active"),this._progressDots.eq(e+1).addClass("done"),2===e&&this._progress.hide()}},{key:"_formIsValid",value:function(e){var t=!1;switch(e){case 0:t=!0;break;case 1:this._fieldQuestion.val().length>0?(t=!0,this._fieldQuestion.removeClass("error").next(".error-msg").hide().prev().prev().removeClass("error")):(this._fieldQuestion.addClass("error").next(".error-msg").show().prev().prev().addClass("error"),t=!1);break;case 2:var n=!0;this._fieldFirstName.removeClass("error").next(".error-msg").hide().prev().prev().removeClass("error"),this._fieldLastName.removeClass("error").next(".error-msg").hide().prev().prev().removeClass("error"),this._fieldFirstName.val().trim().length<1&&(this._fieldFirstName.addClass("error").next(".error-msg").show().prev().prev().addClass("error"),n=!1),this._fieldLastName.val().trim().length<1&&(this._fieldLastName.addClass("error").next(".error-msg").show().prev().prev().addClass("error"),n=!1),n&&(this._labelQuestion.text(this._fieldQuestion.val()),this._labelName.text(this._fieldFirstName.val().trim()+" "+this._fieldLastName.val().trim()),t=!0)}return t}}],[{key:"_jQueryInterface",value:function(n,a){return this.each(function(){var s=e(this).data(r),o=e.extend({},t.Default,e(this).data(),"object"===("undefined"==typeof n?"undefined":i(n))&&n);if(s||(s=new t(this,o),e(this).data(r,s)),"string"==typeof n){if(void 0===s[n])throw new Error('No method named "'+n+'"');s[n](a)}else o.show&&s.show(a)})}}]),t}();return e.fn[t]=u._jQueryInterface,e.fn[t].Constructor=u,e.fn[t].noConflict=function(){return e.fn[t]=o,u._jQueryInterface},u}(e);t.default=r}).call(t,n(2))},function(e,t,n){(function(e){"use strict";function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},a=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),r=function(e){var t="editprofile",r="bny.editprofile",s="."+r,o=e.fn[t],l={CLICK:"click"+s},u=function(){function t(i,a){n(this,t),this._element=i,this._avatarBtn=e(this._element).find('[data-btn="avatar"]'),this._myAvatar=e(this._element).find('[data-ui="my-avatar"]'),this._cancelBtn=e(this._element).find('[data-dismiss="modal"]'),this._saveBtn=e(this._element).find('[data-btn="save"]'),this._changePwdBtn=e(this._element).find('[data-btn="change-pw"]'),this._cancelPwdBtn=e(this._element).find('[data-btn="cancel-pw"]'),this._savePwdBtn=e(this._element).find('[data-btn="save-pw"]'),this._updatePwd=e(this._element).find('[data-ui="update-pwd"]'),this._pwdField=e(this._element).find('[data-field="password"]'),this._newPwdField=e(this._element).find('[data-field="new-pw"]'),this._confirmPwdField=e(this._element).find('[data-field="confirm-pw"]'),this._addEventListeners(),this._updatePwd.hide()}return a(t,[{key:"selectAvatar",value:function(t){var n=e(t.target),i=n.is("i")?n:n.find("i");return this._myAvatar.empty().append(i.clone()),!1}},{key:"save",value:function(t){e(this._element).modal("hide")}},{key:"changePassword",value:function(e){e.preventDefault(),this._updatePwd.fadeIn(300),this._saveBtn.hide(),this._cancelBtn.hide(),this._changePwdBtn.hide(),this._newPwdField.find("input").val(""),this._confirmPwdField.find("input").val(""),this._pwdField.hide()}},{key:"cancelPassword",value:function(e){e.preventDefault(),this._updatePwd.hide(),this._pwdField.fadeIn(300),this._changePwdBtn.fadeIn(300),this._cancelBtn.fadeIn(300),this._saveBtn.fadeIn(300)}},{key:"savePassword",value:function(e){e.preventDefault();var t=!1,n=!1,i=this._newPwdField.find("input").val().toString(),a=this._confirmPwdField.find("input").val().toString(),r=/^(?=.*[0-9])(?=.*[A-Z])(?=.*[!@#$%^&*])[a-zA-Z0-9\.!@#$%^&*;]{8,24}$/;if(r.test(i))t=!0;else{this._newPwdField.find("input").addClass("error");var s=this._newPwdField.find("small");s.html("Must be at least 8 characters and contain a number, a capital letter, and a special character (!@#$%^&)"),s.show()}if(i==a)n=!0;else{this._confirmPwdField.find("input").addClass("error");var o=this._confirmPwdField.find("small");o.html("Passwords do not match"),o.show()}if(t&&n){var l=this._newPwdField.find("input").val();this._pwdField.val(l),this._updatePwd.hide(),this._changePwdBtn.fadeIn(300),this._pwdField.fadeIn(300)}}},{key:"_addEventListeners",value:function(){this._avatarBtn.on(l.CLICK,e.proxy(this.selectAvatar,this)),this._saveBtn.on(l.CLICK,e.proxy(this.save,this)),this._changePwdBtn.on(l.CLICK,e.proxy(this.changePassword,this)),this._cancelPwdBtn.on(l.CLICK,e.proxy(this.cancelPassword,this)),this._savePwdBtn.on(l.CLICK,e.proxy(this.savePassword,this))}}],[{key:"_jQueryInterface",value:function(n,a){return this.each(function(){var s=e(this).data(r),o=e.extend({},t.Default,e(this).data(),"object"===("undefined"==typeof n?"undefined":i(n))&&n);if(s||(s=new t(this,o),e(this).data(r,s)),"string"==typeof n){if(void 0===s[n])throw new Error('No method named "'+n+'"');s[n](a)}else o.show&&s.show(a)})}}]),t}();return e.fn[t]=u._jQueryInterface,e.fn[t].Constructor=u,e.fn[t].noConflict=function(){return e.fn[t]=o,u._jQueryInterface},u}(e);t.default=r}).call(t,n(2))},function(e,t,n){(function(e){"use strict";function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},a=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),r=function(e){var t="floatingnav",r="bny.floatingnav",s="."+r,o=".data-api",l=e.fn[t],u={LOAD:"load"+s,CLICK:"click"+s,CLICK_DATA_API:"click"+s+o},c={FLOATINGNAV:'[data-nav="floating"]',OPENBUTTON:'[data-btn="floating-nav"]',CLOSEBUTTON:'[data-btn="floating-nav-close"]',DISMISSITEM:'[data-item="dismiss"]'},d=function(){function t(i,a){n(this,t),this._element=i,this.body=e("html, body"),this.openButton=e(this._element).find(c.OPENBUTTON),this.closeButton=e(this._element).find(c.CLOSEBUTTON),this.dismissItem=e(this._element).find(c.DISMISSITEM),this.sectionItems=e(this._element).find("li > a:not([data-btn])"),this.windowWidth=e(window).width(),this.smallMediaQuery=768,this.buttonWidth=60,this.buttonHeight=60,this.menuHeight=707,this.navAdjust=60,this.menuWidth=this.windowWidth<this.smallMediaQuery?this.windowWidth-44:260,this._addEventListeners(),this.dismissItem.width(this.menuWidth)}return a(t,[{key:"openNav",value:function(){return this.openButton.blur().hide(),e(this._element).animate({width:this.menuWidth+"px",height:this.menuHeight+"px"},150),!1}},{key:"closeNav",value:function(){return this.closeButton.blur(),this.openButton.show().trigger("mouseenter"),e(this._element).animate({width:this.buttonWidth+"px",height:this.buttonHeight+"px"},150),!1}},{key:"jump",value:function(t){var n=e(t.currentTarget).attr("href"),i=e(n).offset().top-this.navAdjust;return void 0===e(t.currentTarget).attr("data-btn")&&(this.body.animate({scrollTop:i},300),this.closeNav(),!1)}},{key:"dispose",value:function(){e.removeData(this._element,r),e(this._element).off(s),this._element=null}},{key:"_addEventListeners",value:function(){this.openButton.on(u.CLICK,e.proxy(this.openNav,this)),this.closeButton.on(u.CLICK,e.proxy(this.closeNav,this)),this.sectionItems.on(u.CLICK,e.proxy(this.jump,this))}}],[{key:"_jQueryInterface",value:function(n,a){return this.each(function(){var s=e(this).data(r),o=e.extend({},t.Default,e(this).data(),"object"===("undefined"==typeof n?"undefined":i(n))&&n);if(s||(s=new t(this,o),e(this).data(r,s)),"string"==typeof n){if(void 0===s[n])throw new Error('No method named "'+n+'"');s[n](a)}else o.show&&s.show(a)})}}]),t}();return e(window).on(u.LOAD,function(){var t=e(c.FLOATINGNAV);d._jQueryInterface.call(t,t.data())}),e.fn[t]=d._jQueryInterface,e.fn[t].Constructor=d,e.fn[t].noConflict=function(){return e.fn[t]=l,d._jQueryInterface},d}(e);t.default=r}).call(t,n(2))},function(e,t,n){(function(e){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},s=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),o=n(73),l=i(o),u=function(e){var t="geoselect",n="bny.geoselect",i="."+n,o=e.fn[t],u=l.default.countries,c=l.default.states,d={},h={CHANGE:"change"+i},f=function(){function t(n,i){a(this,t),this._element=n,this._countrySelect=e(this._element).find('[data-ui="country"]'),this._stateSelect=e(this._element).find('[data-ui="state"]'),this._selectedCountry=e(this._countrySelect).attr("data-selected"),this._selectedState=e(this._stateSelect).attr("data-selected"),this.populateCountries(),this._addEventListeners()}return s(t,[{key:"populateCountries",value:function(){for(var e=-1,t=0;t<u.length;t++){var n=document.createElement("option");n.value=u[t],n.innerHTML=u[t],this._selectedCountry&&this._selectedCountry===u[t]&&(n.selected=!0,e=t),this._countrySelect.append(n)}e>=0&&this._populateStates(e)}},{key:"_addEventListeners",value:function(){this._stateSelect&&e(this._countrySelect).on(h.CHANGE,e.proxy(this._countryChange,this))}},{key:"_countryChange",value:function(e){var t=e.target.selectedIndex;this._populateStates(t)}},{key:"_populateStates",value:function(e){this._stateSelect.empty();for(var t=c[e].split("|"),n=0;n<t.length;n++){var i=document.createElement("option");i.value=t[n],i.innerHTML=t[n],this._selectedState&&this._selectedState===t[n]&&(i.selected=!0),this._stateSelect.append(i)}}}],[{key:"_jQueryInterface",value:function(i,a){return this.each(function(){var s=e(this).data(n),o=e.extend({},t.Default,e(this).data(),"object"===("undefined"==typeof i?"undefined":r(i))&&i);if(s||(s=new t(this,o),e(this).data(n,s)),"string"==typeof i){if(void 0===s[i])throw new Error('No method named "'+i+'"');s[i](a)}else o.show&&s.show(a)})}},{key:"Default",get:function(){return d}}]),t}();return e.fn[t]=f._jQueryInterface,e.fn[t].Constructor=f,e.fn[t].noConflict=function(){return e.fn[t]=o,f._jQueryInterface},f}(e);t.default=u}).call(t,n(2))},function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=function(){var e=["None","Afghanistan","Albania","Algeria","American Samoa","Angola","Anguilla","Antartica","Antigua and Barbuda","Argentina","Armenia","Aruba","Ashmore and Cartier Island","Australia","Austria","Azerbaijan","Bahamas","Bahrain","Bangladesh","Barbados","Belarus","Belgium","Belize","Benin","Bermuda","Bhutan","Bolivia","Bosnia and Herzegovina","Botswana","Brazil","British Virgin Islands","Brunei","Bulgaria","Burkina Faso","Burma","Burundi","Cambodia","Cameroon","Canada","Cape Verde","Cayman Islands","Central African Republic","Chad","Chile","China","Christmas Island","Clipperton Island","Cocos (Keeling) Islands","Colombia","Comoros","Congo, Democratic Republic of the","Congo, Republic of the","Cook Islands","Costa Rica","Cote d'Ivoire","Croatia","Cuba","Cyprus","Czeck Republic","Denmark","Djibouti","Dominica","Dominican Republic","Ecuador","Egypt","El Salvador","Equatorial Guinea","Eritrea","Estonia","Ethiopia","Europa Island","Falkland Islands (Islas Malvinas)","Faroe Islands","Fiji","Finland","France","French Guiana","French Polynesia","French Southern and Antarctic Lands","Gabon","Gambia, The","Gaza Strip","Georgia","Germany","Ghana","Gibraltar","Glorioso Islands","Greece","Greenland","Grenada","Guadeloupe","Guam","Guatemala","Guernsey","Guinea","Guinea-Bissau","Guyana","Haiti","Heard Island and McDonald Islands","Holy See (Vatican City)","Honduras","Hong Kong","Howland Island","Hungary","Iceland","India","Indonesia","Iran","Iraq","Ireland","Ireland, Northern","Israel","Italy","Jamaica","Jan Mayen","Japan","Jarvis Island","Jersey","Johnston Atoll","Jordan","Juan de Nova Island","Kazakhstan","Kenya","Kiribati","Korea, North","Korea, South","Kuwait","Kyrgyzstan","Laos","Latvia","Lebanon","Lesotho","Liberia","Libya","Liechtenstein","Lithuania","Luxembourg","Macau","Macedonia, Former Yugoslav Republic of","Madagascar","Malawi","Malaysia","Maldives","Mali","Malta","Man, Isle of","Marshall Islands","Martinique","Mauritania","Mauritius","Mayotte","Mexico","Micronesia, Federated States of","Midway Islands","Moldova","Monaco","Mongolia","Montserrat","Morocco","Mozambique","Namibia","Nauru","Nepal","Netherlands","Netherlands Antilles","New Caledonia","New Zealand","Nicaragua","Niger","Nigeria","Niue","Norfolk Island","Northern Mariana Islands","Norway","Oman","Pakistan","Palau","Panama","Papua New Guinea","Paraguay","Peru","Philippines","Pitcaim Islands","Poland","Portugal","Puerto Rico","Qatar","Reunion","Romainia","Russia","Rwanda","Saint Helena","Saint Kitts and Nevis","Saint Lucia","Saint Pierre and Miquelon","Saint Vincent and the Grenadines","Samoa","San Marino","Sao Tome and Principe","Saudi Arabia","Scotland","Senegal","Seychelles","Sierra Leone","Singapore","Slovakia","Slovenia","Solomon Islands","Somalia","South Africa","South Georgia and South Sandwich Islands","Spain","Spratly Islands","Sri Lanka","Sudan","Suriname","Svalbard","Swaziland","Sweden","Switzerland","Syria","Taiwan","Tajikistan","Tanzania","Thailand","Tobago","Toga","Tokelau","Tonga","Trinidad","Tunisia","Turkey","Turkmenistan","Tuvalu","Uganda","Ukraine","United Arab Emirates","United Kingdom","Uruguay","USA","Uzbekistan","Vanuatu","Venezuela","Vietnam","Virgin Islands","Wales","Wallis and Futuna","West Bank","Western Sahara","Yemen","Yugoslavia","Zambia","Zimbabwe"],t=[];return t[0]="State/Province",t[1]="Badakhshan|Badghis|Baghlan|Balkh|Bamian|Farah|Faryab|Ghazni|Ghowr|Helmand|Herat|Jowzjan|Kabol|Kandahar|Kapisa|Konar|Kondoz|Laghman|Lowgar|Nangarhar|Nimruz|Oruzgan|Paktia|Paktika|Parvan|Samangan|Sar-e Pol|Takhar|Vardak|Zabol",t[2]="Berat|Bulqize|Delvine|Devoll (Bilisht)|Diber (Peshkopi)|Durres|Elbasan|Fier|Gjirokaster|Gramsh|Has (Krume)|Kavaje|Kolonje (Erseke)|Korce|Kruje|Kucove|Kukes|Kurbin|Lezhe|Librazhd|Lushnje|Malesi e Madhe (Koplik)|Mallakaster (Ballsh)|Mat (Burrel)|Mirdite (Rreshen)|Peqin|Permet|Pogradec|Puke|Sarande|Shkoder|Skrapar (Corovode)|Tepelene|Tirane (Tirana)|Tirane (Tirana)|Tropoje (Bajram Curri)|Vlore",t[3]="Adrar|Ain Defla|Ain Temouchent|Alger|Annaba|Batna|Bechar|Bejaia|Biskra|Blida|Bordj Bou Arreridj|Bouira|Boumerdes|Chlef|Constantine|Djelfa|El Bayadh|El Oued|El Tarf|Ghardaia|Guelma|Illizi|Jijel|Khenchela|Laghouat|M'Sila|Mascara|Medea|Mila|Mostaganem|Naama|Oran|Ouargla|Oum el Bouaghi|Relizane|Saida|Setif|Sidi Bel Abbes|Skikda|Souk Ahras|Tamanghasset|Tebessa|Tiaret|Tindouf|Tipaza|Tissemsilt|Tizi Ouzou|Tlemcen",t[4]="Eastern|Manu'a|Rose Island|Swains Island|Western",t[5]="Andorra la Vella|Bengo|Benguela|Bie|Cabinda|Canillo|Cuando Cubango|Cuanza Norte|Cuanza Sul|Cunene|Encamp|Escaldes-Engordany|Huambo|Huila|La Massana|Luanda|Lunda Norte|Lunda Sul|Malanje|Moxico|Namibe|Ordino|Sant Julia de Loria|Uige|Zaire",t[6]="Anguilla",t[7]="Antartica",t[8]="Barbuda|Redonda|Saint George|Saint John|Saint Mary|Saint Paul|Saint Peter|Saint Philip",t[9]="Antartica e Islas del Atlantico Sur|Buenos Aires|Buenos Aires Capital Federal|Catamarca|Chaco|Chubut|Cordoba|Corrientes|Entre Rios|Formosa|Jujuy|La Pampa|La Rioja|Mendoza|Misiones|Neuquen|Rio Negro|Salta|San Juan|San Luis|Santa Cruz|Santa Fe|Santiago del Estero|Tierra del Fuego|Tucuman",t[10]="Aragatsotn|Ararat|Armavir|Geghark'unik'|Kotayk'|Lorri|Shirak|Syunik'|Tavush|Vayots' Dzor|Yerevan",t[11]="Aruba",t[12]="Ashmore and Cartier Island",t[13]="Australian Capital Territory|New South Wales|Northern Territory|Queensland|South Australia|Tasmania|Victoria|Western Australia",t[14]="Burgenland|Kaernten|Niederoesterreich|Oberoesterreich|Salzburg|Steiermark|Tirol|Vorarlberg|Wien",t[15]="Abseron Rayonu|Agcabadi Rayonu|Agdam Rayonu|Agdas Rayonu|Agstafa Rayonu|Agsu Rayonu|Ali Bayramli Sahari|Astara Rayonu|Baki Sahari|Balakan Rayonu|Barda Rayonu|Beylaqan Rayonu|Bilasuvar Rayonu|Cabrayil Rayonu|Calilabad Rayonu|Daskasan Rayonu|Davaci Rayonu|Fuzuli Rayonu|Gadabay Rayonu|Ganca Sahari|Goranboy Rayonu|Goycay Rayonu|Haciqabul Rayonu|Imisli Rayonu|Ismayilli Rayonu|Kalbacar Rayonu|Kurdamir Rayonu|Lacin Rayonu|Lankaran Rayonu|Lankaran Sahari|Lerik Rayonu|Masalli Rayonu|Mingacevir Sahari|Naftalan Sahari|Naxcivan Muxtar Respublikasi|Neftcala Rayonu|Oguz Rayonu|Qabala Rayonu|Qax Rayonu|Qazax Rayonu|Qobustan Rayonu|Quba Rayonu|Qubadli Rayonu|Qusar Rayonu|Saatli Rayonu|Sabirabad Rayonu|Saki Rayonu|Saki Sahari|Salyan Rayonu|Samaxi Rayonu|Samkir Rayonu|Samux Rayonu|Siyazan Rayonu|Sumqayit Sahari|Susa Rayonu|Susa Sahari|Tartar Rayonu|Tovuz Rayonu|Ucar Rayonu|Xacmaz Rayonu|Xankandi Sahari|Xanlar Rayonu|Xizi Rayonu|Xocali Rayonu|Xocavand Rayonu|Yardimli Rayonu|Yevlax Rayonu|Yevlax Sahari|Zangilan Rayonu|Zaqatala Rayonu|Zardab Rayonu",t[16]="Acklins and Crooked Islands|Bimini|Cat Island|Exuma|Freeport|Fresh Creek|Governor's Harbour|Green Turtle Cay|Harbour Island|High Rock|Inagua|Kemps Bay|Long Island|Marsh Harbour|Mayaguana|New Providence|Nicholls Town and Berry Islands|Ragged Island|Rock Sound|San Salvador and Rum Cay|Sandy Point",t[17]="Al Hadd|Al Manamah|Al Mintaqah al Gharbiyah|Al Mintaqah al Wusta|Al Mintaqah ash Shamaliyah|Al Muharraq|Ar Rifa' wa al Mintaqah al Janubiyah|Jidd Hafs|Juzur Hawar|Madinat 'Isa|Madinat Hamad|Sitrah",t[18]="Barguna|Barisal|Bhola|Jhalokati|Patuakhali|Pirojpur|Bandarban|Brahmanbaria|Chandpur|Chittagong|Comilla|Cox's Bazar|Feni|Khagrachari|Lakshmipur|Noakhali|Rangamati|Dhaka|Faridpur|Gazipur|Gopalganj|Jamalpur|Kishoreganj|Madaripur|Manikganj|Munshiganj|Mymensingh|Narayanganj|Narsingdi|Netrokona|Rajbari|Shariatpur|Sherpur|Tangail|Bagerhat|Chuadanga|Jessore|Jhenaidah|Khulna|Kushtia|Magura|Meherpur|Narail|Satkhira|Bogra|Dinajpur|Gaibandha|Jaipurhat|Kurigram|Lalmonirhat|Naogaon|Natore|Nawabganj|Nilphamari|Pabna|Panchagarh|Rajshahi|Rangpur|Sirajganj|Thakurgaon|Habiganj|Maulvi bazar|Sunamganj|Sylhet",t[19]="Bridgetown|Christ Church|Saint Andrew|Saint George|Saint James|Saint John|Saint Joseph|Saint Lucy|Saint Michael|Saint Peter|Saint Philip|Saint Thomas",t[20]="Brestskaya (Brest)|Homyel'skaya (Homyel')|Horad Minsk|Hrodzyenskaya (Hrodna)|Mahilyowskaya (Mahilyow)|Minskaya|Vitsyebskaya (Vitsyebsk)",t[21]="Antwerpen|Brabant Wallon|Brussels Capitol Region|Hainaut|Liege|Limburg|Luxembourg|Namur|Oost-Vlaanderen|Vlaams Brabant|West-Vlaanderen",t[22]="Belize|Cayo|Corozal|Orange Walk|Stann Creek|Toledo",t[23]="Alibori|Atakora|Atlantique|Borgou|Collines|Couffo|Donga|Littoral|Mono|Oueme|Plateau|Zou",t[24]="Devonshire|Hamilton|Hamilton|Paget|Pembroke|Saint George|Saint Georges|Sandys|Smiths|Southampton|Warwick",t[25]="Bumthang|Chhukha|Chirang|Daga|Geylegphug|Ha|Lhuntshi|Mongar|Paro|Pemagatsel|Punakha|Samchi|Samdrup Jongkhar|Shemgang|Tashigang|Thimphu|Tongsa|Wangdi Phodrang",t[26]="Beni|Chuquisaca|Cochabamba|La Paz|Oruro|Pando|Potosi|Santa Cruz|Tarija",t[27]="Federation of Bosnia and Herzegovina|Republika Srpska",t[28]="Central|Chobe|Francistown|Gaborone|Ghanzi|Kgalagadi|Kgatleng|Kweneng|Lobatse|Ngamiland|North-East|Selebi-Pikwe|South-East|Southern",t[29]="Acre|Alagoas|Amapa|Amazonas|Bahia|Ceara|Distrito Federal|Espirito Santo|Goias|Maranhao|Mato Grosso|Mato Grosso do Sul|Minas Gerais|Para|Paraiba|Parana|Pernambuco|Piaui|Rio de Janeiro|Rio Grande do Norte|Rio Grande do Sul|Rondonia|Roraima|Santa Catarina|Sao Paulo|Sergipe|Tocantins",
t[30]="Anegada|Jost Van Dyke|Tortola|Virgin Gorda",t[31]="Belait|Brunei and Muara|Temburong|Tutong",t[32]="Blagoevgrad|Burgas|Dobrich|Gabrovo|Khaskovo|Kurdzhali|Kyustendil|Lovech|Montana|Pazardzhik|Pernik|Pleven|Plovdiv|Razgrad|Ruse|Shumen|Silistra|Sliven|Smolyan|Sofiya|Sofiya-Grad|Stara Zagora|Turgovishte|Varna|Veliko Turnovo|Vidin|Vratsa|Yambol",t[33]="Bale|Bam|Banwa|Bazega|Bougouriba|Boulgou|Boulkiemde|Comoe|Ganzourgou|Gnagna|Gourma|Houet|Ioba|Kadiogo|Kenedougou|Komandjari|Kompienga|Kossi|Koupelogo|Kouritenga|Kourweogo|Leraba|Loroum|Mouhoun|Nahouri|Namentenga|Naumbiel|Nayala|Oubritenga|Oudalan|Passore|Poni|Samentenga|Sanguie|Seno|Sissili|Soum|Sourou|Tapoa|Tuy|Yagha|Yatenga|Ziro|Zondomo|Zoundweogo",t[34]="Ayeyarwady|Bago|Chin State|Kachin State|Kayah State|Kayin State|Magway|Mandalay|Mon State|Rakhine State|Sagaing|Shan State|Tanintharyi|Yangon",t[35]="Bubanza|Bujumbura|Bururi|Cankuzo|Cibitoke|Gitega|Karuzi|Kayanza|Kirundo|Makamba|Muramvya|Muyinga|Mwaro|Ngozi|Rutana|Ruyigi",t[36]="Banteay Mean Cheay|Batdambang|Kampong Cham|Kampong Chhnang|Kampong Spoe|Kampong Thum|Kampot|Kandal|Kaoh Kong|Keb|Kracheh|Mondol Kiri|Otdar Mean Cheay|Pailin|Phnum Penh|Pouthisat|Preah Seihanu (Sihanoukville)|Preah Vihear|Prey Veng|Rotanah Kiri|Siem Reab|Stoeng Treng|Svay Rieng|Takev",t[37]="Adamaoua|Centre|Est|Extreme-Nord|Littoral|Nord|Nord-Ouest|Ouest|Sud|Sud-Ouest",t[38]="Alberta|British Columbia|Manitoba|New Brunswick|Newfoundland|Northwest Territories|Nova Scotia|Nunavut|Ontario|Prince Edward Island|Quebec|Saskatchewan|Yukon Territory",t[39]="Boa Vista|Brava|Maio|Mosteiros|Paul|Porto Novo|Praia|Ribeira Grande|Sal|Santa Catarina|Santa Cruz|Sao Domingos|Sao Filipe|Sao Nicolau|Sao Vicente|Tarrafal",t[40]="Creek|Eastern|Midland|South Town|Spot Bay|Stake Bay|West End|Western",t[41]="Bamingui-Bangoran|Bangui|Basse-Kotto|Gribingui|Haut-Mbomou|Haute-Kotto|Haute-Sangha|Kemo-Gribingui|Lobaye|Mbomou|Nana-Mambere|Ombella-Mpoko|Ouaka|Ouham|Ouham-Pende|Sangha|Vakaga",t[42]="Batha|Biltine|Borkou-Ennedi-Tibesti|Chari-Baguirmi|Guera|Kanem|Lac|Logone Occidental|Logone Oriental|Mayo-Kebbi|Moyen-Chari|Ouaddai|Salamat|Tandjile",t[43]="Aisen del General Carlos Ibanez del Campo|Antofagasta|Araucania|Atacama|Bio-Bio|Coquimbo|Libertador General Bernardo O'Higgins|Los Lagos|Magallanes y de la Antartica Chilena|Maule|Region Metropolitana (Santiago)|Tarapaca|Valparaiso",t[44]="Anhui|Beijing|Chongqing|Fujian|Gansu|Guangdong|Guangxi|Guizhou|Hainan|Hebei|Heilongjiang|Henan|Hubei|Hunan|Jiangsu|Jiangxi|Jilin|Liaoning|Nei Mongol|Ningxia|Qinghai|Shaanxi|Shandong|Shanghai|Shanxi|Sichuan|Tianjin|Xinjiang|Xizang (Tibet)|Yunnan|Zhejiang",t[45]="Christmas Island",t[46]="Clipperton Island",t[47]="Direction Island|Home Island|Horsburgh Island|North Keeling Island|South Island|West Island",t[48]="Amazonas|Antioquia|Arauca|Atlantico|Bolivar|Boyaca|Caldas|Caqueta|Casanare|Cauca|Cesar|Choco|Cordoba|Cundinamarca|Distrito Capital de Santa Fe de Bogota|Guainia|Guaviare|Huila|La Guajira|Magdalena|Meta|Narino|Norte de Santander|Putumayo|Quindio|Risaralda|San Andres y Providencia|Santander|Sucre|Tolima|Valle del Cauca|Vaupes|Vichada",t[49]="Anjouan (Nzwani)|Domoni|Fomboni|Grande Comore (Njazidja)|Moheli (Mwali)|Moroni|Moutsamoudou",t[50]="Bandundu|Bas-Congo|Equateur|Kasai-Occidental|Kasai-Oriental|Katanga|Kinshasa|Maniema|Nord-Kivu|Orientale|Sud-Kivu",t[51]="Bouenza|Brazzaville|Cuvette|Kouilou|Lekoumou|Likouala|Niari|Plateaux|Pool|Sangha",t[52]="Aitutaki|Atiu|Avarua|Mangaia|Manihiki|Manuae|Mauke|Mitiaro|Nassau Island|Palmerston|Penrhyn|Pukapuka|Rakahanga|Rarotonga|Suwarrow|Takutea",t[53]="Alajuela|Cartago|Guanacaste|Heredia|Limon|Puntarenas|San Jose",t[54]="Abengourou|Abidjan|Aboisso|Adiake'|Adzope|Agboville|Agnibilekrou|Ale'pe'|Bangolo|Beoumi|Biankouma|Bocanda|Bondoukou|Bongouanou|Bouafle|Bouake|Bouna|Boundiali|Dabakala|Dabon|Daloa|Danane|Daoukro|Dimbokro|Divo|Duekoue|Ferkessedougou|Gagnoa|Grand Bassam|Grand-Lahou|Guiglo|Issia|Jacqueville|Katiola|Korhogo|Lakota|Man|Mankono|Mbahiakro|Odienne|Oume|Sakassou|San-Pedro|Sassandra|Seguela|Sinfra|Soubre|Tabou|Tanda|Tiassale|Tiebissou|Tingrela|Touba|Toulepleu|Toumodi|Vavoua|Yamoussoukro|Zuenoula",t[55]="Bjelovarsko-Bilogorska Zupanija|Brodsko-Posavska Zupanija|Dubrovacko-Neretvanska Zupanija|Istarska Zupanija|Karlovacka Zupanija|Koprivnicko-Krizevacka Zupanija|Krapinsko-Zagorska Zupanija|Licko-Senjska Zupanija|Medimurska Zupanija|Osjecko-Baranjska Zupanija|Pozesko-Slavonska Zupanija|Primorsko-Goranska Zupanija|Sibensko-Kninska Zupanija|Sisacko-Moslavacka Zupanija|Splitsko-Dalmatinska Zupanija|Varazdinska Zupanija|Viroviticko-Podravska Zupanija|Vukovarsko-Srijemska Zupanija|Zadarska Zupanija|Zagreb|Zagrebacka Zupanija",t[56]="Camaguey|Ciego de Avila|Cienfuegos|Ciudad de La Habana|Granma|Guantanamo|Holguin|Isla de la Juventud|La Habana|Las Tunas|Matanzas|Pinar del Rio|Sancti Spiritus|Santiago de Cuba|Villa Clara",t[57]="Famagusta|Kyrenia|Larnaca|Limassol|Nicosia|Paphos",t[58]="Brnensky|Budejovicky|Jihlavsky|Karlovarsky|Kralovehradecky|Liberecky|Olomoucky|Ostravsky|Pardubicky|Plzensky|Praha|Stredocesky|Ustecky|Zlinsky",t[59]="Arhus|Bornholm|Fredericksberg|Frederiksborg|Fyn|Kobenhavn|Kobenhavns|Nordjylland|Ribe|Ringkobing|Roskilde|Sonderjylland|Storstrom|Vejle|Vestsjalland|Viborg",t[60]="'Ali Sabih|Dikhil|Djibouti|Obock|Tadjoura",t[61]="Saint Andrew|Saint David|Saint George|Saint John|Saint Joseph|Saint Luke|Saint Mark|Saint Patrick|Saint Paul|Saint Peter",t[62]="Azua|Baoruco|Barahona|Dajabon|Distrito Nacional|Duarte|El Seibo|Elias Pina|Espaillat|Hato Mayor|Independencia|La Altagracia|La Romana|La Vega|Maria Trinidad Sanchez|Monsenor Nouel|Monte Cristi|Monte Plata|Pedernales|Peravia|Puerto Plata|Salcedo|Samana|San Cristobal|San Juan|San Pedro de Macoris|Sanchez Ramirez|Santiago|Santiago Rodriguez|Valverde",t[63]="Azuay|Bolivar|Canar|Carchi|Chimborazo|Cotopaxi|El Oro|Esmeraldas|Galapagos|Guayas|Imbabura|Loja|Los Rios|Manabi|Morona-Santiago|Napo|Orellana|Pastaza|Pichincha|Sucumbios|Tungurahua|Zamora-Chinchipe",t[64]="Ad Daqahliyah|Al Bahr al Ahmar|Al Buhayrah|Al Fayyum|Al Gharbiyah|Al Iskandariyah|Al Isma'iliyah|Al Jizah|Al Minufiyah|Al Minya|Al Qahirah|Al Qalyubiyah|Al Wadi al Jadid|As Suways|Ash Sharqiyah|Aswan|Asyut|Bani Suwayf|Bur Sa'id|Dumyat|Janub Sina'|Kafr ash Shaykh|Matruh|Qina|Shamal Sina'|Suhaj",t[65]="Ahuachapan|Cabanas|Chalatenango|Cuscatlan|La Libertad|La Paz|La Union|Morazan|San Miguel|San Salvador|San Vicente|Santa Ana|Sonsonate|Usulutan",t[66]="Annobon|Bioko Norte|Bioko Sur|Centro Sur|Kie-Ntem|Litoral|Wele-Nzas",t[67]="Akale Guzay|Barka|Denkel|Hamasen|Sahil|Semhar|Senhit|Seraye",t[68]="Harjumaa (Tallinn)|Hiiumaa (Kardla)|Ida-Virumaa (Johvi)|Jarvamaa (Paide)|Jogevamaa (Jogeva)|Laane-Virumaa (Rakvere)|Laanemaa (Haapsalu)|Parnumaa (Parnu)|Polvamaa (Polva)|Raplamaa (Rapla)|Saaremaa (Kuessaare)|Tartumaa (Tartu)|Valgamaa (Valga)|Viljandimaa (Viljandi)|Vorumaa (Voru)",t[69]="Adis Abeba (Addis Ababa)|Afar|Amara|Dire Dawa|Gambela Hizboch|Hareri Hizb|Oromiya|Sumale|Tigray|YeDebub Biheroch Bihereseboch na Hizboch",t[70]="Europa Island",t[71]="Falkland Islands (Islas Malvinas)",t[72]="Bordoy|Eysturoy|Mykines|Sandoy|Skuvoy|Streymoy|Suduroy|Tvoroyri|Vagar",t[73]="Central|Eastern|Northern|Rotuma|Western",t[74]="Aland|Etela-Suomen Laani|Ita-Suomen Laani|Lansi-Suomen Laani|Lappi|Oulun Laani",t[75]="Alsace|Aquitaine|Auvergne|Basse-Normandie|Bourgogne|Bretagne|Centre|Champagne-Ardenne|Corse|Franche-Comte|Haute-Normandie|Ile-de-France|Languedoc-Roussillon|Limousin|Lorraine|Midi-Pyrenees|Nord-Pas-de-Calais|Pays de la Loire|Picardie|Poitou-Charentes|Provence-Alpes-Cote d'Azur|Rhone-Alpes",t[76]="French Guiana",t[77]="Archipel des Marquises|Archipel des Tuamotu|Archipel des Tubuai|Iles du Vent|Iles Sous-le-Vent",t[78]="Adelie Land|Ile Crozet|Iles Kerguelen|Iles Saint-Paul et Amsterdam",t[79]="Estuaire|Haut-Ogooue|Moyen-Ogooue|Ngounie|Nyanga|Ogooue-Ivindo|Ogooue-Lolo|Ogooue-Maritime|Woleu-Ntem",t[80]="Banjul|Central River|Lower River|North Bank|Upper River|Western",t[81]="Gaza Strip",t[82]="Abashis|Abkhazia or Ap'khazet'is Avtonomiuri Respublika (Sokhumi)|Adigenis|Ajaria or Acharis Avtonomiuri Respublika (Bat'umi)|Akhalgoris|Akhalk'alak'is|Akhalts'ikhis|Akhmetis|Ambrolauris|Aspindzis|Baghdat'is|Bolnisis|Borjomis|Ch'khorotsqus|Ch'okhatauris|Chiat'ura|Dedop'listsqaros|Dmanisis|Dushet'is|Gardabanis|Gori|Goris|Gurjaanis|Javis|K'arelis|K'ut'aisi|Kaspis|Kharagaulis|Khashuris|Khobis|Khonis|Lagodekhis|Lanch'khut'is|Lentekhis|Marneulis|Martvilis|Mestiis|Mts'khet'is|Ninotsmindis|Onis|Ozurget'is|P'ot'i|Qazbegis|Qvarlis|Rust'avi|Sach'kheris|Sagarejos|Samtrediis|Senakis|Sighnaghis|T'bilisi|T'elavis|T'erjolis|T'et'ritsqaros|T'ianet'is|Tqibuli|Ts'ageris|Tsalenjikhis|Tsalkis|Tsqaltubo|Vanis|Zestap'onis|Zugdidi|Zugdidis",t[83]="Baden-Wuerttemberg|Bayern|Berlin|Brandenburg|Bremen|Hamburg|Hessen|Mecklenburg-Vorpommern|Niedersachsen|Nordrhein-Westfalen|Rheinland-Pfalz|Saarland|Sachsen|Sachsen-Anhalt|Schleswig-Holstein|Thueringen",t[84]="Ashanti|Brong-Ahafo|Central|Eastern|Greater Accra|Northern|Upper East|Upper West|Volta|Western",t[85]="Gibraltar",t[86]="Ile du Lys|Ile Glorieuse",t[87]="Aitolia kai Akarnania|Akhaia|Argolis|Arkadhia|Arta|Attiki|Ayion Oros (Mt. Athos)|Dhodhekanisos|Drama|Evritania|Evros|Evvoia|Florina|Fokis|Fthiotis|Grevena|Ilia|Imathia|Ioannina|Irakleion|Kardhitsa|Kastoria|Kavala|Kefallinia|Kerkyra|Khalkidhiki|Khania|Khios|Kikladhes|Kilkis|Korinthia|Kozani|Lakonia|Larisa|Lasithi|Lesvos|Levkas|Magnisia|Messinia|Pella|Pieria|Preveza|Rethimni|Rodhopi|Samos|Serrai|Thesprotia|Thessaloniki|Trikala|Voiotia|Xanthi|Zakinthos",t[88]="Avannaa (Nordgronland)|Kitaa (Vestgronland)|Tunu (Ostgronland)",t[89]="Carriacou and Petit Martinique|Saint Andrew|Saint David|Saint George|Saint John|Saint Mark|Saint Patrick",t[90]="Basse-Terre|Grande-Terre|Iles de la Petite Terre|Iles des Saintes|Marie-Galante",t[91]="Guam",t[92]="Alta Verapaz|Baja Verapaz|Chimaltenango|Chiquimula|El Progreso|Escuintla|Guatemala|Huehuetenango|Izabal|Jalapa|Jutiapa|Peten|Quetzaltenango|Quiche|Retalhuleu|Sacatepequez|San Marcos|Santa Rosa|Solola|Suchitepequez|Totonicapan|Zacapa",t[93]="Castel|Forest|St. Andrew|St. Martin|St. Peter Port|St. Pierre du Bois|St. Sampson|St. Saviour|Torteval|Vale",t[94]="Beyla|Boffa|Boke|Conakry|Coyah|Dabola|Dalaba|Dinguiraye|Dubreka|Faranah|Forecariah|Fria|Gaoual|Gueckedou|Kankan|Kerouane|Kindia|Kissidougou|Koubia|Koundara|Kouroussa|Labe|Lelouma|Lola|Macenta|Mali|Mamou|Mandiana|Nzerekore|Pita|Siguiri|Telimele|Tougue|Yomou",t[95]="Bafata|Biombo|Bissau|Bolama-Bijagos|Cacheu|Gabu|Oio|Quinara|Tombali",t[96]="Barima-Waini|Cuyuni-Mazaruni|Demerara-Mahaica|East Berbice-Corentyne|Essequibo Islands-West Demerara|Mahaica-Berbice|Pomeroon-Supenaam|Potaro-Siparuni|Upper Demerara-Berbice|Upper Takutu-Upper Essequibo",t[97]="Artibonite|Centre|Grand'Anse|Nord|Nord-Est|Nord-Ouest|Ouest|Sud|Sud-Est",t[98]="Heard Island and McDonald Islands",t[99]="Holy See (Vatican City)",t[100]="Atlantida|Choluteca|Colon|Comayagua|Copan|Cortes|El Paraiso|Francisco Morazan|Gracias a Dios|Intibuca|Islas de la Bahia|La Paz|Lempira|Ocotepeque|Olancho|Santa Barbara|Valle|Yoro",t[101]="Hong Kong",t[102]="Howland Island",t[103]="Bacs-Kiskun|Baranya|Bekes|Bekescsaba|Borsod-Abauj-Zemplen|Budapest|Csongrad|Debrecen|Dunaujvaros|Eger|Fejer|Gyor|Gyor-Moson-Sopron|Hajdu-Bihar|Heves|Hodmezovasarhely|Jasz-Nagykun-Szolnok|Kaposvar|Kecskemet|Komarom-Esztergom|Miskolc|Nagykanizsa|Nograd|Nyiregyhaza|Pecs|Pest|Somogy|Sopron|Szabolcs-Szatmar-Bereg|Szeged|Szekesfehervar|Szolnok|Szombathely|Tatabanya|Tolna|Vas|Veszprem|Veszprem|Zala|Zalaegerszeg",t[104]="Akranes|Akureyri|Arnessysla|Austur-Bardhastrandarsysla|Austur-Hunavatnssysla|Austur-Skaftafellssysla|Borgarfjardharsysla|Dalasysla|Eyjafjardharsysla|Gullbringusysla|Hafnarfjordhur|Husavik|Isafjordhur|Keflavik|Kjosarsysla|Kopavogur|Myrasysla|Neskaupstadhur|Nordhur-Isafjardharsysla|Nordhur-Mulasys-la|Nordhur-Thingeyjarsysla|Olafsfjordhur|Rangarvallasysla|Reykjavik|Saudharkrokur|Seydhisfjordhur|Siglufjordhur|Skagafjardharsysla|Snaefellsnes-og Hnappadalssysla|Strandasysla|Sudhur-Mulasysla|Sudhur-Thingeyjarsysla|Vesttmannaeyjar|Vestur-Bardhastrandarsysla|Vestur-Hunavatnssysla|Vestur-Isafjardharsysla|Vestur-Skaftafellssysla",t[105]="Andaman and Nicobar Islands|Andhra Pradesh|Arunachal Pradesh|Assam|Bihar|Chandigarh|Chhattisgarh|Dadra and Nagar Haveli|Daman and Diu|Delhi|Goa|Gujarat|Haryana|Himachal Pradesh|Jammu and Kashmir|Jharkhand|Karnataka|Kerala|Lakshadweep|Madhya Pradesh|Maharashtra|Manipur|Meghalaya|Mizoram|Nagaland|Orissa|Pondicherry|Punjab|Rajasthan|Sikkim|Tamil Nadu|Tripura|Uttar Pradesh|Uttaranchal|West Bengal",t[106]="Aceh|Bali|Banten|Bengkulu|East Timor|Gorontalo|Irian Jaya|Jakarta Raya|Jambi|Jawa Barat|Jawa Tengah|Jawa Timur|Kalimantan Barat|Kalimantan Selatan|Kalimantan Tengah|Kalimantan Timur|Kepulauan Bangka Belitung|Lampung|Maluku|Maluku Utara|Nusa Tenggara Barat|Nusa Tenggara Timur|Riau|Sulawesi Selatan|Sulawesi Tengah|Sulawesi Tenggara|Sulawesi Utara|Sumatera Barat|Sumatera Selatan|Sumatera Utara|Yogyakarta",t[107]="Ardabil|Azarbayjan-e Gharbi|Azarbayjan-e Sharqi|Bushehr|Chahar Mahall va Bakhtiari|Esfahan|Fars|Gilan|Golestan|Hamadan|Hormozgan|Ilam|Kerman|Kermanshah|Khorasan|Khuzestan|Kohgiluyeh va Buyer Ahmad|Kordestan|Lorestan|Markazi|Mazandaran|Qazvin|Qom|Semnan|Sistan va Baluchestan|Tehran|Yazd|Zanjan",t[108]="Al Anbar|Al Basrah|Al Muthanna|Al Qadisiyah|An Najaf|Arbil|As Sulaymaniyah|At Ta'mim|Babil|Baghdad|Dahuk|Dhi Qar|Diyala|Karbala'|Maysan|Ninawa|Salah ad Din|Wasit",t[109]="Carlow|Cavan|Clare|Cork|Donegal|Dublin|Galway|Kerry|Kildare|Kilkenny|Laois|Leitrim|Limerick|Longford|Louth|Mayo|Meath|Monaghan|Offaly|Roscommon|Sligo|Tipperary|Waterford|Westmeath|Wexford|Wicklow",t[110]="Antrim|Ards|Armagh|Ballymena|Ballymoney|Banbridge|Belfast|Carrickfergus|Castlereagh|Coleraine|Cookstown|Craigavon|Derry|Down|Dungannon|Fermanagh|Larne|Limavady|Lisburn|Magherafelt|Moyle|Newry and Mourne|Newtownabbey|North Down|Omagh|Strabane",t[111]="Central|Haifa|Jerusalem|Northern|Southern|Tel Aviv",t[112]="Abruzzo|Basilicata|Calabria|Campania|Emilia-Romagna|Friuli-Venezia Giulia|Lazio|Liguria|Lombardia|Marche|Molise|Piemonte|Puglia|Sardegna|Sicilia|Toscana|Trentino-Alto Adige|Umbria|Valle d'Aosta|Veneto",t[113]="Clarendon|Hanover|Kingston|Manchester|Portland|Saint Andrew|Saint Ann|Saint Catherine|Saint Elizabeth|Saint James|Saint Mary|Saint Thomas|Trelawny|Westmoreland",t[114]="Jan Mayen",t[115]="Aichi|Akita|Aomori|Chiba|Ehime|Fukui|Fukuoka|Fukushima|Gifu|Gumma|Hiroshima|Hokkaido|Hyogo|Ibaraki|Ishikawa|Iwate|Kagawa|Kagoshima|Kanagawa|Kochi|Kumamoto|Kyoto|Mie|Miyagi|Miyazaki|Nagano|Nagasaki|Nara|Niigata|Oita|Okayama|Okinawa|Osaka|Saga|Saitama|Shiga|Shimane|Shizuoka|Tochigi|Tokushima|Tokyo|Tottori|Toyama|Wakayama|Yamagata|Yamaguchi|Yamanashi",t[116]="Jarvis Island",t[117]="Jersey",t[118]="Johnston Atoll",t[119]="'Amman|Ajlun|Al 'Aqabah|Al Balqa'|Al Karak|Al Mafraq|At Tafilah|Az Zarqa'|Irbid|Jarash|Ma'an|Madaba",t[120]="Juan de Nova Island",t[121]="Almaty|Aqmola|Aqtobe|Astana|Atyrau|Batys Qazaqstan|Bayqongyr|Mangghystau|Ongtustik Qazaqstan|Pavlodar|Qaraghandy|Qostanay|Qyzylorda|Shyghys Qazaqstan|Soltustik Qazaqstan|Zhambyl",t[122]="Central|Coast|Eastern|Nairobi Area|North Eastern|Nyanza|Rift Valley|Western",t[123]="Abaiang|Abemama|Aranuka|Arorae|Banaba|Banaba|Beru|Butaritari|Central Gilberts|Gilbert Islands|Kanton|Kiritimati|Kuria|Line Islands|Line Islands|Maiana|Makin|Marakei|Nikunau|Nonouti|Northern Gilberts|Onotoa|Phoenix Islands|Southern Gilberts|Tabiteuea|Tabuaeran|Tamana|Tarawa|Tarawa|Teraina",t[124]="Chagang-do (Chagang Province)|Hamgyong-bukto (North Hamgyong Province)|Hamgyong-namdo (South Hamgyong Province)|Hwanghae-bukto (North Hwanghae Province)|Hwanghae-namdo (South Hwanghae Province)|Kaesong-si (Kaesong City)|Kangwon-do (Kangwon Province)|Namp'o-si (Namp'o City)|P'yongan-bukto (North P'yongan Province)|P'yongan-namdo (South P'yongan Province)|P'yongyang-si (P'yongyang City)|Yanggang-do (Yanggang Province)",t[125]="Ch'ungch'ong-bukto|Ch'ungch'ong-namdo|Cheju-do|Cholla-bukto|Cholla-namdo|Inch'on-gwangyoksi|Kangwon-do|Kwangju-gwangyoksi|Kyonggi-do|Kyongsang-bukto|Kyongsang-namdo|Pusan-gwangyoksi|Soul-t'ukpyolsi|Taegu-gwangyoksi|Taejon-gwangyoksi|Ulsan-gwangyoksi",t[126]="Al 'Asimah|Al Ahmadi|Al Farwaniyah|Al Jahra'|Hawalli",t[127]="Batken Oblasty|Bishkek Shaary|Chuy Oblasty (Bishkek)|Jalal-Abad Oblasty|Naryn Oblasty|Osh Oblasty|Talas Oblasty|Ysyk-Kol Oblasty (Karakol)",t[128]="Attapu|Bokeo|Bolikhamxai|Champasak|Houaphan|Khammouan|Louangnamtha|Louangphabang|Oudomxai|Phongsali|Salavan|Savannakhet|Viangchan|Viangchan|Xaignabouli|Xaisomboun|Xekong|Xiangkhoang",t[129]="Aizkraukles Rajons|Aluksnes Rajons|Balvu Rajons|Bauskas Rajons|Cesu Rajons|Daugavpils|Daugavpils Rajons|Dobeles Rajons|Gulbenes Rajons|Jekabpils Rajons|Jelgava|Jelgavas Rajons|Jurmala|Kraslavas Rajons|Kuldigas Rajons|Leipaja|Liepajas Rajons|Limbazu Rajons|Ludzas Rajons|Madonas Rajons|Ogres Rajons|Preilu Rajons|Rezekne|Rezeknes Rajons|Riga|Rigas Rajons|Saldus Rajons|Talsu Rajons|Tukuma Rajons|Valkas Rajons|Valmieras Rajons|Ventspils|Ventspils Rajons",t[130]="Beyrouth|Ech Chimal|Ej Jnoub|El Bekaa|Jabal Loubnane",t[131]="Berea|Butha-Buthe|Leribe|Mafeteng|Maseru|Mohales Hoek|Mokhotlong|Qacha's Nek|Quthing|Thaba-Tseka",t[132]="Bomi|Bong|Grand Bassa|Grand Cape Mount|Grand Gedeh|Grand Kru|Lofa|Margibi|Maryland|Montserrado|Nimba|River Cess|Sinoe",t[133]="Ajdabiya|Al 'Aziziyah|Al Fatih|Al Jabal al Akhdar|Al Jufrah|Al Khums|Al Kufrah|An Nuqat al Khams|Ash Shati'|Awbari|Az Zawiyah|Banghazi|Darnah|Ghadamis|Gharyan|Misratah|Murzuq|Sabha|Sawfajjin|Surt|Tarabulus|Tarhunah|Tubruq|Yafran|Zlitan",t[134]="Balzers|Eschen|Gamprin|Mauren|Planken|Ruggell|Schaan|Schellenberg|Triesen|Triesenberg|Vaduz",t[135]="Akmenes Rajonas|Alytaus Rajonas|Alytus|Anyksciu Rajonas|Birstonas|Birzu Rajonas|Druskininkai|Ignalinos Rajonas|Jonavos Rajonas|Joniskio Rajonas|Jurbarko Rajonas|Kaisiadoriu Rajonas|Kaunas|Kauno Rajonas|Kedainiu Rajonas|Kelmes Rajonas|Klaipeda|Klaipedos Rajonas|Kretingos Rajonas|Kupiskio Rajonas|Lazdiju Rajonas|Marijampole|Marijampoles Rajonas|Mazeikiu Rajonas|Moletu Rajonas|Neringa Pakruojo Rajonas|Palanga|Panevezio Rajonas|Panevezys|Pasvalio Rajonas|Plunges Rajonas|Prienu Rajonas|Radviliskio Rajonas|Raseiniu Rajonas|Rokiskio Rajonas|Sakiu Rajonas|Salcininku Rajonas|Siauliai|Siauliu Rajonas|Silales Rajonas|Silutes Rajonas|Sirvintu Rajonas|Skuodo Rajonas|Svencioniu Rajonas|Taurages Rajonas|Telsiu Rajonas|Traku Rajonas|Ukmerges Rajonas|Utenos Rajonas|Varenos Rajonas|Vilkaviskio Rajonas|Vilniaus Rajonas|Vilnius|Zarasu Rajonas",t[136]="Diekirch|Grevenmacher|Luxembourg",t[137]="Macau",t[138]="Aracinovo|Bac|Belcista|Berovo|Bistrica|Bitola|Blatec|Bogdanci|Bogomila|Bogovinje|Bosilovo|Brvenica|Cair (Skopje)|Capari|Caska|Cegrane|Centar (Skopje)|Centar Zupa|Cesinovo|Cucer-Sandevo|Debar|Delcevo|Delogozdi|Demir Hisar|Demir Kapija|Dobrusevo|Dolna Banjica|Dolneni|Dorce Petrov (Skopje)|Drugovo|Dzepciste|Gazi Baba (Skopje)|Gevgelija|Gostivar|Gradsko|Ilinden|Izvor|Jegunovce|Kamenjane|Karbinci|Karpos (Skopje)|Kavadarci|Kicevo|Kisela Voda (Skopje)|Klecevce|Kocani|Konce|Kondovo|Konopiste|Kosel|Kratovo|Kriva Palanka|Krivogastani|Krusevo|Kuklis|Kukurecani|Kumanovo|Labunista|Lipkovo|Lozovo|Lukovo|Makedonska Kamenica|Makedonski Brod|Mavrovi Anovi|Meseista|Miravci|Mogila|Murtino|Negotino|Negotino-Poloska|Novaci|Novo Selo|Oblesevo|Ohrid|Orasac|Orizari|Oslomej|Pehcevo|Petrovec|Plasnia|Podares|Prilep|Probistip|Radovis|Rankovce|Resen|Rosoman|Rostusa|Samokov|Saraj|Sipkovica|Sopiste|Sopotnika|Srbinovo|Star Dojran|Staravina|Staro Nagoricane|Stip|Struga|Strumica|Studenicani|Suto Orizari (Skopje)|Sveti Nikole|Tearce|Tetovo|Topolcani|Valandovo|Vasilevo|Veles|Velesta|Vevcani|Vinica|Vitoliste|Vranestica|Vrapciste|Vratnica|Vrutok|Zajas|Zelenikovo|Zileno|Zitose|Zletovo|Zrnovci",t[139]="Antananarivo|Antsiranana|Fianarantsoa|Mahajanga|Toamasina|Toliara",t[140]="Balaka|Blantyre|Chikwawa|Chiradzulu|Chitipa|Dedza|Dowa|Karonga|Kasungu|Likoma|Lilongwe|Machinga (Kasupe)|Mangochi|Mchinji|Mulanje|Mwanza|Mzimba|Nkhata Bay|Nkhotakota|Nsanje|Ntcheu|Ntchisi|Phalombe|Rumphi|Salima|Thyolo|Zomba",t[141]="Johor|Kedah|Kelantan|Labuan|Melaka|Negeri Sembilan|Pahang|Perak|Perlis|Pulau Pinang|Sabah|Sarawak|Selangor|Terengganu|Wilayah Persekutuan",t[142]="Alifu|Baa|Dhaalu|Faafu|Gaafu Alifu|Gaafu Dhaalu|Gnaviyani|Haa Alifu|Haa Dhaalu|Kaafu|Laamu|Lhaviyani|Maale|Meemu|Noonu|Raa|Seenu|Shaviyani|Thaa|Vaavu",t[143]="Gao|Kayes|Kidal|Koulikoro|Mopti|Segou|Sikasso|Tombouctou",t[144]="Valletta",t[145]="Man, Isle of",t[146]="Ailinginae|Ailinglaplap|Ailuk|Arno|Aur|Bikar|Bikini|Bokak|Ebon|Enewetak|Erikub|Jabat|Jaluit|Jemo|Kili|Kwajalein|Lae|Lib|Likiep|Majuro|Maloelap|Mejit|Mili|Namorik|Namu|Rongelap|Rongrik|Toke|Ujae|Ujelang|Utirik|Wotho|Wotje",t[147]="Martinique",t[148]="Adrar|Assaba|Brakna|Dakhlet Nouadhibou|Gorgol|Guidimaka|Hodh Ech Chargui|Hodh El Gharbi|Inchiri|Nouakchott|Tagant|Tiris Zemmour|Trarza",t[149]="Agalega Islands|Black River|Cargados Carajos Shoals|Flacq|Grand Port|Moka|Pamplemousses|Plaines Wilhems|Port Louis|Riviere du Rempart|Rodrigues|Savanne",t[150]="Mayotte",t[151]="Aguascalientes|Baja California|Baja California Sur|Campeche|Chiapas|Chihuahua|Coahuila de Zaragoza|Colima|Distrito Federal|Durango|Guanajuato|Guerrero|Hidalgo|Jalisco|Mexico|Michoacan de Ocampo|Morelos|Nayarit|Nuevo Leon|Oaxaca|Puebla|Queretaro de Arteaga|Quintana Roo|San Luis Potosi|Sinaloa|Sonora|Tabasco|Tamaulipas|Tlaxcala|Veracruz-Llave|Yucatan|Zacatecas",t[152]="Chuuk (Truk)|Kosrae|Pohnpei|Yap",t[153]="Midway Islands",t[154]="Balti|Cahul|Chisinau|Chisinau|Dubasari|Edinet|Gagauzia|Lapusna|Orhei|Soroca|Tighina|Ungheni",t[155]="Fontvieille|La Condamine|Monaco-Ville|Monte-Carlo",t[156]="Arhangay|Bayan-Olgiy|Bayanhongor|Bulgan|Darhan|Dornod|Dornogovi|Dundgovi|Dzavhan|Erdenet|Govi-Altay|Hentiy|Hovd|Hovsgol|Omnogovi|Ovorhangay|Selenge|Suhbaatar|Tov|Ulaanbaatar|Uvs",t[157]="Saint Anthony|Saint Georges|Saint Peter's",t[158]="Agadir|Al Hoceima|Azilal|Ben Slimane|Beni Mellal|Boulemane|Casablanca|Chaouen|El Jadida|El Kelaa des Srarhna|Er Rachidia|Essaouira|Fes|Figuig|Guelmim|Ifrane|Kenitra|Khemisset|Khenifra|Khouribga|Laayoune|Larache|Marrakech|Meknes|Nador|Ouarzazate|Oujda|Rabat-Sale|Safi|Settat|Sidi Kacem|Tan-Tan|Tanger|Taounate|Taroudannt|Tata|Taza|Tetouan|Tiznit",t[159]="Cabo Delgado|Gaza|Inhambane|Manica|Maputo|Nampula|Niassa|Sofala|Tete|Zambezia",t[160]="Caprivi|Erongo|Hardap|Karas|Khomas|Kunene|Ohangwena|Okavango|Omaheke|Omusati|Oshana|Oshikoto|Otjozondjupa",t[161]="Aiwo|Anabar|Anetan|Anibare|Baiti|Boe|Buada|Denigomodu|Ewa|Ijuw|Meneng|Nibok|Uaboe|Yaren",t[162]="Bagmati|Bheri|Dhawalagiri|Gandaki|Janakpur|Karnali|Kosi|Lumbini|Mahakali|Mechi|Narayani|Rapti|Sagarmatha|Seti",t[163]="Drenthe|Flevoland|Friesland|Gelderland|Groningen|Limburg|Noord-Brabant|Noord-Holland|Overijssel|Utrecht|Zeeland|Zuid-Holland",t[164]="Netherlands Antilles",t[165]="Iles Loyaute|Nord|Sud",t[166]="Akaroa|Amuri|Ashburton|Bay of Islands|Bruce|Buller|Chatham Islands|Cheviot|Clifton|Clutha|Cook|Dannevirke|Egmont|Eketahuna|Ellesmere|Eltham|Eyre|Featherston|Franklin|Golden Bay|Great Barrier Island|Grey|Hauraki Plains|Hawera|Hawke's Bay|Heathcote|Hikurangi|Hobson|Hokianga|Horowhenua|Hurunui|Hutt|Inangahua|Inglewood|Kaikoura|Kairanga|Kiwitea|Lake|Mackenzie|Malvern|Manaia|Manawatu|Mangonui|Maniototo|Marlborough|Masterton|Matamata|Mount Herbert|Ohinemuri|Opotiki|Oroua|Otamatea|Otorohanga|Oxford|Pahiatua|Paparua|Patea|Piako|Pohangina|Raglan|Rangiora|Rangitikei|Rodney|Rotorua|Runanga|Saint Kilda|Silverpeaks|Southland|Stewart Island|Stratford|Strathallan|Taranaki|Taumarunui|Taupo|Tauranga|Thames-Coromandel|Tuapeka|Vincent|Waiapu|Waiheke|Waihemo|Waikato|Waikohu|Waimairi|Waimarino|Waimate|Waimate West|Waimea|Waipa|Waipawa|Waipukurau|Wairarapa South|Wairewa|Wairoa|Waitaki|Waitomo|Waitotara|Wallace|Wanganui|Waverley|Westland|Whakatane|Whangarei|Whangaroa|Woodville",t[167]="Atlantico Norte|Atlantico Sur|Boaco|Carazo|Chinandega|Chontales|Esteli|Granada|Jinotega|Leon|Madriz|Managua|Masaya|Matagalpa|Nueva Segovia|Rio San Juan|Rivas",t[168]="Agadez|Diffa|Dosso|Maradi|Niamey|Tahoua|Tillaberi|Zinder",t[169]="Abia|Abuja Federal Capital Territory|Adamawa|Akwa Ibom|Anambra|Bauchi|Bayelsa|Benue|Borno|Cross River|Delta|Ebonyi|Edo|Ekiti|Enugu|Gombe|Imo|Jigawa|Kaduna|Kano|Katsina|Kebbi|Kogi|Kwara|Lagos|Nassarawa|Niger|Ogun|Ondo|Osun|Oyo|Plateau|Rivers|Sokoto|Taraba|Yobe|Zamfara",t[170]="Niue",t[171]="Norfolk Island",t[172]="Northern Islands|Rota|Saipan|Tinian",t[173]="Akershus|Aust-Agder|Buskerud|Finnmark|Hedmark|Hordaland|More og Romsdal|Nord-Trondelag|Nordland|Oppland|Oslo|Ostfold|Rogaland|Sogn og Fjordane|Sor-Trondelag|Telemark|Troms|Vest-Agder|Vestfold",t[174]="Ad Dakhiliyah|Al Batinah|Al Wusta|Ash Sharqiyah|Az Zahirah|Masqat|Musandam|Zufar",t[175]="Balochistan|Federally Administered Tribal Areas|Islamabad Capital Territory|North-West Frontier Province|Punjab|Sindh",t[176]="Aimeliik|Airai|Angaur|Hatobohei|Kayangel|Koror|Melekeok|Ngaraard|Ngarchelong|Ngardmau|Ngatpang|Ngchesar|Ngeremlengui|Ngiwal|Palau Island|Peleliu|Sonsoral|Tobi",t[177]="Bocas del Toro|Chiriqui|Cocle|Colon|Darien|Herrera|Los Santos|Panama|San Blas|Veraguas",t[178]="Bougainville|Central|Chimbu|East New Britain|East Sepik|Eastern Highlands|Enga|Gulf|Madang|Manus|Milne Bay|Morobe|National Capital|New Ireland|Northern|Sandaun|Southern Highlands|West New Britain|Western|Western Highlands",t[179]="Alto Paraguay|Alto Parana|Amambay|Asuncion (city)|Boqueron|Caaguazu|Caazapa|Canindeyu|Central|Concepcion|Cordillera|Guaira|Itapua|Misiones|Neembucu|Paraguari|Presidente Hayes|San Pedro",t[180]="Amazonas|Ancash|Apurimac|Arequipa|Ayacucho|Cajamarca|Callao|Cusco|Huancavelica|Huanuco|Ica|Junin|La Libertad|Lambayeque|Lima|Loreto|Madre de Dios|Moquegua|Pasco|Piura|Puno|San Martin|Tacna|Tumbes|Ucayali",t[181]="Abra|Agusan del Norte|Agusan del Sur|Aklan|Albay|Angeles|Antique|Aurora|Bacolod|Bago|Baguio|Bais|Basilan|Basilan City|Bataan|Batanes|Batangas|Batangas City|Benguet|Bohol|Bukidnon|Bulacan|Butuan|Cabanatuan|Cadiz|Cagayan|Cagayan de Oro|Calbayog|Caloocan|Camarines Norte|Camarines Sur|Camiguin|Canlaon|Capiz|Catanduanes|Cavite|Cavite City|Cebu|Cebu City|Cotabato|Dagupan|Danao|Dapitan|Davao City Davao|Davao del Sur|Davao Oriental|Dipolog|Dumaguete|Eastern Samar|General Santos|Gingoog|Ifugao|Iligan|Ilocos Norte|Ilocos Sur|Iloilo|Iloilo City|Iriga|Isabela|Kalinga-Apayao|La Carlota|La Union|Laguna|Lanao del Norte|Lanao del Sur|Laoag|Lapu-Lapu|Legaspi|Leyte|Lipa|Lucena|Maguindanao|Mandaue|Manila|Marawi|Marinduque|Masbate|Mindoro Occidental|Mindoro Oriental|Misamis Occidental|Misamis Oriental|Mountain|Naga|Negros Occidental|Negros Oriental|North Cotabato|Northern Samar|Nueva Ecija|Nueva Vizcaya|Olongapo|Ormoc|Oroquieta|Ozamis|Pagadian|Palawan|Palayan|Pampanga|Pangasinan|Pasay|Puerto Princesa|Quezon|Quezon City|Quirino|Rizal|Romblon|Roxas|Samar|San Carlos (in Negros Occidental)|San Carlos (in Pangasinan)|San Jose|San Pablo|Silay|Siquijor|Sorsogon|South Cotabato|Southern Leyte|Sultan Kudarat|Sulu|Surigao|Surigao del Norte|Surigao del Sur|Tacloban|Tagaytay|Tagbilaran|Tangub|Tarlac|Tawitawi|Toledo|Trece Martires|Zambales|Zamboanga|Zamboanga del Norte|Zamboanga del Sur",t[182]="Pitcaim Islands",t[183]="Dolnoslaskie|Kujawsko-Pomorskie|Lodzkie|Lubelskie|Lubuskie|Malopolskie|Mazowieckie|Opolskie|Podkarpackie|Podlaskie|Pomorskie|Slaskie|Swietokrzyskie|Warminsko-Mazurskie|Wielkopolskie|Zachodniopomorskie",t[184]="Acores (Azores)|Aveiro|Beja|Braga|Braganca|Castelo Branco|Coimbra|Evora|Faro|Guarda|Leiria|Lisboa|Madeira|Portalegre|Porto|Santarem|Setubal|Viana do Castelo|Vila Real|Viseu",t[185]="Adjuntas|Aguada|Aguadilla|Aguas Buenas|Aibonito|Anasco|Arecibo|Arroyo|Barceloneta|Barranquitas|Bayamon|Cabo Rojo|Caguas|Camuy|Canovanas|Carolina|Catano|Cayey|Ceiba|Ciales|Cidra|Coamo|Comerio|Corozal|Culebra|Dorado|Fajardo|Florida|Guanica|Guayama|Guayanilla|Guaynabo|Gurabo|Hatillo|Hormigueros|Humacao|Isabela|Jayuya|Juana Diaz|Juncos|Lajas|Lares|Las Marias|Las Piedras|Loiza|Luquillo|Manati|Maricao|Maunabo|Mayaguez|Moca|Morovis|Naguabo|Naranjito|Orocovis|Patillas|Penuelas|Ponce|Quebradillas|Rincon|Rio Grande|Sabana Grande|Salinas|San German|San Juan|San Lorenzo|San Sebastian|Santa Isabel|Toa Alta|Toa Baja|Trujillo Alto|Utuado|Vega Alta|Vega Baja|Vieques|Villalba|Yabucoa|Yauco",t[186]="Ad Dawhah|Al Ghuwayriyah|Al Jumayliyah|Al Khawr|Al Wakrah|Ar Rayyan|Jarayan al Batinah|Madinat ash Shamal|Umm Salal",t[187]="Reunion",t[188]="Alba|Arad|Arges|Bacau|Bihor|Bistrita-Nasaud|Botosani|Braila|Brasov|Bucuresti|Buzau|Calarasi|Caras-Severin|Cluj|Constanta|Covasna|Dimbovita|Dolj|Galati|Giurgiu|Gorj|Harghita|Hunedoara|Ialomita|Iasi|Maramures|Mehedinti|Mures|Neamt|Olt|Prahova|Salaj|Satu Mare|Sibiu|Suceava|Teleorman|Timis|Tulcea|Vaslui|Vilcea|Vrancea",t[189]="Adygeya (Maykop)|Aginskiy Buryatskiy (Aginskoye)|Altay (Gorno-Altaysk)|Altayskiy (Barnaul)|Amurskaya (Blagoveshchensk)|Arkhangel'skaya|Astrakhanskaya|Bashkortostan (Ufa)|Belgorodskaya|Bryanskaya|Buryatiya (Ulan-Ude)|Chechnya (Groznyy)|Chelyabinskaya|Chitinskaya|Chukotskiy (Anadyr')|Chuvashiya (Cheboksary)|Dagestan (Makhachkala)|Evenkiyskiy (Tura)|Ingushetiya (Nazran')|Irkutskaya|Ivanovskaya|Kabardino-Balkariya (Nal'chik)|Kaliningradskaya|Kalmykiya (Elista)|Kaluzhskaya|Kamchatskaya (Petropavlovsk-Kamchatskiy)|Karachayevo-Cherkesiya (Cherkessk)|Kareliya (Petrozavodsk)|Kemerovskaya|Khabarovskiy|Khakasiya (Abakan)|Khanty-Mansiyskiy (Khanty-Mansiysk)|Kirovskaya|Komi (Syktyvkar)|Komi-Permyatskiy (Kudymkar)|Koryakskiy (Palana)|Kostromskaya|Krasnodarskiy|Krasnoyarskiy|Kurganskaya|Kurskaya|Leningradskaya|Lipetskaya|Magadanskaya|Mariy-El (Yoshkar-Ola)|Mordoviya (Saransk)|Moskovskaya|Moskva (Moscow)|Murmanskaya|Nenetskiy (Nar'yan-Mar)|Nizhegorodskaya|Novgorodskaya|Novosibirskaya|Omskaya|Orenburgskaya|Orlovskaya (Orel)|Penzenskaya|Permskaya|Primorskiy (Vladivostok)|Pskovskaya|Rostovskaya|Ryazanskaya|Sakha (Yakutsk)|Sakhalinskaya (Yuzhno-Sakhalinsk)|Samarskaya|Sankt-Peterburg (Saint Petersburg)|Saratovskaya|Severnaya Osetiya-Alaniya [North Ossetia] (Vladikavkaz)|Smolenskaya|Stavropol'skiy|Sverdlovskaya (Yekaterinburg)|Tambovskaya|Tatarstan (Kazan')|Taymyrskiy (Dudinka)|Tomskaya|Tul'skaya|Tverskaya|Tyumenskaya|Tyva (Kyzyl)|Udmurtiya (Izhevsk)|Ul'yanovskaya|Ust'-Ordynskiy Buryatskiy (Ust'-Ordynskiy)|Vladimirskaya|Volgogradskaya|Vologodskaya|Voronezhskaya|Yamalo-Nenetskiy (Salekhard)|Yaroslavskaya|Yevreyskaya",t[190]="Butare|Byumba|Cyangugu|Gikongoro|Gisenyi|Gitarama|Kibungo|Kibuye|Kigali Rurale|Kigali-ville|Ruhengeri|Umutara",t[191]="Ascension|Saint Helena|Tristan da Cunha",t[192]="Christ Church Nichola Town|Saint Anne Sandy Point|Saint George Basseterre|Saint George Gingerland|Saint James Windward|Saint John Capisterre|Saint John Figtree|Saint Mary Cayon|Saint Paul Capisterre|Saint Paul Charlestown|Saint Peter Basseterre|Saint Thomas Lowland|Saint Thomas Middle Island|Trinity Palmetto Point",t[193]="Anse-la-Raye|Castries|Choiseul|Dauphin|Dennery|Gros Islet|Laborie|Micoud|Praslin|Soufriere|Vieux Fort",t[194]="Miquelon|Saint Pierre",t[195]="Charlotte|Grenadines|Saint Andrew|Saint David|Saint George|Saint Patrick",t[196]="A'ana|Aiga-i-le-Tai|Atua|Fa'asaleleaga|Gaga'emauga|Gagaifomauga|Palauli|Satupa'itea|Tuamasaga|Va'a-o-Fonoti|Vaisigano",t[197]="Acquaviva|Borgo Maggiore|Chiesanuova|Domagnano|Faetano|Fiorentino|Monte Giardino|San Marino|Serravalle",t[198]="Principe|Sao Tome",t[199]="'Asir|Al Bahah|Al Hudud ash Shamaliyah|Al Jawf|Al Madinah|Al Qasim|Ar Riyad|Ash Sharqiyah (Eastern Province)|Ha'il|Jizan|Makkah|Najran|Tabuk",t[200]="Aberdeen City|Aberdeenshire|Angus|Argyll and Bute|City of Edinburgh|Clackmannanshire|Dumfries and Galloway|Dundee City|East Ayrshire|East Dunbartonshire|East Lothian|East Renfrewshire|Eilean Siar (Western Isles)|Falkirk|Fife|Glasgow City|Highland|Inverclyde|Midlothian|Moray|North Ayrshire|North Lanarkshire|Orkney Islands|Perth and Kinross|Renfrewshire|Shetland Islands|South Ayrshire|South Lanarkshire|Stirling|The Scottish Borders|West Dunbartonshire|West Lothian",t[201]="Dakar|Diourbel|Fatick|Kaolack|Kolda|Louga|Saint-Louis|Tambacounda|Thies|Ziguinchor",
t[202]="Anse aux Pins|Anse Boileau|Anse Etoile|Anse Louis|Anse Royale|Baie Lazare|Baie Sainte Anne|Beau Vallon|Bel Air|Bel Ombre|Cascade|Glacis|Grand' Anse (on Mahe)|Grand' Anse (on Praslin)|La Digue|La Riviere Anglaise|Mont Buxton|Mont Fleuri|Plaisance|Pointe La Rue|Port Glaud|Saint Louis|Takamaka",t[203]="Eastern|Northern|Southern|Western",t[204]="Singapore",t[205]="Banskobystricky|Bratislavsky|Kosicky|Nitriansky|Presovsky|Trenciansky|Trnavsky|Zilinsky",t[206]="Ajdovscina|Beltinci|Bled|Bohinj|Borovnica|Bovec|Brda|Brezice|Brezovica|Cankova-Tisina|Celje|Cerklje na Gorenjskem|Cerknica|Cerkno|Crensovci|Crna na Koroskem|Crnomelj|Destrnik-Trnovska Vas|Divaca|Dobrepolje|Dobrova-Horjul-Polhov Gradec|Dol pri Ljubljani|Domzale|Dornava|Dravograd|Duplek|Gorenja Vas-Poljane|Gorisnica|Gornja Radgona|Gornji Grad|Gornji Petrovci|Grosuplje|Hodos Salovci|Hrastnik|Hrpelje-Kozina|Idrija|Ig|Ilirska Bistrica|Ivancna Gorica|Izola|Jesenice|Jursinci|Kamnik|Kanal|Kidricevo|Kobarid|Kobilje|Kocevje|Komen|Koper|Kozje|Kranj|Kranjska Gora|Krsko|Kungota|Kuzma|Lasko|Lenart|Lendava|Litija|Ljubljana|Ljubno|Ljutomer|Logatec|Loska Dolina|Loski Potok|Luce|Lukovica|Majsperk|Maribor|Medvode|Menges|Metlika|Mezica|Miren-Kostanjevica|Mislinja|Moravce|Moravske Toplice|Mozirje|Murska Sobota|Muta|Naklo|Nazarje|Nova Gorica|Novo Mesto|Odranci|Ormoz|Osilnica|Pesnica|Piran|Pivka|Podcetrtek|Podvelka-Ribnica|Postojna|Preddvor|Ptuj|Puconci|Race-Fram|Radece|Radenci|Radlje ob Dravi|Radovljica|Ravne-Prevalje|Ribnica|Rogasevci|Rogaska Slatina|Rogatec|Ruse|Semic|Sencur|Sentilj|Sentjernej|Sentjur pri Celju|Sevnica|Sezana|Skocjan|Skofja Loka|Skofljica|Slovenj Gradec|Slovenska Bistrica|Slovenske Konjice|Smarje pri Jelsah|Smartno ob Paki|Sostanj|Starse|Store|Sveti Jurij|Tolmin|Trbovlje|Trebnje|Trzic|Turnisce|Velenje|Velike Lasce|Videm|Vipava|Vitanje|Vodice|Vojnik|Vrhnika|Vuzenica|Zagorje ob Savi|Zalec|Zavrc|Zelezniki|Ziri|Zrece",t[207]="Bellona|Central|Choiseul (Lauru)|Guadalcanal|Honiara|Isabel|Makira|Malaita|Rennell|Temotu|Western",t[208]="Awdal|Bakool|Banaadir|Bari|Bay|Galguduud|Gedo|Hiiraan|Jubbada Dhexe|Jubbada Hoose|Mudug|Nugaal|Sanaag|Shabeellaha Dhexe|Shabeellaha Hoose|Sool|Togdheer|Woqooyi Galbeed",t[209]="Eastern Cape|Free State|Gauteng|KwaZulu-Natal|Mpumalanga|North-West|Northern Cape|Northern Province|Western Cape",t[210]="Bird Island|Bristol Island|Clerke Rocks|Montagu Island|Saunders Island|South Georgia|Southern Thule|Traversay Islands",t[211]="Andalucia|Aragon|Asturias|Baleares (Balearic Islands)|Canarias (Canary Islands)|Cantabria|Castilla y Leon|Castilla-La Mancha|Cataluna|Ceuta|Communidad Valencian|Extremadura|Galicia|Islas Chafarinas|La Rioja|Madrid|Melilla|Murcia|Navarra|Pais Vasco (Basque Country)|Penon de Alhucemas|Penon de Velez de la Gomera",t[212]="Spratly Islands",t[213]="Central|Eastern|North Central|North Eastern|North Western|Northern|Sabaragamuwa|Southern|Uva|Western",t[214]="A'ali an Nil|Al Bahr al Ahmar|Al Buhayrat|Al Jazirah|Al Khartum|Al Qadarif|Al Wahdah|An Nil al Abyad|An Nil al Azraq|Ash Shamaliyah|Bahr al Jabal|Gharb al Istiwa'iyah|Gharb Bahr al Ghazal|Gharb Darfur|Gharb Kurdufan|Janub Darfur|Janub Kurdufan|Junqali|Kassala|Nahr an Nil|Shamal Bahr al Ghazal|Shamal Darfur|Shamal Kurdufan|Sharq al Istiwa'iyah|Sinnar|Warab",t[215]="Brokopondo|Commewijne|Coronie|Marowijne|Nickerie|Para|Paramaribo|Saramacca|Sipaliwini|Wanica",t[216]="Barentsoya|Bjornoya|Edgeoya|Hopen|Kvitoya|Nordaustandet|Prins Karls Forland|Spitsbergen",t[217]="Hhohho|Lubombo|Manzini|Shiselweni",t[218]="Blekinge|Dalarnas|Gavleborgs|Gotlands|Hallands|Jamtlands|Jonkopings|Kalmar|Kronobergs|Norrbottens|Orebro|Ostergotlands|Skane|Sodermanlands|Stockholms|Uppsala|Varmlands|Vasterbottens|Vasternorrlands|Vastmanlands|Vastra Gotalands",t[219]="Aargau|Ausser-Rhoden|Basel-Landschaft|Basel-Stadt|Bern|Fribourg|Geneve|Glarus|Graubunden|Inner-Rhoden|Jura|Luzern|Neuchatel|Nidwalden|Obwalden|Sankt Gallen|Schaffhausen|Schwyz|Solothurn|Thurgau|Ticino|Uri|Valais|Vaud|Zug|Zurich",t[220]="Al Hasakah|Al Ladhiqiyah|Al Qunaytirah|Ar Raqqah|As Suwayda'|Dar'a|Dayr az Zawr|Dimashq|Halab|Hamah|Hims|Idlib|Rif Dimashq|Tartus",t[221]="Chang-hua|Chi-lung|Chia-i|Chia-i|Chung-hsing-hsin-ts'un|Hsin-chu|Hsin-chu|Hua-lien|I-lan|Kao-hsiung|Kao-hsiung|Miao-li|Nan-t'ou|P'eng-hu|P'ing-tung|T'ai-chung|T'ai-chung|T'ai-nan|T'ai-nan|T'ai-pei|T'ai-pei|T'ai-tung|T'ao-yuan|Yun-lin",t[222]="Viloyati Khatlon|Viloyati Leninobod|Viloyati Mukhtori Kuhistoni Badakhshon",t[223]="Arusha|Dar es Salaam|Dodoma|Iringa|Kagera|Kigoma|Kilimanjaro|Lindi|Mara|Mbeya|Morogoro|Mtwara|Mwanza|Pemba North|Pemba South|Pwani|Rukwa|Ruvuma|Shinyanga|Singida|Tabora|Tanga|Zanzibar Central/South|Zanzibar North|Zanzibar Urban/West",t[224]="Amnat Charoen|Ang Thong|Buriram|Chachoengsao|Chai Nat|Chaiyaphum|Chanthaburi|Chiang Mai|Chiang Rai|Chon Buri|Chumphon|Kalasin|Kamphaeng Phet|Kanchanaburi|Khon Kaen|Krabi|Krung Thep Mahanakhon (Bangkok)|Lampang|Lamphun|Loei|Lop Buri|Mae Hong Son|Maha Sarakham|Mukdahan|Nakhon Nayok|Nakhon Pathom|Nakhon Phanom|Nakhon Ratchasima|Nakhon Sawan|Nakhon Si Thammarat|Nan|Narathiwat|Nong Bua Lamphu|Nong Khai|Nonthaburi|Pathum Thani|Pattani|Phangnga|Phatthalung|Phayao|Phetchabun|Phetchaburi|Phichit|Phitsanulok|Phra Nakhon Si Ayutthaya|Phrae|Phuket|Prachin Buri|Prachuap Khiri Khan|Ranong|Ratchaburi|Rayong|Roi Et|Sa Kaeo|Sakon Nakhon|Samut Prakan|Samut Sakhon|Samut Songkhram|Sara Buri|Satun|Sing Buri|Sisaket|Songkhla|Sukhothai|Suphan Buri|Surat Thani|Surin|Tak|Trang|Trat|Ubon Ratchathani|Udon Thani|Uthai Thani|Uttaradit|Yala|Yasothon",t[225]="Tobago",t[226]="De La Kara|Des Plateaux|Des Savanes|Du Centre|Maritime",t[227]="Atafu|Fakaofo|Nukunonu",t[228]="Ha'apai|Tongatapu|Vava'u",t[229]="Arima|Caroni|Mayaro|Nariva|Port-of-Spain|Saint Andrew|Saint David|Saint George|Saint Patrick|San Fernando|Victoria",t[230]="Ariana|Beja|Ben Arous|Bizerte|El Kef|Gabes|Gafsa|Jendouba|Kairouan|Kasserine|Kebili|Mahdia|Medenine|Monastir|Nabeul|Sfax|Sidi Bou Zid|Siliana|Sousse|Tataouine|Tozeur|Tunis|Zaghouan",t[231]="Adana|Adiyaman|Afyon|Agri|Aksaray|Amasya|Ankara|Antalya|Ardahan|Artvin|Aydin|Balikesir|Bartin|Batman|Bayburt|Bilecik|Bingol|Bitlis|Bolu|Burdur|Bursa|Canakkale|Cankiri|Corum|Denizli|Diyarbakir|Duzce|Edirne|Elazig|Erzincan|Erzurum|Eskisehir|Gaziantep|Giresun|Gumushane|Hakkari|Hatay|Icel|Igdir|Isparta|Istanbul|Izmir|Kahramanmaras|Karabuk|Karaman|Kars|Kastamonu|Kayseri|Kilis|Kirikkale|Kirklareli|Kirsehir|Kocaeli|Konya|Kutahya|Malatya|Manisa|Mardin|Mugla|Mus|Nevsehir|Nigde|Ordu|Osmaniye|Rize|Sakarya|Samsun|Sanliurfa|Siirt|Sinop|Sirnak|Sivas|Tekirdag|Tokat|Trabzon|Tunceli|Usak|Van|Yalova|Yozgat|Zonguldak",t[232]="Ahal Welayaty|Balkan Welayaty|Dashhowuz Welayaty|Lebap Welayaty|Mary Welayaty",t[233]="Tuvalu",t[234]="Adjumani|Apac|Arua|Bugiri|Bundibugyo|Bushenyi|Busia|Gulu|Hoima|Iganga|Jinja|Kabale|Kabarole|Kalangala|Kampala|Kamuli|Kapchorwa|Kasese|Katakwi|Kibale|Kiboga|Kisoro|Kitgum|Kotido|Kumi|Lira|Luwero|Masaka|Masindi|Mbale|Mbarara|Moroto|Moyo|Mpigi|Mubende|Mukono|Nakasongola|Nebbi|Ntungamo|Pallisa|Rakai|Rukungiri|Sembabule|Soroti|Tororo",t[235]="Avtonomna Respublika Krym (Simferopol')|Cherkas'ka (Cherkasy)|Chernihivs'ka (Chernihiv)|Chernivets'ka (Chernivtsi)|Dnipropetrovs'ka (Dnipropetrovs'k)|Donets'ka (Donets'k)|Ivano-Frankivs'ka (Ivano-Frankivs'k)|Kharkivs'ka (Kharkiv)|Khersons'ka (Kherson)|Khmel'nyts'ka (Khmel'nyts'kyy)|Kirovohrads'ka (Kirovohrad)|Kyyiv|Kyyivs'ka (Kiev)|L'vivs'ka (L'viv)|Luhans'ka (Luhans'k)|Mykolayivs'ka (Mykolayiv)|Odes'ka (Odesa)|Poltavs'ka (Poltava)|Rivnens'ka (Rivne)|Sevastopol'|Sums'ka (Sumy)|Ternopil's'ka (Ternopil')|Vinnyts'ka (Vinnytsya)|Volyns'ka (Luts'k)|Zakarpats'ka (Uzhhorod)|Zaporiz'ka (Zaporizhzhya)|Zhytomyrs'ka (Zhytomyr)",t[236]="'Ajman|Abu Zaby (Abu Dhabi)|Al Fujayrah|Ash Shariqah (Sharjah)|Dubayy (Dubai)|Ra's al Khaymah|Umm al Qaywayn",t[237]="Barking and Dagenham|Barnet|Barnsley|Bath and North East Somerset|Bedfordshire|Bexley|Birmingham|Blackburn with Darwen|Blackpool|Bolton|Bournemouth|Bracknell Forest|Bradford|Brent|Brighton and Hove|Bromley|Buckinghamshire|Bury|Calderdale|Cambridgeshire|Camden|Cheshire|City of Bristol|City of Kingston upon Hull|City of London|Cornwall|Coventry|Croydon|Cumbria|Darlington|Derby|Derbyshire|Devon|Doncaster|Dorset|Dudley|Durham|Ealing|East Riding of Yorkshire|East Sussex|Enfield|Essex|Gateshead|Gloucestershire|Greenwich|Hackney|Halton|Hammersmith and Fulham|Hampshire|Haringey|Harrow|Hartlepool|Havering|Herefordshire|Hertfordshire|Hillingdon|Hounslow|Isle of Wight|Islington|Kensington and Chelsea|Kent|Kingston upon Thames|Kirklees|Knowsley|Lambeth|Lancashire|Leeds|Leicester|Leicestershire|Lewisham|Lincolnshire|Liverpool|Luton|Manchester|Medway|Merton|Middlesbrough|Milton Keynes|Newcastle upon Tyne|Newham|Norfolk|North East Lincolnshire|North Lincolnshire|North Somerset|North Tyneside|North Yorkshire|Northamptonshire|Northumberland|Nottingham|Nottinghamshire|Oldham|Oxfordshire|Peterborough|Plymouth|Poole|Portsmouth|Reading|Redbridge|Redcar and Cleveland|Richmond upon Thames|Rochdale|Rotherham|Rutland|Salford|Sandwell|Sefton|Sheffield|Shropshire|Slough|Solihull|Somerset|South Gloucestershire|South Tyneside|Southampton|Southend-on-Sea|Southwark|St. Helens|Staffordshire|Stockport|Stockton-on-Tees|Stoke-on-Trent|Suffolk|Sunderland|Surrey|Sutton|Swindon|Tameside|Telford and Wrekin|Thurrock|Torbay|Tower Hamlets|Trafford|Wakefield|Walsall|Waltham Forest|Wandsworth|Warrington|Warwickshire|West Berkshire|West Sussex|Westminster|Wigan|Wiltshire|Windsor and Maidenhead|Wirral|Wokingham|Wolverhampton|Worcestershire|York",t[238]="Artigas|Canelones|Cerro Largo|Colonia|Durazno|Flores|Florida|Lavalleja|Maldonado|Montevideo|Paysandu|Rio Negro|Rivera|Rocha|Salto|San Jose|Soriano|Tacuarembo|Treinta y Tres",t[239]="Alabama|Alaska|Arizona|Arkansas|California|Colorado|Connecticut|Delaware|District of Columbia|Florida|Georgia|Hawaii|Idaho|Illinois|Indiana|Iowa|Kansas|Kentucky|Louisiana|Maine|Maryland|Massachusetts|Michigan|Minnesota|Mississippi|Missouri|Montana|Nebraska|Nevada|New Hampshire|New Jersey|New Mexico|New York|North Carolina|North Dakota|Ohio|Oklahoma|Oregon|Pennsylvania|Rhode Island|South Carolina|South Dakota|Tennessee|Texas|Utah|Vermont|Virginia|Washington|West Virginia|Wisconsin|Wyoming",t[240]="Andijon Wiloyati|Bukhoro Wiloyati|Farghona Wiloyati|Jizzakh Wiloyati|Khorazm Wiloyati (Urganch)|Namangan Wiloyati|Nawoiy Wiloyati|Qashqadaryo Wiloyati (Qarshi)|Qoraqalpoghiston (Nukus)|Samarqand Wiloyati|Sirdaryo Wiloyati (Guliston)|Surkhondaryo Wiloyati (Termiz)|Toshkent Shahri|Toshkent Wiloyati",t[241]="Malampa|Penama|Sanma|Shefa|Tafea|Torba",t[242]="Amazonas|Anzoategui|Apure|Aragua|Barinas|Bolivar|Carabobo|Cojedes|Delta Amacuro|Dependencias Federales|Distrito Federal|Falcon|Guarico|Lara|Merida|Miranda|Monagas|Nueva Esparta|Portuguesa|Sucre|Tachira|Trujillo|Vargas|Yaracuy|Zulia",t[243]="An Giang|Ba Ria-Vung Tau|Bac Giang|Bac Kan|Bac Lieu|Bac Ninh|Ben Tre|Binh Dinh|Binh Duong|Binh Phuoc|Binh Thuan|Ca Mau|Can Tho|Cao Bang|Da Nang|Dac Lak|Dong Nai|Dong Thap|Gia Lai|Ha Giang|Ha Nam|Ha Noi|Ha Tay|Ha Tinh|Hai Duong|Hai Phong|Ho Chi Minh|Hoa Binh|Hung Yen|Khanh Hoa|Kien Giang|Kon Tum|Lai Chau|Lam Dong|Lang Son|Lao Cai|Long An|Nam Dinh|Nghe An|Ninh Binh|Ninh Thuan|Phu Tho|Phu Yen|Quang Binh|Quang Nam|Quang Ngai|Quang Ninh|Quang Tri|Soc Trang|Son La|Tay Ninh|Thai Binh|Thai Nguyen|Thanh Hoa|Thua Thien-Hue|Tien Giang|Tra Vinh|Tuyen Quang|Vinh Long|Vinh Phuc|Yen Bai",t[244]="Saint Croix|Saint John|Saint Thomas",t[245]="Blaenau Gwent|Bridgend|Caerphilly|Cardiff|Carmarthenshire|Ceredigion|Conwy|Denbighshire|Flintshire|Gwynedd|Isle of Anglesey|Merthyr Tydfil|Monmouthshire|Neath Port Talbot|Newport|Pembrokeshire|Powys|Rhondda Cynon Taff|Swansea|The Vale of Glamorgan|Torfaen|Wrexham",t[246]="Alo|Sigave|Wallis",t[247]="West Bank",t[248]="Western Sahara",t[249]="'Adan|'Ataq|Abyan|Al Bayda'|Al Hudaydah|Al Jawf|Al Mahrah|Al Mahwit|Dhamar|Hadhramawt|Hajjah|Ibb|Lahij|Ma'rib|Sa'dah|San'a'|Ta'izz",t[250]="Kosovo|Montenegro|Serbia|Vojvodina",t[251]="Central|Copperbelt|Eastern|Luapula|Lusaka|North-Western|Northern|Southern|Western",t[252]="Bulawayo|Harare|ManicalandMashonaland Central|Mashonaland East|Mashonaland West|Masvingo|Matabeleland North|Matabeleland South|Midlands",{countries:e,states:t}}();t.default=n},function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var a=n(2),r=(i(a),function(e){function t(t){var i=t.data("item"),a=(t.closest("div").attr("class"),t.position().left+t.width()/2-10,e('[data-nest="'+i+'"]').find(">ul>li:first-child>a"));if(e(".nested").hide(),e(".nested").parent().find("a").removeClass("active"),e(".nested").parent().find("a").parent().removeClass("active"),void 0!=i&&e('[data-nest="'+i+'"]').length>0){Z=!0,t.addClass("active"),e('[data-nest="'+i+'"]').show(),void 0!=a&&n(a);var r=371;i&&X.animate({height:r+"px"},200).addClass("expanded"),e(".scroll-nav.fixed .scroll-nav-wrap").animate({top:r+Q+"px"},200)}else X.animate({height:Q+"px"},200).removeClass("expanded"),e(".scroll-nav-wrap.fixed").animate({top:Q+"px"},200),e(".tertiary-nested").hide(),e(".nested > ul > li > a").removeClass("active")}function n(t){e(".tertiary-nested").hide(),e(".nested >ul>li>a").removeClass("active"),e(".nested >ul>li").removeClass("active");var n=t.parent().find(".tertiary-nested");n.length&&(t.addClass("active"),t.parent().addClass("active"),n.show())}function i(){te=!0,X.css("height","0px").animate({height:Q+"px"},200),e(".nav-center").fadeOut(120),e(".nav-button-holder").removeClass("collapsed"),e(".scroll-nav.fixed .scroll-nav-wrap").animate({top:J+"px"},200)}function a(){te=!1,X.animate({height:"0px"},300).removeClass("expanded"),e(".nested").hide(),e(".nav-center").fadeIn(120),e(".nav-button-holder").addClass("collapsed"),e(".scroll-nav.fixed .scroll-nav-wrap").animate({top:Q+"px"},300),setTimeout(function(){ee=!1},120)}function r(){0==Z&&(X.animate({height:Q+"px"},200).removeClass("expanded"),e(".scroll-nav-wrap.fixed").animate({top:J+"px"},200))}function s(){var t=e(".new-desktop").find(".image").children("img");t.each(function(){var t=e(this).attr("data");e(this).attr("src",t)})}function o(){e(".region .region-menu").show(),e(".region .region-button").addClass("opened").removeClass("closed"),d(),e(".my-bnym .login-button").hasClass("open")&&(e(".my-bnym .login-button").removeClass("open"),e("body").removeClass("open"),e(".shade").removeClass("open"),e(".profile-menu").removeClass("show"),e(".shade").off("click.shade"))}function l(){e(".region .region-menu").hide(),e(".region .region-button").addClass("closed").removeClass("opened")}function u(){return Y.width()<=$?(p(),e(".main-nav .search-box").width(Y.width()-2),e(".main-nav .search-box").css("height",Q+"px"),c()):(q=!0,e(".main-nav .search-box").animate({width:"550px"},120),e(".main-nav .search-holder").animate({width:"550px"},120,function(){c()}),l(),setTimeout(function(){q=!1},500)),W=!0,!1}function c(){e(".main-nav .nav-right input").show(),H.focus()}function d(){Y.width()<=$?e(".main-nav .search-box").animate({width:"0px"},120):(q=!0,e(".main-nav .search-box").animate({width:"0px"},120),e(".main-nav .search-holder").animate({width:"55"},120),setTimeout(function(){q=!1},500)),e(".main-nav .nav-right input.text").hide();var t=e("#IconToChange"),n=e("#initiate-search-icon");t.hasClass("i-search")===!1&&(t.toggleClass("i-search i-x"),n.toggleClass("hide")),W=!1}function h(){R.each(function(){var t=e(this),n=t.find(".expand"),i=t.find(".nav-nested");n.removeClass("open"),i.slideUp(120)})}function f(){for(var t=0;t<R.length;t++){var n=e(R[t]);n.css({marginTop:"100px",opacity:0}),m(n,t+1)}M.show(),e(".nav-button").addClass("open"),K=!0,v()}function p(){h();for(var t=0;t<R.length;t++){var n=e(R[R.length-1-t]);g(n,t)}setTimeout(function(){O.animate({height:"0px"},200,function(){O.hide()}),D.animate({height:"0px"},200,function(){O.hide()}),M.hide()},F),e(".nav-button").removeClass("open"),K=!1,V=!1,e("#locations").parent().next().find(".region-menu").slideUp("fast")}function m(e,t){e.animate({opacity:z,marginTop:"0px"},F*t)}function g(e,t){e.animate({opacity:0,marginTop:"100px"},F*t)}function v(){D.width(e(".nav-list-holder").offset().left+400)}function y(){X.delegate("li a","keydown",_)}function _(e){var t=e.target,n=e.which;if(39===n){if(b(t)){var i=A(t,"next");i&&(e.preventDefault(),i.focus())}else if(T(t)&&E(t)){var a=I(t);a.focus()}}else if(37===n)if(b(t)){var r=A(t,"prev");r&&(e.preventDefault(),r.focus())}else{var s=L(t);e.preventDefault(),s.focus()}else if(40===n)if(e.preventDefault(),b(t)){if(E(t)){var a=I(t);a.focus()}}else{var i=A(t,"next");i&&i.focus()}else if(38===n){if(e.preventDefault(),!b(t))if(C(t)&&S(t)){var s=L(t);s.focus()}else{var r=A(t,"prev");r.focus()}}else if(27===n){if(!b(t)){var s=L(t);e.preventDefault(),s.focus()}}else if(9===n&&e.shiftKey)b(t)&&C(t)&&X.trigger("mouseleave");else if(9===n){var i=A(t,"next");if(b(t))i&&(e.preventDefault(),i.focus());else if(e.preventDefault(),i)i.focus();else{var o=x(t);o.focus()}}}function b(t){var n=e(t);return n.is(".newnav > li > a")||n.is(".sub > ul > li > a")}function T(e){return!b(e)&&!k(e)}function k(t){return e(t).parents("[class*=tertiary]").length}function S(t){var n=e(t).parent(),i=n.parent();return!(w(t)&&!C(t)||!i.parent().is("[class^=col-]:first-child")&&(T(t)&&i.is(".nested-flat-list")||k(t)&&i.is(".col-list")))}function C(t){return e(t).parent().is(":first-child")}function w(t){return e(t).parent().is("[class^=col-]")}function E(t){return e(t).siblings("[class*=nested]:not(:empty)").length}function A(t,n){var i,a=(e(t),e(t.parentNode)),r=a.parent(),s=r.parent();if("next"===n)if(a.is(":last-child")&&(T(t)&&r.is(".nested-flat-list")||k(t)&&s.is("[class^=col-]")||b(t))){var o=s.next();i=o.children("a").length?o:o.find("ul > li")[0]}else i=a.next()[0];else i=!w(t)||S(t)||a.prev().children("a").length?a.is(":first-child")&&(T(t)&&r.is(".nested-flat-list")||k(t)&&r.is(".col-list")||b(t))?s.prev().find("> ul > li:last-child")[0]:a.prev()[0]:a.prev().find("ul > li:last-child")[0];var l=i&&e("a",i)[0];return l}function I(t){return e(t).siblings().find("a")[0]}function L(t){return e(t).closest("div[class*=nested]").siblings("a")[0]}function x(t){var n=e(t).closest("div[class*=nested]").parent(),i=n.next().find("a")[0];if(e(i).length)return i;if(T(t))var a=n.parent();else var a=n.closest("div[class*=nested]").parent();var r=a.next().find("a")[0];return e(r).length?r:a.parent().next().find("a")[0]}var P,O=e(".nav-background"),D=e(".nav-background2"),N=e(".menu-button-holder"),M=e(".nav-list-holder"),R=e(".nav-list > li"),B=(e(".nav-nested"),e('[data-btn="locations"]')),j=(e(".nav-nested > li"),e(".region .region-button")),U=e(".expand"),H=(e(".main-nav .nav-close"),e("#site-search")),F=100,z=1,K=!1,G=!1,V=!0,W=!1,q=!1,$=1130,Y=e(window),X=e(".new-desktop"),Q=60,J=116,Z=!1,ee=!1,te=!0,ne=!1;setInterval(function(){Y.scrollTop()>90&&te&&!Z&&Y.width()>1024&&a(),Y.scrollTop()<Q&&!te&&!ee&&i()},6),e(window).resize(v),e(".skiplinks").find("a").click(function(){var t=e("div.container"),n=t.find("button:visible:first");n.length||(n=t.find("a:visible:first")),n.focus()}),X.find("a").not('[data-linkloc*="header"]').attr("data-linkloc","header"),e(".nav-button-holder").on("mouseenter",function(){Y.width()>1022&&(te||i(),Z=te=!0)}),e(document).ready(function(){y()}),X.on("mouseleave",function(){Z=!1,P=setTimeout(function(){!Z&&Y.scrollTop()>Q?(ee=!0,a()):r()},300)}),X.on("mouseenter",function(){Z=!0,clearTimeout(P),ne||(s(),ne=!0)}),j.click(function(){j.hasClass("closed")?o():l()}),e(".region .region-menu").mouseleave(l);var ie=document.getElementById("magnifying-glass");ie.addEventListener("click",function(e){ie.disabled=!0;var t="I"===e.target.tagName?e.target:e.target.childNodes[0],n=document.getElementById("site-search");t.classList.contains("i-x")===!0&&(n.value=""),t.classList.toggle("i-x"),t.classList.toggle("i-search");var i=document.getElementById("initiate-search-icon"),a=document.getElementById("search-box");i.classList.toggle("hide"),i.classList.toggle("noBorder"),a.classList.toggle("noBorder"),a.style.height="60px",setTimeout(function(){ie.disabled=!1},500)}),e(".main-nav .search-icon").on("click",function(t){if(q===!1){var n=Y.width()<=$?0:e(".main-nav .search-box").width();!W&&n<=0?u():d()}return!1}),e(window).on("resize",function(){}),X.find("a").focus(function(){var i=e(this).closest("div").attr("class");e(".new-desktop .nested").length&&("top-level"!=i&&"sub"!=i||(t(e(this)),ne||(s(),ne=!0)),i.indexOf("nested")>-1&&n(e(this)))}),e(".new-desktop .nested").length&&X.find(".top-level > ul > li > a").on("mouseover",function(n){t(e(this))}),e(".new-desktop .tertiary-nested").length&&X.find(".nested >ul>li>a").on("mouseover",function(t){var i=e(this).closest("ul").attr("class");"col-list"!=i&&n(e(this))}),N.click(function(){K?(p(),K=!1,G=!1):(O.css({height:"0px"}),O.show(),O.animate({height:"100%"},200,f),D.css({height:"0px"}),D.show(),D.animate({height:"100%"},200,f),K=!0,e(".profile-menu").removeClass("show").css({width:"",height:""}),e(".login-signup-container").children("div").removeClass("show"),e(".scroll-arrow").css("z-index","998"))}),O.click(function(){p(),K=!1}),e("#login-mobile").click(function(t){t.preventDefault(),p(),K=!1,G=!1,e(".scroll-arrow").css("z-index","0")}),e("#signup-mobile").click(function(t){t.preventDefault(),p(),K=!1,G=!1,e(".scroll-arrow").css("z-index","0")}),B.on("click",function(t){t.preventDefault(),e(this).parent().next().find(".region-menu").slideToggle("fast"),Y.width()<=$&&(G?(e(".nav-list-holder").animate({scrollTop:"0px"},"2000"),G=!1):(e(".nav-list-holder").animate({scrollTop:"535px"},"200"),G=!0))}),U.click(function(t){var n=e(t.target).closest(".expand"),i=n.closest("li").find(".nav-nested");t.preventDefault(),n.hasClass("open")?(h(),n.removeClass("open")):(h(),i.slideDown(120),n.addClass("open"))})});t.default=r},function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=function(e){function t(t){e(".my-bnym .profile-drawer-list > li");t.addClass("active").siblings().removeClass("active")}function n(){e(".profile-menu").removeClass("show"),e(".shade").removeClass("open"),e(".login-button").removeClass("open")}function i(){m.hide(),e("#signup-contact").hide(),e("#signup-password").hide(),e("#signup-profile").hide(),e("#signup-finish").hide(),e(".email-login").css("display","none"),e(".forgot-password").css("display","none"),e(".confirm-reset").css("display","none"),e(".gated-drawer-container").hide();var t=location.search.split("?displaydemo=")[1];switch(t){case"authenticated":e(".login-signup-container").hide(),m.hide(),e('[data-ui="login-signup-mobi"]').hide(),e(".profile-menu").addClass("authenticated"),e(".profile-library-preview").hide(),e(".profile-library-preview-empty").show();break;case"authenticated-mylibrary":e(".login-signup-container").hide(),m.hide(),e('[data-ui="login-signup-mobi"]').hide(),e(".profile-menu").addClass("authenticated"),e(".profile-library-preview").show(),e(".profile-library-preview-empty").hide();break;case"signup-savearticle":e(".profile-drawer-container").hide(),e('[data-ui="profile-drawer-mobi"]').hide(),e(".login-signup-container").addClass("saved-state").show(),e("#signup-finish").addClass("saved-state"),e(".profile-library-preview").show(),e(".profile-library-preview-empty").hide();default:e(".profile-drawer-container").hide(),e('[data-ui="profile-drawer-mobi"]').hide(),"true"===m.attr("data-started")?e(".login-signup-container").hide():(m.hide(),e(".login-signup-container").show())}}function a(){e(".login-signup-container").hide(),m.hide(),e(".profile-drawer-container").show(),e('[data-ui="login-signup-mobi"]').hide(),e('[data-ui="profile-drawer-mobi"]').show()}function r(){e('[data-ui="login-signup-mobi"]').hide(),e('[data-ui="profile-drawer-mobi"]').show()}function s(t,n){t.preventDefault(),n.hasClass("open")?(n.removeClass("open"),e("body").removeClass("open"),e(".shade").removeClass("open"),e(".profile-menu").removeClass("show"),e(".shade").off("click.shade")):(n.addClass("open"),e("body").addClass("open"),e(".shade").addClass("open"),e(".profile-menu").addClass("show"),e(".shade").on("click.shade",function(){"block"===e(".gated-drawer-container").css("display")&&setTimeout(function(){e(".gated-drawer-container").hide(),e(".login-signup-container").show()},300),s(t,n)})),e(".region .region-button").hasClass("opened")&&(e(".region .region-menu").hide(),e(".region .region-button").addClass("closed").removeClass("opened"))}function o(){m.hide(),e("#signup-contact").hide(),e("#signup-password").hide(),e("#signup-profile").hide(),e("#signup-finish").hide(),e(".login-signup-container").hide(),e(".gated-drawer-container").show()}function l(){e(".gated-drawer-container").hide(),e(".login-signup-container").show()}function u(t,n){t.preventDefault();var i=n.attr("href"),a=i.split("step=")[1];if(void 0!=a)switch(a){case"validate-email":var s=e('[data-signup="email"]').find("input").val();p(s)?c("password"):(e('[data-signup="email"]').find(".error-msg").addClass("show"),e('[data-signup="email"]').find("input").addClass("error"));break;case"error-password":e("#accept-terms").is(":checked")?(e("#main-pw").find("small").html(""),e("#confirm-pw").find("input").addClass("error"),e("#confirm-pw").find("small").addClass("show"),n.attr("href","home.html?step=profile")):alert("Terms & Conditions must be accepted to create a profile.");break;case"finish":try{e("#signup-profile").find('input[type="checkbox"]')}catch(e){}var o=e("#"+a).parent().prev().find(".dot");if(o.css("cursor","pointer"),o.addClass("done"),c(a),e(".progress-indicator").hide(),m.attr("data-started",!1),r(),"function"==typeof window.history.pushState){var l=window.location.protocol+"//"+window.location.host+window.location.pathname+"?displaydemo=authenticated";window.history.pushState(null,null,l)}break;case"login-signup":m.hide(),e(".login-signup-container").fadeIn(200);break;default:var o=e("#"+a).parent().prev().find(".dot");e("#signup-contact").find("small").removeClass("show"),e('[data-signup="email"]').find("input").removeClass("error"),e(".password-inputs").find("small").removeClass("show"),e(".password-inputs").find(".password").removeClass("error"),o.css("cursor","pointer"),o.addClass("done"),c(a)}}function c(t){e(".progress-bar .dot").removeClass("active");var n=e(".progress-bar #progress-dot-"+t);n.addClass("active"),n.css("cursor","pointer"),n.addClass("done"),m.children("div").hide(),e(".progress-indicator").show(),e("#signup-"+t).fadeIn("slow")}function d(){setTimeout(function(){e(".profile-menu").css({height:window.innerHeight-60+"px",width:window.innerWidth+"px"}).addClass("show")},300)}function h(t){setTimeout(function(){e(".profile-menu").addClass("show"),t.addClass("show"),e(".profile-menu.show").css({height:window.innerHeight-60+"px",width:window.innerWidth+"px"})},300)}function f(){e(".login-signup-container").children().removeClass("show"),e(".profile-menu").removeClass("show"),setTimeout(function(){e(".profile-menu").css({height:"",width:""})},500)}function p(e){var t=/^(([^<>()[\]\\.,;:\s@\"]+(\.[^<>()[\]\\.,;:\s@\"]+)*)|(\".+\"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/;return t.test(e)}var m=e('[data-ui="signup-form"]');i(),e(".link-gated").click(function(t){var n=1130;t.preventDefault(),o(),e(window).width()<=n?d():s(t,e(".login-button"))}),e('[data-btn="gated-enter-btn"]').click(function(e){e.preventDefault(),l()}),e('[data-btn="gated-signup-btn"]').click(function(t){t.preventDefault(),e(".login-signup-container .signup").addClass("show"),l()}),e('[data-btn="gated-login-btn"]').click(function(t){t.preventDefault(),e(".login-signup-container .login").addClass("show"),l()}),e('[data-btn="gated-close-btn"]').click(function(t){t.preventDefault();var n=1130;e(window).width()<=n?f():(s(t,e(".login-button")),setTimeout(l,300))}),e(".login-button").click(function(t){s(t,e(this))}),e('.my-bnym [data-ui="profile-2-nav"]').mouseover(function(n){t(e(this))}),e('.my-bnym [data-ui="confirm-logout"]').mouseover(function(t){t.preventDefault(),e(this).parent("li").addClass("active").siblings().removeClass("active")}),e('.my-bnym [data-btn="logout-btn"]').click(function(t){t.preventDefault(),s(t,e(".login-button"))}),e('.my-bnym [data-btn="cancel-logout-btn"]').click(function(t){t.preventDefault(),e('.profile-drawer-list > [data-ui="profile-2-nav"]').first().addClass("active").siblings().removeClass("active")}),e('[data-btn="logout-mobile-btn"]').click(function(e){confirm("Are you sure you want to logout?")||e.preventDefault()}),e("#login-mobile").click(function(t){var n=e(".login-signup-container").children(".login");h(n)}),e("#signup-mobile").click(function(t){var n=e(".login-signup-container").children(".signup");h(n)}),e(".my-bnym").find(".links").find("a").click(function(e){e.preventDefault()}),m.find(".progress-bar .dot").click(function(t){var n=e(this).attr("id");n=n.split("progress-dot-")[1],e(this).hasClass("done")&&c(n)}),e(".region").find("a:first").focus(n),e('.my-bnym [data-ui="profile-2-nav"]').find("> a").focus(function(){t(e(this).parent())});var g=!1;e(".login").find(".btn-primary.email").click(function(t){e(".email-login").find(".password").removeClass("error"),e(".email-login").find(".error-msg").removeClass("show"),e(".login").children(".links").hide(),e(".email-login").fadeIn(300,function(){var t=e(this);e(this).find(".btn-primary.login").click(function(n){if(n.preventDefault(),g){if("function"==typeof window.history.pushState){var i=window.location.protocol+"//"+window.location.host+window.location.pathname+"?displaydemo=authenticated";window.history.pushState(null,null,i)}a();var r=1130;e(window).width()<=r&&f()}else t.find('[data-login="pwd"] .error-msg').addClass("show"),t.find(".password").addClass("error"),g=!0}),e(this).find(".forgot-pw").click(function(t){t.preventDefault(),e(".email-login").hide(),e(".forgot-password").fadeIn(300,function(t){e(this).find(".btn-primary.request").click(function(t){t.preventDefault(),e(".forgot-password").hide(),e(".confirm-reset").fadeIn(300)})})})})}),e(".email-login").find(".back").click(function(t){t.preventDefault(),g=!1,e(".email-login").hide(),e(".login").children(".links").fadeIn(200)}),e(".forgot-password").find(".back").click(function(t){t.preventDefault(),g=!1,e(".forgot-password").hide(),e(".email-login").fadeIn(200)}),e(".confirm-reset").find(".back").click(function(t){t.preventDefault(),g=!1,e(".confirm-reset").hide(),e(".login").children(".links").fadeIn(200)}),e(".btn-primary.linkedin").click(function(t){if(t.preventDefault(),"function"==typeof window.history.pushState){var n=window.location.protocol+"//"+window.location.host+window.location.pathname+"?displaydemo=authenticated";window.history.pushState(null,null,n)}a();var i=1130;e(window).width()<=i&&f()}),e(".signup").find(".btn-primary.create-profile").click(function(t){e(".login-signup-container").hide(),m.fadeIn(300).attr("data-started",!0)}),e(".signup").find(".btn-primary.email").click(function(t){e(".email-login").find(".password").removeClass("error"),e(".email-login").find(".error-msg").removeClass("show"),e(".login-signup-container").hide(),m.fadeIn(300).attr("data-started",!0)}),e(".signup").find(".btn-primary.email").click(function(t){e(".email-login").find(".password").removeClass("error"),e(".email-login").find(".error-msg").removeClass("show"),e(".login-signup-container").hide(),m.fadeIn(300).attr("data-started",!0)});var v=e("#signup-profile").find(".toggle-list li");v.find('input[type="checkbox"]');v.on("change",function(t){var n=e("#signup-profile").find(".btn-primary.save"),i=v.find('input[type="checkbox"]:checked').length;i>0?n.hasClass("disabled")&&n.removeClass("disabled"):n.addClass("disabled")}),e(".signup-exit").click(function(t){t.preventDefault(),a();var n=1130;e(window).width()<=n?f():s(t,e(".login-button"))}),e(".profile-menu").find(".btn-primary.step").click(function(t){t.preventDefault(),e(t.currentTarget).hasClass("disabled")||u(t,e(this));
}),e(".profile-menu").find(".step.back").click(function(t){u(t,e(this))}),e(".profile-menu").find(".skip").click(function(t){u(t,e(this))}),e("#main-pw").find(".password").keyup(function(){var t=e(this).val().toString(),n=/^(?=.*[0-9])(?=.*[A-Z])(?=.*[!@#$%^&*])[a-zA-Z0-9\.!@#$%^&*]{8,24}$/;n.test(t)?(e("#main-pw").find(".pw-progress").css({backgroundColor:"#36a738",width:"40px"}),e("#main-pw").find(".error-msg").removeClass("show")):(e("#main-pw").find(".pw-progress").css({backgroundColor:"#d53f1e",width:"40px"}),e("#main-pw").find(".error-msg").addClass("show"),e("#main-pw").find(".error-msg").html("Must be at least 8 characters and contain a number, a capital letter, and a special character (!@#$%^&)"))})};t.default=n},function(e,t,n){(function(e){"use strict";function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},a=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),r=function(e){var t="smalllibrary",r="bny.smalllibrary",s="."+r,o=e.fn[t],l={CLICK:"click"+s},u={HIDDEN:"hidden-xs-up",ACTIVE:"active"},c={COMPONENT:'[data-ui="small-library"]',FRONT_PANE:'[data-ui="front"]',DELETE_PANE:'[data-menu="delete"]',SHARE_PANE:'[data-menu="share"]',SHARE_BUTTON:'[data-btn="library-share"]',DELETE_BUTTON:'[data-btn="library-delete"]',CANCEL_BUTTON:'[data-btn="library-cancel"]',REMOVE_BUTTON:'[data-btn="library-remove"]'},d=function(){function t(e,i){n(this,t),this._element=e}return a(t,[{key:"share",value:function(t){var n=e(t.target).closest(c.COMPONENT),i=n.find(c.FRONT_PANE),a=n.find(c.SHARE_PANE);i.addClass(u.HIDDEN),a.removeClass(u.HIDDEN)}},{key:"delete",value:function(t){var n=e(t.target).closest(c.COMPONENT),i=n.find(c.FRONT_PANE),a=n.find(c.DELETE_PANE);i.addClass(u.HIDDEN),a.removeClass(u.HIDDEN)}},{key:"remove",value:function(t){var n=e(t.target).closest(c.COMPONENT),i=n.find(c.FRONT_PANE),a=n.find(c.DELETE_PANE);i.addClass(u.HIDDEN),a.removeClass(u.HIDDEN)}},{key:"cancel",value:function(t){var n=e(t.target).closest(c.COMPONENT),i=n.find(c.FRONT_PANE),a=e(t.target).closest(".menu-content");a.addClass(u.HIDDEN),i.removeClass(u.HIDDEN)}},{key:"dispose",value:function(){e.removeData(this._element,r),e(this._element).off(s),this._element=null}}],[{key:"_jQueryInterface",value:function(n,a){return this.each(function(){var s=e(this).data(r),o=e.extend({},t.Default,e(this).data(),"object"===("undefined"==typeof n?"undefined":i(n))&&n);if(s||(s=new t(this,o),e(this).data(r,s)),"string"==typeof n){if(void 0===s[n])throw new Error('No method named "'+n+'"');s[n](a)}else o.show&&s.show(a)})}}]),t}();return e(document).on(l.CLICK,c.SHARE_BUTTON,d.prototype.share).on(l.CLICK,c.DELETE_BUTTON,d.prototype.delete).on(l.CLICK,c.CANCEL_BUTTON,d.prototype.cancel),e.fn[t]=d._jQueryInterface,e.fn[t].Constructor=d,e.fn[t].noConflict=function(){return e.fn[t]=o,d._jQueryInterface},d}(e);t.default=r}).call(t,n(2))},function(e,t,n){(function(e){"use strict";function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},a=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),r=function(e){var t="TopTabPanesRegions",r="bny.TopTabPanesRegions",s="."+r,o=".data-api",l=e.fn[t],u={},c={LOAD:"load"+s,CLICK:"click"+s,CLICK_DATA_API:"click"+s+o},d={COMPONENT:".top-tab-panes.regions",TABITEM:".top-tab-panes.regions .tab-item",TABPANE:".top-tab-panes.regions .tab-pane",ACTIVEPANE:".top-tab-panes.regions .active .tab-pane"},h=function(){function t(e,i){n(this,t),this._element=e,this.init()}return a(t,[{key:"init",value:function(){t.prototype.adjustHeight()}},{key:"tabclick",value:function(n){if(e(window).width()<768){var i=e(n.target).closest(d.TABITEM),a=parseInt(i.css("height"),10),r=i.offset().top-a;e("body, html").animate({scrollTop:r},500)}return t.prototype.adjustHeight(),!1}},{key:"adjustHeight",value:function(){function t(){var e=window,t="inner";return"innerWidth"in window||(t="client",e=document.documentElement||document.body),{width:e[t+"Width"],height:e[t+"Height"]}}var n=e(d.ACTIVEPANE),i=t().width;if(i<768)n.closest(d.COMPONENT).css("margin-bottom",0);else{var a=parseInt(n.css("height"),10);n.closest(d.COMPONENT).css("margin-bottom",a)}}},{key:"dispose",value:function(){e.removeData(this._element,r),e(this._element).off(s),this._element=null}}],[{key:"_jQueryInterface",value:function(n,a){return this.each(function(){var s=e(this).data(r),o=e.extend({},t.Default,e(this).data(),"object"===("undefined"==typeof n?"undefined":i(n))&&n);if(s||(s=new t(this,o),e(this).data(r,s)),"string"==typeof n){if(void 0===s[n])throw new Error('No method named "'+n+'"');s[n](a)}else o.show&&s.show(a)})}},{key:"Default",get:function(){return u}}]),t}();return e(function(){var t=e(d.COMPONENT);h._jQueryInterface.call(t,t.data())}),e(document).on(c.CLICK,d.TABITEM,h.prototype.tabclick),e(window).resize(h.prototype.adjustHeight),e.fn[t]=h._jQueryInterface,e.fn[t].Constructor=h,e.fn[t].noConflict=function(){return e.fn[t]=l,h._jQueryInterface},h}(e);t.default=r}).call(t,n(2))}]);
//# sourceMappingURL=bundle.js.map