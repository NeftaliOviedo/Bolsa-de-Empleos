function HeroAnimation(){function a(){o(),f.show(),e()}function e(){0!==p?t(x,n):i()}function n(){p--,0===p&&i()}function i(){c.canPlay=!0,s(),c.play()}function t(a,e){for(var n=0;n<a.length;n++){var i=$(a[n]);$("<img/>").load(function(){e()}).error(function(){}).attr("src",i.attr("src"))}}function o(){l(),$(window).resize(function(){l(),r()})}function s(){$(window).scroll(function(){r()})}function r(){u(f)&&c.canPlay?c.play():c.pause()}function l(){TweenMax.set(f,{scale:h(),transformOrigin:"top left"})}function u(a){return $(a).visible(!0)}function h(){var a=g.width()/y;return a}var c=this,m=$(".hero"),g=(m.find(".animation-container:first"),m.find("img:first")),f=m.find(".animation:first"),y=f.width(),x=f.find("img"),p=x.length;this.canPlay=!1,this.isPlaying=!1,this.createAnimationComplete=function(){t([g],a)},this.play=function(){c.isPlaying=!0},this.pause=function(){c.isPlaying=!1}}function checkForHeroAnimationFeatures(){return Modernizr.opacity&&Modernizr.csstransforms&&Modernizr.inlinesvg&&Modernizr.svgclippaths?!0:!1}function HeroAnimationWhoWeAre(){function a(){e(),r(),n(),TweenMax.set([M,P],{z:.01}),TweenMax.set([y,w,d,C],{rotationZ:.01}),g.createAnimationComplete()}function e(){TweenMax.set(x,{scaleX:-1,transformOrigin:"100% 0%"});var a=20,e=2,n=10;p=new TimelineMax({paused:!0,repeat:-1,yoyo:!0,repeatDelay:n}),p.addLabel("eu").addCallback(function(){O=!0,null==b&&u()}).to(y,a,{scale:.5,transformOrigin:"50% 0%",ease:Quad.easeInOut},"eu+="+e).to(w,a,{x:-708,y:150,ease:Quad.easeIn},"eu+="+e).to(M,a,{autoAlpha:0,ease:Cubic.easeIn},"eu+="+e).to(d,1*a,{x:-200,y:-20,rotation:1,ease:Expo.easeIn},"eu+="+(e+0*a)).to(d,.2*a,{autoAlpha:0,ease:Cubic.easeIn},"eu+="+(e+.8*a)).from(f,.8*a,{autoAlpha:0,ease:Cubic.easeIn},"eu+="+(e+.2*a)).addCallback(function(){O=!0,h(),Q=!1,s()}).addLabel("us").addCallback(function(){O=!1,c(),null==I&&t(),Q=!0,o()}).to(f,.8*a,{autoAlpha:0,ease:Cubic.easeOut},"us").from(C,.2*a,{autoAlpha:0,ease:Cubic.easeOut},"us").from(P,a,{autoAlpha:0,ease:Cubic.easeOut},"us").from(C,.8*a,{x:200,y:-10,rotation:-1,ease:Expo.easeOut},"us").to(w,a,{x:-1334,y:0,ease:Quad.easeOut},"us").to(y,a,{scale:1,transformOrigin:"50% 0%",ease:Quad.easeInOut},"us"),p.progress(0)}function n(){for(var a="<img class='animation-light-big light-us' src='/us/en/_locale-assets/animation/img/who-we-are/light-big.png'/>",e=0;e<_.length-1;e++)H.append(a);$(".animation-light-big.light-us").each(function(a){var e=Math.round(Math.random());0==e&&TweenMax.set($(this),{autoAlpha:0}),TweenMax.set($(this),{x:_[a].x,y:_[a].y}),k.push($(this))});for(var n="<img class='animation-light-small light-us' src='/us/en/_locale-assets/animation/img/who-we-are/light-small.png'/>",e=0;e<E.length-1;e++)H.append(n);$(".animation-light-small.light-us").each(function(a){var e=Math.round(Math.random());0==e&&TweenMax.set($(this),{autoAlpha:0}),TweenMax.set($(this),{x:E[a].x,y:E[a].y}),k.push($(this))})}function i(){z>k.length-1&&(z=0),0==z&&(k=m(k));var a=k[z];z++;var e=null,n=.65;e=1==a.css("opacity")?0:1,TweenMax.to(a,n,{autoAlpha:e,ease:Quad.easeOut}),t()}function t(){var a=.35*Math.random();I=TweenMax.delayedCall(a,i)}function o(){null!=I&&I.resume()}function s(){null!=I&&I.pause()}function r(){for(var a="<img class='animation-light-big light-eu' src='/us/en/_locale-assets/animation/img/who-we-are/light-big.png'/>",e=0;e<W.length-1;e++)v.append(a);$(".animation-light-big.light-eu").each(function(a){var e=Math.round(Math.random());0==e&&TweenMax.set($(this),{autoAlpha:0}),TweenMax.set($(this),{x:W[a].x,y:W[a].y}),A.push($(this))});for(var n="<img class='animation-light-small light-eu' src='/us/en/_locale-assets/animation/img/who-we-are/light-small.png'/>",e=0;e<F.length-1;e++)v.append(n);$(".animation-light-small.light-eu").each(function(a){var e=Math.round(Math.random());0==e&&TweenMax.set($(this),{autoAlpha:0}),TweenMax.set($(this),{x:F[a].x,y:F[a].y}),A.push($(this))})}function l(){T>A.length-1&&(T=0),0==T&&(A=m(A));var a=A[T];T++;var e=null,n=.65;e=1==a.css("opacity")?0:1,TweenMax.to(a,n,{autoAlpha:e,ease:Quad.easeOut}),u()}function u(){var a=.15*Math.random();b=TweenMax.delayedCall(a,l)}function h(){null!=b&&b.resume()}function c(){null!=b&&b.pause()}function m(a){for(var e,n,i=a.length;0!==i;)n=Math.floor(Math.random()*i),i-=1,e=a[i],a[i]=a[n],a[n]=e;return a}HeroAnimation.call(this);var g=this,f=$("#animation-who-we-are-glow"),y=$("#animation-who-we-are-earth"),x=($("#animation-who-we-are-earth-left"),$("#animation-who-we-are-earth-right")),p=null,w=$("#animation-who-we-are-shadow-image"),d=$("#animation-who-we-are-lights-europe"),M=$("#animation-who-we-are-lights-europe-image"),v=$("#animation-who-we-are-lights-europe-flicker"),A=[],b=null,T=0,O=!1,C=$("#animation-who-we-are-lights-us"),P=$("#animation-who-we-are-lights-us-image"),H=$("#animation-who-we-are-lights-us-flicker"),k=[],I=null,z=0,Q=!1,W=[{x:447,y:147},{x:517,y:66},{x:535,y:425},{x:589,y:280},{x:237,y:169},{x:313,y:109},{x:141,y:147}],F=[{x:379,y:246},{x:42,y:195},{x:793,y:204},{x:726,y:339},{x:396,y:288},{x:488,y:110},{x:334,y:22},{x:204,y:30}],_=[{x:308,y:181},{x:316,y:130},{x:263,y:235},{x:197,y:118},{x:460,y:128},{x:423,y:168},{x:259,y:182}],E=[{x:144,y:59},{x:304,y:37},{x:135,y:317},{x:126,y:164},{x:309,y:68},{x:29,y:203},{x:63,y:239},{x:222,y:114}];this.play=function(){TweenMax.set($(".hero").find("img:first"),{visibility:"hidden"}),g.isPlaying||(g.isPlaying=!0,p.play(),1==O&&h(),1==Q&&o())},this.pause=function(){g.isPlaying&&(g.isPlaying=!1,p.pause(),c(),s())},a()}$(document).ready(function(){if(checkForHeroAnimationFeatures()){HeroAnimationWhoWeAre.prototype=Object.create(HeroAnimation.prototype);{new HeroAnimationWhoWeAre}}});